(()=>{var dg=Object.create;var Cs=Object.defineProperty,pg=Object.defineProperties,yg=Object.getOwnPropertyDescriptor,gg=Object.getOwnPropertyDescriptors,mg=Object.getOwnPropertyNames,Go=Object.getOwnPropertySymbols,bg=Object.getPrototypeOf,wc=Object.prototype.hasOwnProperty,Ah=Object.prototype.propertyIsEnumerable;var bc=(r,e,t)=>e in r?Cs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ue=(r,e)=>{for(var t in e||(e={}))wc.call(e,t)&&bc(r,t,e[t]);if(Go)for(var t of Go(e))Ah.call(e,t)&&bc(r,t,e[t]);return r},Kt=(r,e)=>pg(r,gg(e));var vc=(r,e)=>{var t={};for(var n in r)wc.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Go)for(var n of Go(r))e.indexOf(n)<0&&Ah.call(r,n)&&(t[n]=r[n]);return t};var er=(r,e)=>()=>(r&&(e=r(r=0)),e);var ce=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Eh=(r,e)=>{for(var t in e)Cs(r,t,{get:e[t],enumerable:!0})},_h=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mg(e))!wc.call(r,i)&&i!==t&&Cs(r,i,{get:()=>e[i],enumerable:!(n=yg(e,i))||n.enumerable});return r};var ze=(r,e,t)=>(t=r!=null?dg(bg(r)):{},_h(e||!r||!r.__esModule?Cs(t,"default",{value:r,enumerable:!0}):t,r)),Yo=r=>_h(Cs({},"__esModule",{value:!0}),r);var Mr=(r,e,t)=>(bc(r,typeof e!="symbol"?e+"":e,t),t),Lh=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var gn=(r,e,t)=>(Lh(r,e,"read from private field"),t?t.call(r):e.get(r)),Zo=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Li=(r,e,t,n)=>(Lh(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Rh=(r,e,t,n)=>({set _(i){Li(r,e,i,t)},get _(){return gn(r,e,n)}});var xc=ce(Jo=>{"use strict";Jo.byteLength=Sg;Jo.toByteArray=Ig;Jo.fromByteArray=Eg;var Or=[],yr=[],kg=typeof Uint8Array<"u"?Uint8Array:Array,Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ni=0,Ph=Sc.length;ni<Ph;++ni)Or[ni]=Sc[ni],yr[Sc.charCodeAt(ni)]=ni;var ni,Ph;yr["-".charCodeAt(0)]=62;yr["_".charCodeAt(0)]=63;function Ch(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Sg(r){var e=Ch(r),t=e[0],n=e[1];return(t+n)*3/4-n}function xg(r,e,t){return(e+t)*3/4-t}function Ig(r){var e,t=Ch(r),n=t[0],i=t[1],s=new kg(xg(r,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=yr[r.charCodeAt(u)]<<18|yr[r.charCodeAt(u+1)]<<12|yr[r.charCodeAt(u+2)]<<6|yr[r.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=yr[r.charCodeAt(u)]<<2|yr[r.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=yr[r.charCodeAt(u)]<<10|yr[r.charCodeAt(u+1)]<<4|yr[r.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Bg(r){return Or[r>>18&63]+Or[r>>12&63]+Or[r>>6&63]+Or[r&63]}function Ag(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(Bg(n));return i.join("")}function Eg(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,a=t-n;o<a;o+=s)i.push(Ag(r,o,o+s>a?a:o+s));return n===1?(e=r[t-1],i.push(Or[e>>2]+Or[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Or[e>>10]+Or[e>>4&63]+Or[e<<2&63]+"=")),i.join("")}});var Bc=ce(Ic=>{Ic.read=function(r,e,t,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,f=u>>1,y=-7,p=t?i-1:0,I=t?-1:1,k=r[e+p];for(p+=I,s=k&(1<<-y)-1,k>>=-y,y+=a;y>0;s=s*256+r[e+p],p+=I,y-=8);for(o=s&(1<<-y)-1,s>>=-y,y+=n;y>0;o=o*256+r[e+p],p+=I,y-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(k?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(k?-1:1)*o*Math.pow(2,s-n)};Ic.write=function(r,e,t,n,i,s){var o,a,u,f=s*8-i-1,y=(1<<f)-1,p=y>>1,I=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:s-1,E=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=y):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=I/u:e+=I*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=y?(a=0,o=y):o+p>=1?(a=(e*u-1)*Math.pow(2,i),o=o+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;r[t+k]=a&255,k+=E,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;r[t+k]=o&255,k+=E,o/=256,f-=8);r[t+k-E]|=A*128}});var Zh=ce(Ci=>{"use strict";var Ac=xc(),Ti=Bc(),Mh=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ci.Buffer=q;Ci.SlowBuffer=Cg;Ci.INSPECT_MAX_BYTES=50;var Qo=2147483647;Ci.kMaxLength=Qo;q.TYPED_ARRAY_SUPPORT=_g();!q.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _g(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(q.prototype,"parent",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.buffer}});Object.defineProperty(q.prototype,"offset",{enumerable:!0,get:function(){if(!!q.isBuffer(this))return this.byteOffset}});function Vr(r){if(r>Qo)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,q.prototype),e}function q(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Rc(r)}return zh(r,e,t)}q.poolSize=8192;function zh(r,e,t){if(typeof r=="string")return Rg(r,e);if(ArrayBuffer.isView(r))return Tg(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Nr(r,ArrayBuffer)||r&&Nr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Nr(r,SharedArrayBuffer)||r&&Nr(r.buffer,SharedArrayBuffer)))return _c(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return q.from(n,e,t);let i=Pg(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return q.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}q.from=function(r,e,t){return zh(r,e,t)};Object.setPrototypeOf(q.prototype,Uint8Array.prototype);Object.setPrototypeOf(q,Uint8Array);function Dh(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Lg(r,e,t){return Dh(r),r<=0?Vr(r):e!==void 0?typeof t=="string"?Vr(r).fill(e,t):Vr(r).fill(e):Vr(r)}q.alloc=function(r,e,t){return Lg(r,e,t)};function Rc(r){return Dh(r),Vr(r<0?0:Tc(r)|0)}q.allocUnsafe=function(r){return Rc(r)};q.allocUnsafeSlow=function(r){return Rc(r)};function Rg(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!q.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Wh(r,e)|0,n=Vr(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function Ec(r){let e=r.length<0?0:Tc(r.length)|0,t=Vr(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function Tg(r){if(Nr(r,Uint8Array)){let e=new Uint8Array(r);return _c(e.buffer,e.byteOffset,e.byteLength)}return Ec(r)}function _c(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,q.prototype),n}function Pg(r){if(q.isBuffer(r)){let e=Tc(r.length)|0,t=Vr(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Cc(r.length)?Vr(0):Ec(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Ec(r.data)}function Tc(r){if(r>=Qo)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qo.toString(16)+" bytes");return r|0}function Cg(r){return+r!=r&&(r=0),q.alloc(+r)}q.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==q.prototype};q.compare=function(e,t){if(Nr(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),Nr(t,Uint8Array)&&(t=q.from(t,t.offset,t.byteLength)),!q.isBuffer(e)||!q.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0};q.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};q.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return q.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=q.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let o=e[n];if(Nr(o,Uint8Array))s+o.length>i.length?(q.isBuffer(o)||(o=q.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(q.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function Wh(r,e){if(q.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Nr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Lc(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Yh(r).length;default:if(i)return n?-1:Lc(r).length;e=(""+e).toLowerCase(),i=!0}}q.byteLength=Wh;function Mg(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Hg(this,e,t);case"utf8":case"utf-8":return Fh(this,e,t);case"ascii":return Fg(this,e,t);case"latin1":case"binary":return qg(this,e,t);case"base64":return Wg(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jg(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}q.prototype._isBuffer=!0;function ii(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}q.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)ii(this,t,t+1);return this};q.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)ii(this,t,t+3),ii(this,t+1,t+2);return this};q.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)ii(this,t,t+7),ii(this,t+1,t+6),ii(this,t+2,t+5),ii(this,t+3,t+4);return this};q.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Fh(this,0,e):Mg.apply(this,arguments)};q.prototype.toLocaleString=q.prototype.toString;q.prototype.equals=function(e){if(!q.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:q.compare(this,e)===0};q.prototype.inspect=function(){let e="",t=Ci.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Mh&&(q.prototype[Mh]=q.prototype.inspect);q.prototype.compare=function(e,t,n,i,s){if(Nr(e,Uint8Array)&&(e=q.from(e,e.offset,e.byteLength)),!q.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-t,u=Math.min(o,a),f=this.slice(i,s),y=e.slice(t,n);for(let p=0;p<u;++p)if(f[p]!==y[p]){o=f[p],a=y[p];break}return o<a?-1:a<o?1:0};function Kh(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Cc(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=q.from(e,n)),q.isBuffer(e))return e.length===0?-1:Oh(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Oh(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Oh(r,e,t,n,i){let s=1,o=r.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function u(y,p){return s===1?y[p]:y.readUInt16BE(p*s)}let f;if(i){let y=-1;for(f=t;f<o;f++)if(u(r,f)===u(e,y===-1?0:f-y)){if(y===-1&&(y=f),f-y+1===a)return y*s}else y!==-1&&(f-=f-y),y=-1}else for(t+a>o&&(t=o-a),f=t;f>=0;f--){let y=!0;for(let p=0;p<a;p++)if(u(r,f+p)!==u(e,p)){y=!1;break}if(y)return f}return-1}q.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};q.prototype.indexOf=function(e,t,n){return Kh(this,e,t,n,!0)};q.prototype.lastIndexOf=function(e,t,n){return Kh(this,e,t,n,!1)};function Og(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(Cc(a))return o;r[t+o]=a}return o}function Ng(r,e,t,n){return ea(Lc(e,r.length-t),r,t,n)}function Ug(r,e,t,n){return ea(Yg(e),r,t,n)}function zg(r,e,t,n){return ea(Yh(e),r,t,n)}function Dg(r,e,t,n){return ea(Zg(e,r.length-t),r,t,n)}q.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Og(this,e,t,n);case"utf8":case"utf-8":return Ng(this,e,t,n);case"ascii":case"latin1":case"binary":return Ug(this,e,t,n);case"base64":return zg(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dg(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Wg(r,e,t){return e===0&&t===r.length?Ac.fromByteArray(r):Ac.fromByteArray(r.slice(e,t))}function Fh(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=t){let u,f,y,p;switch(a){case 1:s<128&&(o=s);break;case 2:u=r[i+1],(u&192)===128&&(p=(s&31)<<6|u&63,p>127&&(o=p));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(p=(s&15)<<12|(u&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(o=p));break;case 4:u=r[i+1],f=r[i+2],y=r[i+3],(u&192)===128&&(f&192)===128&&(y&192)===128&&(p=(s&15)<<18|(u&63)<<12|(f&63)<<6|y&63,p>65535&&p<1114112&&(o=p))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return Kg(n)}var Nh=4096;function Kg(r){let e=r.length;if(e<=Nh)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Nh));return t}function Fg(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function qg(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Hg(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let s=e;s<t;++s)i+=Xg[r[s]];return i}function jg(r,e,t){let n=r.slice(e,t),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}q.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,q.prototype),i};function Ut(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}q.prototype.readUintLE=q.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Ut(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i};q.prototype.readUintBE=q.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Ut(e,t,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i};q.prototype.readUint8=q.prototype.readUInt8=function(e,t){return e=e>>>0,t||Ut(e,1,this.length),this[e]};q.prototype.readUint16LE=q.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Ut(e,2,this.length),this[e]|this[e+1]<<8};q.prototype.readUint16BE=q.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Ut(e,2,this.length),this[e]<<8|this[e+1]};q.prototype.readUint32LE=q.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Ut(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};q.prototype.readUint32BE=q.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Ut(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};q.prototype.readBigUInt64LE=mn(function(e){e=e>>>0,Pi(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ms(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});q.prototype.readBigUInt64BE=mn(function(e){e=e>>>0,Pi(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ms(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});q.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Ut(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};q.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Ut(e,t,this.length);let i=t,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};q.prototype.readInt8=function(e,t){return e=e>>>0,t||Ut(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};q.prototype.readInt16LE=function(e,t){e=e>>>0,t||Ut(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};q.prototype.readInt16BE=function(e,t){e=e>>>0,t||Ut(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};q.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Ut(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};q.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Ut(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};q.prototype.readBigInt64LE=mn(function(e){e=e>>>0,Pi(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ms(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});q.prototype.readBigInt64BE=mn(function(e){e=e>>>0,Pi(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ms(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});q.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Ut(e,4,this.length),Ti.read(this,e,!0,23,4)};q.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Ut(e,4,this.length),Ti.read(this,e,!1,23,4)};q.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Ut(e,8,this.length),Ti.read(this,e,!0,52,8)};q.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Ut(e,8,this.length),Ti.read(this,e,!1,52,8)};function nr(r,e,t,n,i,s){if(!q.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}q.prototype.writeUintLE=q.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;nr(this,e,t,n,a,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n};q.prototype.writeUintBE=q.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;nr(this,e,t,n,a,0)}let s=n-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n};q.prototype.writeUint8=q.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,1,255,0),this[t]=e&255,t+1};q.prototype.writeUint16LE=q.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeUint16BE=q.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeUint32LE=q.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};q.prototype.writeUint32BE=q.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function qh(r,e,t,n,i){Gh(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function Hh(r,e,t,n,i){Gh(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}q.prototype.writeBigUInt64LE=mn(function(e,t=0){return qh(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeBigUInt64BE=mn(function(e,t=0){return Hh(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});q.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);nr(this,e,t,n,u-1,-u)}let s=0,o=1,a=0;for(this[t]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n};q.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);nr(this,e,t,n,u-1,-u)}let s=n-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n};q.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};q.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};q.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};q.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};q.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||nr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};q.prototype.writeBigInt64LE=mn(function(e,t=0){return qh(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});q.prototype.writeBigInt64BE=mn(function(e,t=0){return Hh(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function jh(r,e,t,n,i,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function $h(r,e,t,n,i){return e=+e,t=t>>>0,i||jh(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ti.write(r,e,t,n,23,4),t+4}q.prototype.writeFloatLE=function(e,t,n){return $h(this,e,t,!0,n)};q.prototype.writeFloatBE=function(e,t,n){return $h(this,e,t,!1,n)};function Vh(r,e,t,n,i){return e=+e,t=t>>>0,i||jh(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ti.write(r,e,t,n,52,8),t+8}q.prototype.writeDoubleLE=function(e,t,n){return Vh(this,e,t,!0,n)};q.prototype.writeDoubleBE=function(e,t,n){return Vh(this,e,t,!1,n)};q.prototype.copy=function(e,t,n,i){if(!q.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),s};q.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!q.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let o=q.isBuffer(e)?e:q.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var Ri={};function Pc(r,e,t){Ri[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Pc("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Pc("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Pc("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=Uh(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=Uh(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Uh(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function $g(r,e,t){Pi(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ms(e,r.length-(t+1))}function Gh(r,e,t,n,i,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new Ri.ERR_OUT_OF_RANGE("value",a,r)}$g(n,i,s)}function Pi(r,e){if(typeof r!="number")throw new Ri.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ms(r,e,t){throw Math.floor(r)!==r?(Pi(r,t),new Ri.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Ri.ERR_BUFFER_OUT_OF_BOUNDS:new Ri.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var Vg=/[^+/0-9A-Za-z-_]/g;function Gg(r){if(r=r.split("=")[0],r=r.trim().replace(Vg,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Lc(r,e){e=e||1/0;let t,n=r.length,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Yg(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Zg(r,e){let t,n,i,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,s.push(i),s.push(n);return s}function Yh(r){return Ac.toByteArray(Gg(r))}function ea(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Nr(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Cc(r){return r!==r}var Xg=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function mn(r){return typeof BigInt>"u"?Jg:r}function Jg(){throw new Error("BigInt not supported")}});var Dc=ce(()=>{});var ld=ce(()=>{});var ua=ce((hd,Vc)=>{(function(r,e){"use strict";function t(v,c){if(!v)throw new Error(c||"Assertion failed")}function n(v,c){v.super_=c;var l=function(){};l.prototype=c.prototype,v.prototype=new l,v.prototype.constructor=v}function i(v,c,l){if(i.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((c==="le"||c==="be")&&(l=c,c=10),this._init(v||0,c||10,l||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ld().Buffer}catch(v){}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,l){return c.cmp(l)>0?c:l},i.min=function(c,l){return c.cmp(l)<0?c:l},i.prototype._init=function(c,l,d){if(typeof c=="number")return this._initNumber(c,l,d);if(typeof c=="object")return this._initArray(c,l,d);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),c=c.toString().replace(/\s+/g,"");var g=0;c[0]==="-"&&(g++,this.negative=1),g<c.length&&(l===16?this._parseHex(c,g,d):(this._parseBase(c,l,g),d==="le"&&this._initArray(this.toArray(),l,d)))},i.prototype._initNumber=function(c,l,d){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(t(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),l,d)},i.prototype._initArray=function(c,l,d){if(t(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,w,B=0;if(d==="be")for(g=c.length-1,m=0;g>=0;g-=3)w=c[g]|c[g-1]<<8|c[g-2]<<16,this.words[m]|=w<<B&67108863,this.words[m+1]=w>>>26-B&67108863,B+=24,B>=26&&(B-=26,m++);else if(d==="le")for(g=0,m=0;g<c.length;g+=3)w=c[g]|c[g+1]<<8|c[g+2]<<16,this.words[m]|=w<<B&67108863,this.words[m+1]=w>>>26-B&67108863,B+=24,B>=26&&(B-=26,m++);return this._strip()};function o(v,c){var l=v.charCodeAt(c);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+v)}function a(v,c,l){var d=o(v,l);return l-1>=c&&(d|=o(v,l-1)<<4),d}i.prototype._parseHex=function(c,l,d){this.length=Math.ceil((c.length-l)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m=0,w=0,B;if(d==="be")for(g=c.length-1;g>=l;g-=2)B=a(c,l,g)<<m,this.words[w]|=B&67108863,m>=18?(m-=18,w+=1,this.words[w]|=B>>>26):m+=8;else{var b=c.length-l;for(g=b%2===0?l+1:l;g<c.length;g+=2)B=a(c,l,g)<<m,this.words[w]|=B&67108863,m>=18?(m-=18,w+=1,this.words[w]|=B>>>26):m+=8}this._strip()};function u(v,c,l,d){for(var g=0,m=0,w=Math.min(v.length,l),B=c;B<w;B++){var b=v.charCodeAt(B)-48;g*=d,b>=49?m=b-49+10:b>=17?m=b-17+10:m=b,t(b>=0&&m<d,"Invalid character"),g+=m}return g}i.prototype._parseBase=function(c,l,d){this.words=[0],this.length=1;for(var g=0,m=1;m<=67108863;m*=l)g++;g--,m=m/l|0;for(var w=c.length-d,B=w%g,b=Math.min(w,w-B)+d,h=0,S=d;S<b;S+=g)h=u(c,S,S+g,l),this.imuln(m),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(B!==0){var $=1;for(h=u(c,S,c.length,l),S=0;S<B;S++)$*=l;this.imuln($),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var l=0;l<this.length;l++)c.words[l]=this.words[l];c.length=this.length,c.negative=this.negative,c.red=this.red};function f(v,c){v.words=c.words,v.length=c.length,v.negative=c.negative,v.red=c.red}if(i.prototype._move=function(c){f(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch(v){i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,l){c=c||10,l=l|0||1;var d;if(c===16||c==="hex"){d="";for(var g=0,m=0,w=0;w<this.length;w++){var B=this.words[w],b=((B<<g|m)&16777215).toString(16);m=B>>>24-g&16777215,g+=2,g>=26&&(g-=26,w--),m!==0||w!==this.length-1?d=p[6-b.length]+b+d:d=b+d}for(m!==0&&(d=m.toString(16)+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(c===(c|0)&&c>=2&&c<=36){var h=I[c],S=k[c];d="";var $=this.clone();for($.negative=0;!$.isZero();){var X=$.modrn(S).toString(c);$=$.idivn(S),$.isZero()?d=X+d:d=p[h-X.length]+X+d}for(this.isZero()&&(d="0"+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,l){return this.toArrayLike(s,c,l)}),i.prototype.toArray=function(c,l){return this.toArrayLike(Array,c,l)};var E=function(c,l){return c.allocUnsafe?c.allocUnsafe(l):new c(l)};i.prototype.toArrayLike=function(c,l,d){this._strip();var g=this.byteLength(),m=d||Math.max(1,g);t(g<=m,"byte array longer than desired length"),t(m>0,"Requested array length <= 0");var w=E(c,m),B=l==="le"?"LE":"BE";return this["_toArrayLike"+B](w,g),w},i.prototype._toArrayLikeLE=function(c,l){for(var d=0,g=0,m=0,w=0;m<this.length;m++){var B=this.words[m]<<w|g;c[d++]=B&255,d<c.length&&(c[d++]=B>>8&255),d<c.length&&(c[d++]=B>>16&255),w===6?(d<c.length&&(c[d++]=B>>24&255),g=0,w=0):(g=B>>>24,w+=2)}if(d<c.length)for(c[d++]=g;d<c.length;)c[d++]=0},i.prototype._toArrayLikeBE=function(c,l){for(var d=c.length-1,g=0,m=0,w=0;m<this.length;m++){var B=this.words[m]<<w|g;c[d--]=B&255,d>=0&&(c[d--]=B>>8&255),d>=0&&(c[d--]=B>>16&255),w===6?(d>=0&&(c[d--]=B>>24&255),g=0,w=0):(g=B>>>24,w+=2)}if(d>=0)for(c[d--]=g;d>=0;)c[d--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var l=c,d=0;return l>=4096&&(d+=13,l>>>=13),l>=64&&(d+=7,l>>>=7),l>=8&&(d+=4,l>>>=4),l>=2&&(d+=2,l>>>=2),d+l},i.prototype._zeroBits=function(c){if(c===0)return 26;var l=c,d=0;return(l&8191)===0&&(d+=13,l>>>=13),(l&127)===0&&(d+=7,l>>>=7),(l&15)===0&&(d+=4,l>>>=4),(l&3)===0&&(d+=2,l>>>=2),(l&1)===0&&d++,d},i.prototype.bitLength=function(){var c=this.words[this.length-1],l=this._countBits(c);return(this.length-1)*26+l};function A(v){for(var c=new Array(v.bitLength()),l=0;l<c.length;l++){var d=l/26|0,g=l%26;c[l]=v.words[d]>>>g&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,l=0;l<this.length;l++){var d=this._zeroBits(this.words[l]);if(c+=d,d!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var l=0;l<c.length;l++)this.words[l]=this.words[l]|c.words[l];return this._strip()},i.prototype.ior=function(c){return t((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var l;this.length>c.length?l=c:l=this;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]&c.words[d];return this.length=l.length,this._strip()},i.prototype.iand=function(c){return t((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var l,d;this.length>c.length?(l=this,d=c):(l=c,d=this);for(var g=0;g<d.length;g++)this.words[g]=l.words[g]^d.words[g];if(this!==l)for(;g<l.length;g++)this.words[g]=l.words[g];return this.length=l.length,this._strip()},i.prototype.ixor=function(c){return t((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){t(typeof c=="number"&&c>=0);var l=Math.ceil(c/26)|0,d=c%26;this._expand(l),d>0&&l--;for(var g=0;g<l;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,l){t(typeof c=="number"&&c>=0);var d=c/26|0,g=c%26;return this._expand(d+1),l?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},i.prototype.iadd=function(c){var l;if(this.negative!==0&&c.negative===0)return this.negative=0,l=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,l=this.isub(c),c.negative=1,l._normSign();var d,g;this.length>c.length?(d=this,g=c):(d=c,g=this);for(var m=0,w=0;w<g.length;w++)l=(d.words[w]|0)+(g.words[w]|0)+m,this.words[w]=l&67108863,m=l>>>26;for(;m!==0&&w<d.length;w++)l=(d.words[w]|0)+m,this.words[w]=l&67108863,m=l>>>26;if(this.length=d.length,m!==0)this.words[this.length]=m,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},i.prototype.add=function(c){var l;return c.negative!==0&&this.negative===0?(c.negative=0,l=this.sub(c),c.negative^=1,l):c.negative===0&&this.negative!==0?(this.negative=0,l=c.sub(this),this.negative=1,l):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var l=this.iadd(c);return c.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var d=this.cmp(c);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,m;d>0?(g=this,m=c):(g=c,m=this);for(var w=0,B=0;B<m.length;B++)l=(g.words[B]|0)-(m.words[B]|0)+w,w=l>>26,this.words[B]=l&67108863;for(;w!==0&&B<g.length;B++)l=(g.words[B]|0)+w,w=l>>26,this.words[B]=l&67108863;if(w===0&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function L(v,c,l){l.negative=c.negative^v.negative;var d=v.length+c.length|0;l.length=d,d=d-1|0;var g=v.words[0]|0,m=c.words[0]|0,w=g*m,B=w&67108863,b=w/67108864|0;l.words[0]=B;for(var h=1;h<d;h++){for(var S=b>>>26,$=b&67108863,X=Math.min(h,c.length-1),Z=Math.max(0,h-v.length+1);Z<=X;Z++){var J=h-Z|0;g=v.words[J]|0,m=c.words[Z]|0,w=g*m+$,S+=w/67108864|0,$=w&67108863}l.words[h]=$|0,b=S|0}return b!==0?l.words[h]=b|0:l.length--,l._strip()}var P=function(c,l,d){var g=c.words,m=l.words,w=d.words,B=0,b,h,S,$=g[0]|0,X=$&8191,Z=$>>>13,J=g[1]|0,ne=J&8191,ie=J>>>13,Me=g[2]|0,he=Me&8191,ye=Me>>>13,He=g[3]|0,xe=He&8191,Re=He>>>13,yn=g[4]|0,Ye=yn&8191,rt=yn>>>13,$o=g[5]|0,nt=$o&8191,it=$o>>>13,Rs=g[6]|0,Ze=Rs&8191,je=Rs>>>13,Ts=g[7]|0,Xe=Ts&8191,Je=Ts>>>13,Ps=g[8]|0,Qe=Ps&8191,st=Ps>>>13,Vo=g[9]|0,ot=Vo&8191,at=Vo>>>13,gh=m[0]|0,dt=gh&8191,pt=gh>>>13,mh=m[1]|0,yt=mh&8191,gt=mh>>>13,bh=m[2]|0,mt=bh&8191,bt=bh>>>13,wh=m[3]|0,wt=wh&8191,vt=wh>>>13,vh=m[4]|0,kt=vh&8191,St=vh>>>13,kh=m[5]|0,xt=kh&8191,It=kh>>>13,Sh=m[6]|0,Bt=Sh&8191,At=Sh>>>13,xh=m[7]|0,Et=xh&8191,_t=xh>>>13,Ih=m[8]|0,Lt=Ih&8191,Rt=Ih>>>13,Bh=m[9]|0,Tt=Bh&8191,Pt=Bh>>>13;d.negative=c.negative^l.negative,d.length=19,b=Math.imul(X,dt),h=Math.imul(X,pt),h=h+Math.imul(Z,dt)|0,S=Math.imul(Z,pt);var Qu=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,b=Math.imul(ne,dt),h=Math.imul(ne,pt),h=h+Math.imul(ie,dt)|0,S=Math.imul(ie,pt),b=b+Math.imul(X,yt)|0,h=h+Math.imul(X,gt)|0,h=h+Math.imul(Z,yt)|0,S=S+Math.imul(Z,gt)|0;var ec=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(ec>>>26)|0,ec&=67108863,b=Math.imul(he,dt),h=Math.imul(he,pt),h=h+Math.imul(ye,dt)|0,S=Math.imul(ye,pt),b=b+Math.imul(ne,yt)|0,h=h+Math.imul(ne,gt)|0,h=h+Math.imul(ie,yt)|0,S=S+Math.imul(ie,gt)|0,b=b+Math.imul(X,mt)|0,h=h+Math.imul(X,bt)|0,h=h+Math.imul(Z,mt)|0,S=S+Math.imul(Z,bt)|0;var tc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(tc>>>26)|0,tc&=67108863,b=Math.imul(xe,dt),h=Math.imul(xe,pt),h=h+Math.imul(Re,dt)|0,S=Math.imul(Re,pt),b=b+Math.imul(he,yt)|0,h=h+Math.imul(he,gt)|0,h=h+Math.imul(ye,yt)|0,S=S+Math.imul(ye,gt)|0,b=b+Math.imul(ne,mt)|0,h=h+Math.imul(ne,bt)|0,h=h+Math.imul(ie,mt)|0,S=S+Math.imul(ie,bt)|0,b=b+Math.imul(X,wt)|0,h=h+Math.imul(X,vt)|0,h=h+Math.imul(Z,wt)|0,S=S+Math.imul(Z,vt)|0;var rc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(rc>>>26)|0,rc&=67108863,b=Math.imul(Ye,dt),h=Math.imul(Ye,pt),h=h+Math.imul(rt,dt)|0,S=Math.imul(rt,pt),b=b+Math.imul(xe,yt)|0,h=h+Math.imul(xe,gt)|0,h=h+Math.imul(Re,yt)|0,S=S+Math.imul(Re,gt)|0,b=b+Math.imul(he,mt)|0,h=h+Math.imul(he,bt)|0,h=h+Math.imul(ye,mt)|0,S=S+Math.imul(ye,bt)|0,b=b+Math.imul(ne,wt)|0,h=h+Math.imul(ne,vt)|0,h=h+Math.imul(ie,wt)|0,S=S+Math.imul(ie,vt)|0,b=b+Math.imul(X,kt)|0,h=h+Math.imul(X,St)|0,h=h+Math.imul(Z,kt)|0,S=S+Math.imul(Z,St)|0;var nc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(nc>>>26)|0,nc&=67108863,b=Math.imul(nt,dt),h=Math.imul(nt,pt),h=h+Math.imul(it,dt)|0,S=Math.imul(it,pt),b=b+Math.imul(Ye,yt)|0,h=h+Math.imul(Ye,gt)|0,h=h+Math.imul(rt,yt)|0,S=S+Math.imul(rt,gt)|0,b=b+Math.imul(xe,mt)|0,h=h+Math.imul(xe,bt)|0,h=h+Math.imul(Re,mt)|0,S=S+Math.imul(Re,bt)|0,b=b+Math.imul(he,wt)|0,h=h+Math.imul(he,vt)|0,h=h+Math.imul(ye,wt)|0,S=S+Math.imul(ye,vt)|0,b=b+Math.imul(ne,kt)|0,h=h+Math.imul(ne,St)|0,h=h+Math.imul(ie,kt)|0,S=S+Math.imul(ie,St)|0,b=b+Math.imul(X,xt)|0,h=h+Math.imul(X,It)|0,h=h+Math.imul(Z,xt)|0,S=S+Math.imul(Z,It)|0;var ic=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(ic>>>26)|0,ic&=67108863,b=Math.imul(Ze,dt),h=Math.imul(Ze,pt),h=h+Math.imul(je,dt)|0,S=Math.imul(je,pt),b=b+Math.imul(nt,yt)|0,h=h+Math.imul(nt,gt)|0,h=h+Math.imul(it,yt)|0,S=S+Math.imul(it,gt)|0,b=b+Math.imul(Ye,mt)|0,h=h+Math.imul(Ye,bt)|0,h=h+Math.imul(rt,mt)|0,S=S+Math.imul(rt,bt)|0,b=b+Math.imul(xe,wt)|0,h=h+Math.imul(xe,vt)|0,h=h+Math.imul(Re,wt)|0,S=S+Math.imul(Re,vt)|0,b=b+Math.imul(he,kt)|0,h=h+Math.imul(he,St)|0,h=h+Math.imul(ye,kt)|0,S=S+Math.imul(ye,St)|0,b=b+Math.imul(ne,xt)|0,h=h+Math.imul(ne,It)|0,h=h+Math.imul(ie,xt)|0,S=S+Math.imul(ie,It)|0,b=b+Math.imul(X,Bt)|0,h=h+Math.imul(X,At)|0,h=h+Math.imul(Z,Bt)|0,S=S+Math.imul(Z,At)|0;var sc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(sc>>>26)|0,sc&=67108863,b=Math.imul(Xe,dt),h=Math.imul(Xe,pt),h=h+Math.imul(Je,dt)|0,S=Math.imul(Je,pt),b=b+Math.imul(Ze,yt)|0,h=h+Math.imul(Ze,gt)|0,h=h+Math.imul(je,yt)|0,S=S+Math.imul(je,gt)|0,b=b+Math.imul(nt,mt)|0,h=h+Math.imul(nt,bt)|0,h=h+Math.imul(it,mt)|0,S=S+Math.imul(it,bt)|0,b=b+Math.imul(Ye,wt)|0,h=h+Math.imul(Ye,vt)|0,h=h+Math.imul(rt,wt)|0,S=S+Math.imul(rt,vt)|0,b=b+Math.imul(xe,kt)|0,h=h+Math.imul(xe,St)|0,h=h+Math.imul(Re,kt)|0,S=S+Math.imul(Re,St)|0,b=b+Math.imul(he,xt)|0,h=h+Math.imul(he,It)|0,h=h+Math.imul(ye,xt)|0,S=S+Math.imul(ye,It)|0,b=b+Math.imul(ne,Bt)|0,h=h+Math.imul(ne,At)|0,h=h+Math.imul(ie,Bt)|0,S=S+Math.imul(ie,At)|0,b=b+Math.imul(X,Et)|0,h=h+Math.imul(X,_t)|0,h=h+Math.imul(Z,Et)|0,S=S+Math.imul(Z,_t)|0;var oc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(oc>>>26)|0,oc&=67108863,b=Math.imul(Qe,dt),h=Math.imul(Qe,pt),h=h+Math.imul(st,dt)|0,S=Math.imul(st,pt),b=b+Math.imul(Xe,yt)|0,h=h+Math.imul(Xe,gt)|0,h=h+Math.imul(Je,yt)|0,S=S+Math.imul(Je,gt)|0,b=b+Math.imul(Ze,mt)|0,h=h+Math.imul(Ze,bt)|0,h=h+Math.imul(je,mt)|0,S=S+Math.imul(je,bt)|0,b=b+Math.imul(nt,wt)|0,h=h+Math.imul(nt,vt)|0,h=h+Math.imul(it,wt)|0,S=S+Math.imul(it,vt)|0,b=b+Math.imul(Ye,kt)|0,h=h+Math.imul(Ye,St)|0,h=h+Math.imul(rt,kt)|0,S=S+Math.imul(rt,St)|0,b=b+Math.imul(xe,xt)|0,h=h+Math.imul(xe,It)|0,h=h+Math.imul(Re,xt)|0,S=S+Math.imul(Re,It)|0,b=b+Math.imul(he,Bt)|0,h=h+Math.imul(he,At)|0,h=h+Math.imul(ye,Bt)|0,S=S+Math.imul(ye,At)|0,b=b+Math.imul(ne,Et)|0,h=h+Math.imul(ne,_t)|0,h=h+Math.imul(ie,Et)|0,S=S+Math.imul(ie,_t)|0,b=b+Math.imul(X,Lt)|0,h=h+Math.imul(X,Rt)|0,h=h+Math.imul(Z,Lt)|0,S=S+Math.imul(Z,Rt)|0;var ac=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(ac>>>26)|0,ac&=67108863,b=Math.imul(ot,dt),h=Math.imul(ot,pt),h=h+Math.imul(at,dt)|0,S=Math.imul(at,pt),b=b+Math.imul(Qe,yt)|0,h=h+Math.imul(Qe,gt)|0,h=h+Math.imul(st,yt)|0,S=S+Math.imul(st,gt)|0,b=b+Math.imul(Xe,mt)|0,h=h+Math.imul(Xe,bt)|0,h=h+Math.imul(Je,mt)|0,S=S+Math.imul(Je,bt)|0,b=b+Math.imul(Ze,wt)|0,h=h+Math.imul(Ze,vt)|0,h=h+Math.imul(je,wt)|0,S=S+Math.imul(je,vt)|0,b=b+Math.imul(nt,kt)|0,h=h+Math.imul(nt,St)|0,h=h+Math.imul(it,kt)|0,S=S+Math.imul(it,St)|0,b=b+Math.imul(Ye,xt)|0,h=h+Math.imul(Ye,It)|0,h=h+Math.imul(rt,xt)|0,S=S+Math.imul(rt,It)|0,b=b+Math.imul(xe,Bt)|0,h=h+Math.imul(xe,At)|0,h=h+Math.imul(Re,Bt)|0,S=S+Math.imul(Re,At)|0,b=b+Math.imul(he,Et)|0,h=h+Math.imul(he,_t)|0,h=h+Math.imul(ye,Et)|0,S=S+Math.imul(ye,_t)|0,b=b+Math.imul(ne,Lt)|0,h=h+Math.imul(ne,Rt)|0,h=h+Math.imul(ie,Lt)|0,S=S+Math.imul(ie,Rt)|0,b=b+Math.imul(X,Tt)|0,h=h+Math.imul(X,Pt)|0,h=h+Math.imul(Z,Tt)|0,S=S+Math.imul(Z,Pt)|0;var uc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(uc>>>26)|0,uc&=67108863,b=Math.imul(ot,yt),h=Math.imul(ot,gt),h=h+Math.imul(at,yt)|0,S=Math.imul(at,gt),b=b+Math.imul(Qe,mt)|0,h=h+Math.imul(Qe,bt)|0,h=h+Math.imul(st,mt)|0,S=S+Math.imul(st,bt)|0,b=b+Math.imul(Xe,wt)|0,h=h+Math.imul(Xe,vt)|0,h=h+Math.imul(Je,wt)|0,S=S+Math.imul(Je,vt)|0,b=b+Math.imul(Ze,kt)|0,h=h+Math.imul(Ze,St)|0,h=h+Math.imul(je,kt)|0,S=S+Math.imul(je,St)|0,b=b+Math.imul(nt,xt)|0,h=h+Math.imul(nt,It)|0,h=h+Math.imul(it,xt)|0,S=S+Math.imul(it,It)|0,b=b+Math.imul(Ye,Bt)|0,h=h+Math.imul(Ye,At)|0,h=h+Math.imul(rt,Bt)|0,S=S+Math.imul(rt,At)|0,b=b+Math.imul(xe,Et)|0,h=h+Math.imul(xe,_t)|0,h=h+Math.imul(Re,Et)|0,S=S+Math.imul(Re,_t)|0,b=b+Math.imul(he,Lt)|0,h=h+Math.imul(he,Rt)|0,h=h+Math.imul(ye,Lt)|0,S=S+Math.imul(ye,Rt)|0,b=b+Math.imul(ne,Tt)|0,h=h+Math.imul(ne,Pt)|0,h=h+Math.imul(ie,Tt)|0,S=S+Math.imul(ie,Pt)|0;var cc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(cc>>>26)|0,cc&=67108863,b=Math.imul(ot,mt),h=Math.imul(ot,bt),h=h+Math.imul(at,mt)|0,S=Math.imul(at,bt),b=b+Math.imul(Qe,wt)|0,h=h+Math.imul(Qe,vt)|0,h=h+Math.imul(st,wt)|0,S=S+Math.imul(st,vt)|0,b=b+Math.imul(Xe,kt)|0,h=h+Math.imul(Xe,St)|0,h=h+Math.imul(Je,kt)|0,S=S+Math.imul(Je,St)|0,b=b+Math.imul(Ze,xt)|0,h=h+Math.imul(Ze,It)|0,h=h+Math.imul(je,xt)|0,S=S+Math.imul(je,It)|0,b=b+Math.imul(nt,Bt)|0,h=h+Math.imul(nt,At)|0,h=h+Math.imul(it,Bt)|0,S=S+Math.imul(it,At)|0,b=b+Math.imul(Ye,Et)|0,h=h+Math.imul(Ye,_t)|0,h=h+Math.imul(rt,Et)|0,S=S+Math.imul(rt,_t)|0,b=b+Math.imul(xe,Lt)|0,h=h+Math.imul(xe,Rt)|0,h=h+Math.imul(Re,Lt)|0,S=S+Math.imul(Re,Rt)|0,b=b+Math.imul(he,Tt)|0,h=h+Math.imul(he,Pt)|0,h=h+Math.imul(ye,Tt)|0,S=S+Math.imul(ye,Pt)|0;var fc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(fc>>>26)|0,fc&=67108863,b=Math.imul(ot,wt),h=Math.imul(ot,vt),h=h+Math.imul(at,wt)|0,S=Math.imul(at,vt),b=b+Math.imul(Qe,kt)|0,h=h+Math.imul(Qe,St)|0,h=h+Math.imul(st,kt)|0,S=S+Math.imul(st,St)|0,b=b+Math.imul(Xe,xt)|0,h=h+Math.imul(Xe,It)|0,h=h+Math.imul(Je,xt)|0,S=S+Math.imul(Je,It)|0,b=b+Math.imul(Ze,Bt)|0,h=h+Math.imul(Ze,At)|0,h=h+Math.imul(je,Bt)|0,S=S+Math.imul(je,At)|0,b=b+Math.imul(nt,Et)|0,h=h+Math.imul(nt,_t)|0,h=h+Math.imul(it,Et)|0,S=S+Math.imul(it,_t)|0,b=b+Math.imul(Ye,Lt)|0,h=h+Math.imul(Ye,Rt)|0,h=h+Math.imul(rt,Lt)|0,S=S+Math.imul(rt,Rt)|0,b=b+Math.imul(xe,Tt)|0,h=h+Math.imul(xe,Pt)|0,h=h+Math.imul(Re,Tt)|0,S=S+Math.imul(Re,Pt)|0;var lc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(lc>>>26)|0,lc&=67108863,b=Math.imul(ot,kt),h=Math.imul(ot,St),h=h+Math.imul(at,kt)|0,S=Math.imul(at,St),b=b+Math.imul(Qe,xt)|0,h=h+Math.imul(Qe,It)|0,h=h+Math.imul(st,xt)|0,S=S+Math.imul(st,It)|0,b=b+Math.imul(Xe,Bt)|0,h=h+Math.imul(Xe,At)|0,h=h+Math.imul(Je,Bt)|0,S=S+Math.imul(Je,At)|0,b=b+Math.imul(Ze,Et)|0,h=h+Math.imul(Ze,_t)|0,h=h+Math.imul(je,Et)|0,S=S+Math.imul(je,_t)|0,b=b+Math.imul(nt,Lt)|0,h=h+Math.imul(nt,Rt)|0,h=h+Math.imul(it,Lt)|0,S=S+Math.imul(it,Rt)|0,b=b+Math.imul(Ye,Tt)|0,h=h+Math.imul(Ye,Pt)|0,h=h+Math.imul(rt,Tt)|0,S=S+Math.imul(rt,Pt)|0;var hc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(hc>>>26)|0,hc&=67108863,b=Math.imul(ot,xt),h=Math.imul(ot,It),h=h+Math.imul(at,xt)|0,S=Math.imul(at,It),b=b+Math.imul(Qe,Bt)|0,h=h+Math.imul(Qe,At)|0,h=h+Math.imul(st,Bt)|0,S=S+Math.imul(st,At)|0,b=b+Math.imul(Xe,Et)|0,h=h+Math.imul(Xe,_t)|0,h=h+Math.imul(Je,Et)|0,S=S+Math.imul(Je,_t)|0,b=b+Math.imul(Ze,Lt)|0,h=h+Math.imul(Ze,Rt)|0,h=h+Math.imul(je,Lt)|0,S=S+Math.imul(je,Rt)|0,b=b+Math.imul(nt,Tt)|0,h=h+Math.imul(nt,Pt)|0,h=h+Math.imul(it,Tt)|0,S=S+Math.imul(it,Pt)|0;var dc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(dc>>>26)|0,dc&=67108863,b=Math.imul(ot,Bt),h=Math.imul(ot,At),h=h+Math.imul(at,Bt)|0,S=Math.imul(at,At),b=b+Math.imul(Qe,Et)|0,h=h+Math.imul(Qe,_t)|0,h=h+Math.imul(st,Et)|0,S=S+Math.imul(st,_t)|0,b=b+Math.imul(Xe,Lt)|0,h=h+Math.imul(Xe,Rt)|0,h=h+Math.imul(Je,Lt)|0,S=S+Math.imul(Je,Rt)|0,b=b+Math.imul(Ze,Tt)|0,h=h+Math.imul(Ze,Pt)|0,h=h+Math.imul(je,Tt)|0,S=S+Math.imul(je,Pt)|0;var pc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(pc>>>26)|0,pc&=67108863,b=Math.imul(ot,Et),h=Math.imul(ot,_t),h=h+Math.imul(at,Et)|0,S=Math.imul(at,_t),b=b+Math.imul(Qe,Lt)|0,h=h+Math.imul(Qe,Rt)|0,h=h+Math.imul(st,Lt)|0,S=S+Math.imul(st,Rt)|0,b=b+Math.imul(Xe,Tt)|0,h=h+Math.imul(Xe,Pt)|0,h=h+Math.imul(Je,Tt)|0,S=S+Math.imul(Je,Pt)|0;var yc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(yc>>>26)|0,yc&=67108863,b=Math.imul(ot,Lt),h=Math.imul(ot,Rt),h=h+Math.imul(at,Lt)|0,S=Math.imul(at,Rt),b=b+Math.imul(Qe,Tt)|0,h=h+Math.imul(Qe,Pt)|0,h=h+Math.imul(st,Tt)|0,S=S+Math.imul(st,Pt)|0;var gc=(B+b|0)+((h&8191)<<13)|0;B=(S+(h>>>13)|0)+(gc>>>26)|0,gc&=67108863,b=Math.imul(ot,Tt),h=Math.imul(ot,Pt),h=h+Math.imul(at,Tt)|0,S=Math.imul(at,Pt);var mc=(B+b|0)+((h&8191)<<13)|0;return B=(S+(h>>>13)|0)+(mc>>>26)|0,mc&=67108863,w[0]=Qu,w[1]=ec,w[2]=tc,w[3]=rc,w[4]=nc,w[5]=ic,w[6]=sc,w[7]=oc,w[8]=ac,w[9]=uc,w[10]=cc,w[11]=fc,w[12]=lc,w[13]=hc,w[14]=dc,w[15]=pc,w[16]=yc,w[17]=gc,w[18]=mc,B!==0&&(w[19]=B,d.length++),d};Math.imul||(P=L);function O(v,c,l){l.negative=c.negative^v.negative,l.length=v.length+c.length;for(var d=0,g=0,m=0;m<l.length-1;m++){var w=g;g=0;for(var B=d&67108863,b=Math.min(m,c.length-1),h=Math.max(0,m-v.length+1);h<=b;h++){var S=m-h,$=v.words[S]|0,X=c.words[h]|0,Z=$*X,J=Z&67108863;w=w+(Z/67108864|0)|0,J=J+B|0,B=J&67108863,w=w+(J>>>26)|0,g+=w>>>26,w&=67108863}l.words[m]=B,d=w,w=g}return d!==0?l.words[m]=d:l.length--,l._strip()}function C(v,c,l){return O(v,c,l)}i.prototype.mulTo=function(c,l){var d,g=this.length+c.length;return this.length===10&&c.length===10?d=P(this,c,l):g<63?d=L(this,c,l):g<1024?d=O(this,c,l):d=C(this,c,l),d};function K(v,c){this.x=v,this.y=c}K.prototype.makeRBT=function(c){for(var l=new Array(c),d=i.prototype._countBits(c)-1,g=0;g<c;g++)l[g]=this.revBin(g,d,c);return l},K.prototype.revBin=function(c,l,d){if(c===0||c===d-1)return c;for(var g=0,m=0;m<l;m++)g|=(c&1)<<l-m-1,c>>=1;return g},K.prototype.permute=function(c,l,d,g,m,w){for(var B=0;B<w;B++)g[B]=l[c[B]],m[B]=d[c[B]]},K.prototype.transform=function(c,l,d,g,m,w){this.permute(w,c,l,d,g,m);for(var B=1;B<m;B<<=1)for(var b=B<<1,h=Math.cos(2*Math.PI/b),S=Math.sin(2*Math.PI/b),$=0;$<m;$+=b)for(var X=h,Z=S,J=0;J<B;J++){var ne=d[$+J],ie=g[$+J],Me=d[$+J+B],he=g[$+J+B],ye=X*Me-Z*he;he=X*he+Z*Me,Me=ye,d[$+J]=ne+Me,g[$+J]=ie+he,d[$+J+B]=ne-Me,g[$+J+B]=ie-he,J!==b&&(ye=h*X-S*Z,Z=h*Z+S*X,X=ye)}},K.prototype.guessLen13b=function(c,l){var d=Math.max(l,c)|1,g=d&1,m=0;for(d=d/2|0;d;d=d>>>1)m++;return 1<<m+1+g},K.prototype.conjugate=function(c,l,d){if(!(d<=1))for(var g=0;g<d/2;g++){var m=c[g];c[g]=c[d-g-1],c[d-g-1]=m,m=l[g],l[g]=-l[d-g-1],l[d-g-1]=-m}},K.prototype.normalize13b=function(c,l){for(var d=0,g=0;g<l/2;g++){var m=Math.round(c[2*g+1]/l)*8192+Math.round(c[2*g]/l)+d;c[g]=m&67108863,m<67108864?d=0:d=m/67108864|0}return c},K.prototype.convert13b=function(c,l,d,g){for(var m=0,w=0;w<l;w++)m=m+(c[w]|0),d[2*w]=m&8191,m=m>>>13,d[2*w+1]=m&8191,m=m>>>13;for(w=2*l;w<g;++w)d[w]=0;t(m===0),t((m&-8192)===0)},K.prototype.stub=function(c){for(var l=new Array(c),d=0;d<c;d++)l[d]=0;return l},K.prototype.mulp=function(c,l,d){var g=2*this.guessLen13b(c.length,l.length),m=this.makeRBT(g),w=this.stub(g),B=new Array(g),b=new Array(g),h=new Array(g),S=new Array(g),$=new Array(g),X=new Array(g),Z=d.words;Z.length=g,this.convert13b(c.words,c.length,B,g),this.convert13b(l.words,l.length,S,g),this.transform(B,w,b,h,g,m),this.transform(S,w,$,X,g,m);for(var J=0;J<g;J++){var ne=b[J]*$[J]-h[J]*X[J];h[J]=b[J]*X[J]+h[J]*$[J],b[J]=ne}return this.conjugate(b,h,g),this.transform(b,h,Z,w,g,m),this.conjugate(Z,w,g),this.normalize13b(Z,g),d.negative=c.negative^l.negative,d.length=c.length+l.length,d._strip()},i.prototype.mul=function(c){var l=new i(null);return l.words=new Array(this.length+c.length),this.mulTo(c,l)},i.prototype.mulf=function(c){var l=new i(null);return l.words=new Array(this.length+c.length),C(this,c,l)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var l=c<0;l&&(c=-c),t(typeof c=="number"),t(c<67108864);for(var d=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*c,w=(m&67108863)+(d&67108863);d>>=26,d+=m/67108864|0,d+=w>>>26,this.words[g]=w&67108863}return d!==0&&(this.words[g]=d,this.length++),l?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var l=A(c);if(l.length===0)return new i(1);for(var d=this,g=0;g<l.length&&l[g]===0;g++,d=d.sqr());if(++g<l.length)for(var m=d.sqr();g<l.length;g++,m=m.sqr())l[g]!==0&&(d=d.mul(m));return d},i.prototype.iushln=function(c){t(typeof c=="number"&&c>=0);var l=c%26,d=(c-l)/26,g=67108863>>>26-l<<26-l,m;if(l!==0){var w=0;for(m=0;m<this.length;m++){var B=this.words[m]&g,b=(this.words[m]|0)-B<<l;this.words[m]=b|w,w=B>>>26-l}w&&(this.words[m]=w,this.length++)}if(d!==0){for(m=this.length-1;m>=0;m--)this.words[m+d]=this.words[m];for(m=0;m<d;m++)this.words[m]=0;this.length+=d}return this._strip()},i.prototype.ishln=function(c){return t(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,l,d){t(typeof c=="number"&&c>=0);var g;l?g=(l-l%26)/26:g=0;var m=c%26,w=Math.min((c-m)/26,this.length),B=67108863^67108863>>>m<<m,b=d;if(g-=w,g=Math.max(0,g),b){for(var h=0;h<w;h++)b.words[h]=this.words[h];b.length=w}if(w!==0)if(this.length>w)for(this.length-=w,h=0;h<this.length;h++)this.words[h]=this.words[h+w];else this.words[0]=0,this.length=1;var S=0;for(h=this.length-1;h>=0&&(S!==0||h>=g);h--){var $=this.words[h]|0;this.words[h]=S<<26-m|$>>>m,S=$&B}return b&&S!==0&&(b.words[b.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,l,d){return t(this.negative===0),this.iushrn(c,l,d)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){t(typeof c=="number"&&c>=0);var l=c%26,d=(c-l)/26,g=1<<l;if(this.length<=d)return!1;var m=this.words[d];return!!(m&g)},i.prototype.imaskn=function(c){t(typeof c=="number"&&c>=0);var l=c%26,d=(c-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(l!==0&&d++,this.length=Math.min(d,this.length),l!==0){var g=67108863^67108863>>>l<<l;this.words[this.length-1]&=g}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return t(typeof c=="number"),t(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(c){if(t(typeof c=="number"),t(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,l,d){var g=c.length+d,m;this._expand(g);var w,B=0;for(m=0;m<c.length;m++){w=(this.words[m+d]|0)+B;var b=(c.words[m]|0)*l;w-=b&67108863,B=(w>>26)-(b/67108864|0),this.words[m+d]=w&67108863}for(;m<this.length-d;m++)w=(this.words[m+d]|0)+B,B=w>>26,this.words[m+d]=w&67108863;if(B===0)return this._strip();for(t(B===-1),B=0,m=0;m<this.length;m++)w=-(this.words[m]|0)+B,B=w>>26,this.words[m]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,l){var d=this.length-c.length,g=this.clone(),m=c,w=m.words[m.length-1]|0,B=this._countBits(w);d=26-B,d!==0&&(m=m.ushln(d),g.iushln(d),w=m.words[m.length-1]|0);var b=g.length-m.length,h;if(l!=="mod"){h=new i(null),h.length=b+1,h.words=new Array(h.length);for(var S=0;S<h.length;S++)h.words[S]=0}var $=g.clone()._ishlnsubmul(m,1,b);$.negative===0&&(g=$,h&&(h.words[b]=1));for(var X=b-1;X>=0;X--){var Z=(g.words[m.length+X]|0)*67108864+(g.words[m.length+X-1]|0);for(Z=Math.min(Z/w|0,67108863),g._ishlnsubmul(m,Z,X);g.negative!==0;)Z--,g.negative=0,g._ishlnsubmul(m,1,X),g.isZero()||(g.negative^=1);h&&(h.words[X]=Z)}return h&&h._strip(),g._strip(),l!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},i.prototype.divmod=function(c,l,d){if(t(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,m,w;return this.negative!==0&&c.negative===0?(w=this.neg().divmod(c,l),l!=="mod"&&(g=w.div.neg()),l!=="div"&&(m=w.mod.neg(),d&&m.negative!==0&&m.iadd(c)),{div:g,mod:m}):this.negative===0&&c.negative!==0?(w=this.divmod(c.neg(),l),l!=="mod"&&(g=w.div.neg()),{div:g,mod:w.mod}):(this.negative&c.negative)!==0?(w=this.neg().divmod(c.neg(),l),l!=="div"&&(m=w.mod.neg(),d&&m.negative!==0&&m.isub(c)),{div:w.div,mod:m}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?l==="div"?{div:this.divn(c.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,l)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var l=this.divmod(c);if(l.mod.isZero())return l.div;var d=l.div.negative!==0?l.mod.isub(c):l.mod,g=c.ushrn(1),m=c.andln(1),w=d.cmp(g);return w<0||m===1&&w===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modrn=function(c){var l=c<0;l&&(c=-c),t(c<=67108863);for(var d=(1<<26)%c,g=0,m=this.length-1;m>=0;m--)g=(d*g+(this.words[m]|0))%c;return l?-g:g},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var l=c<0;l&&(c=-c),t(c<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+d*67108864;this.words[g]=m/c|0,d=m%c}return this._strip(),l?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){t(c.negative===0),t(!c.isZero());var l=this,d=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var g=new i(1),m=new i(0),w=new i(0),B=new i(1),b=0;l.isEven()&&d.isEven();)l.iushrn(1),d.iushrn(1),++b;for(var h=d.clone(),S=l.clone();!l.isZero();){for(var $=0,X=1;(l.words[0]&X)===0&&$<26;++$,X<<=1);if($>0)for(l.iushrn($);$-- >0;)(g.isOdd()||m.isOdd())&&(g.iadd(h),m.isub(S)),g.iushrn(1),m.iushrn(1);for(var Z=0,J=1;(d.words[0]&J)===0&&Z<26;++Z,J<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(w.isOdd()||B.isOdd())&&(w.iadd(h),B.isub(S)),w.iushrn(1),B.iushrn(1);l.cmp(d)>=0?(l.isub(d),g.isub(w),m.isub(B)):(d.isub(l),w.isub(g),B.isub(m))}return{a:w,b:B,gcd:d.iushln(b)}},i.prototype._invmp=function(c){t(c.negative===0),t(!c.isZero());var l=this,d=c.clone();l.negative!==0?l=l.umod(c):l=l.clone();for(var g=new i(1),m=new i(0),w=d.clone();l.cmpn(1)>0&&d.cmpn(1)>0;){for(var B=0,b=1;(l.words[0]&b)===0&&B<26;++B,b<<=1);if(B>0)for(l.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);for(var h=0,S=1;(d.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(d.iushrn(h);h-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);l.cmp(d)>=0?(l.isub(d),g.isub(m)):(d.isub(l),m.isub(g))}var $;return l.cmpn(1)===0?$=g:$=m,$.cmpn(0)<0&&$.iadd(c),$},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var l=this.clone(),d=c.clone();l.negative=0,d.negative=0;for(var g=0;l.isEven()&&d.isEven();g++)l.iushrn(1),d.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;d.isEven();)d.iushrn(1);var m=l.cmp(d);if(m<0){var w=l;l=d,d=w}else if(m===0||d.cmpn(1)===0)break;l.isub(d)}while(!0);return d.iushln(g)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){t(typeof c=="number");var l=c%26,d=(c-l)/26,g=1<<l;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var m=g,w=d;m!==0&&w<this.length;w++){var B=this.words[w]|0;B+=m,m=B>>>26,B&=67108863,this.words[w]=B}return m!==0&&(this.words[w]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var l=c<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var d;if(this.length>1)d=1;else{l&&(c=-c),t(c<=67108863,"Number is too big");var g=this.words[0]|0;d=g===c?0:g<c?-1:1}return this.negative!==0?-d|0:d},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var l=this.ucmp(c);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var l=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,m=c.words[d]|0;if(g!==m){g<m?l=-1:g>m&&(l=1);break}}return l},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new Q(c)},i.prototype.toRed=function(c){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return t(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return t(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var z={k256:null,p224:null,p192:null,p25519:null};function D(v,c){this.name=v,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},D.prototype.ireduce=function(c){var l=c,d;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),d=l.bitLength();while(d>this.n);var g=d<this.n?-1:l.ucmp(this.p);return g===0?(l.words[0]=0,l.length=1):g>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},D.prototype.split=function(c,l){c.iushrn(this.n,0,l)},D.prototype.imulK=function(c){return c.imul(this.k)};function U(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(U,D),U.prototype.split=function(c,l){for(var d=4194303,g=Math.min(c.length,9),m=0;m<g;m++)l.words[m]=c.words[m];if(l.length=g,c.length<=9){c.words[0]=0,c.length=1;return}var w=c.words[9];for(l.words[l.length++]=w&d,m=10;m<c.length;m++){var B=c.words[m]|0;c.words[m-10]=(B&d)<<4|w>>>22,w=B}w>>>=22,c.words[m-10]=w,w===0&&c.length>10?c.length-=10:c.length-=9},U.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var l=0,d=0;d<c.length;d++){var g=c.words[d]|0;l+=g*977,c.words[d]=l&67108863,l=g*64+(l/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function j(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(j,D);function ee(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,D);function re(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(re,D),re.prototype.imulK=function(c){for(var l=0,d=0;d<c.length;d++){var g=(c.words[d]|0)*19+l,m=g&67108863;g>>>=26,c.words[d]=m,l=g}return l!==0&&(c.words[c.length++]=l),c},i._prime=function(c){if(z[c])return z[c];var l;if(c==="k256")l=new U;else if(c==="p224")l=new j;else if(c==="p192")l=new ee;else if(c==="p25519")l=new re;else throw new Error("Unknown prime "+c);return z[c]=l,l};function Q(v){if(typeof v=="string"){var c=i._prime(v);this.m=c.p,this.prime=c}else t(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}Q.prototype._verify1=function(c){t(c.negative===0,"red works only with positives"),t(c.red,"red works only with red numbers")},Q.prototype._verify2=function(c,l){t((c.negative|l.negative)===0,"red works only with positives"),t(c.red&&c.red===l.red,"red works only with red numbers")},Q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(f(c,c.umod(this.m)._forceRed(this)),c)},Q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Q.prototype.add=function(c,l){this._verify2(c,l);var d=c.add(l);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},Q.prototype.iadd=function(c,l){this._verify2(c,l);var d=c.iadd(l);return d.cmp(this.m)>=0&&d.isub(this.m),d},Q.prototype.sub=function(c,l){this._verify2(c,l);var d=c.sub(l);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},Q.prototype.isub=function(c,l){this._verify2(c,l);var d=c.isub(l);return d.cmpn(0)<0&&d.iadd(this.m),d},Q.prototype.shl=function(c,l){return this._verify1(c),this.imod(c.ushln(l))},Q.prototype.imul=function(c,l){return this._verify2(c,l),this.imod(c.imul(l))},Q.prototype.mul=function(c,l){return this._verify2(c,l),this.imod(c.mul(l))},Q.prototype.isqr=function(c){return this.imul(c,c.clone())},Q.prototype.sqr=function(c){return this.mul(c,c)},Q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var d=this.m.add(new i(1)).iushrn(2);return this.pow(c,d)}for(var g=this.m.subn(1),m=0;!g.isZero()&&g.andln(1)===0;)m++,g.iushrn(1);t(!g.isZero());var w=new i(1).toRed(this),B=w.redNeg(),b=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,b).cmp(B)!==0;)h.redIAdd(B);for(var S=this.pow(h,g),$=this.pow(c,g.addn(1).iushrn(1)),X=this.pow(c,g),Z=m;X.cmp(w)!==0;){for(var J=X,ne=0;J.cmp(w)!==0;ne++)J=J.redSqr();t(ne<Z);var ie=this.pow(S,new i(1).iushln(Z-ne-1));$=$.redMul(ie),S=ie.redSqr(),X=X.redMul(S),Z=ne}return $},Q.prototype.invm=function(c){var l=c._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Q.prototype.pow=function(c,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return c.clone();var d=4,g=new Array(1<<d);g[0]=new i(1).toRed(this),g[1]=c;for(var m=2;m<g.length;m++)g[m]=this.mul(g[m-1],c);var w=g[0],B=0,b=0,h=l.bitLength()%26;for(h===0&&(h=26),m=l.length-1;m>=0;m--){for(var S=l.words[m],$=h-1;$>=0;$--){var X=S>>$&1;if(w!==g[0]&&(w=this.sqr(w)),X===0&&B===0){b=0;continue}B<<=1,B|=X,b++,!(b!==d&&(m!==0||$!==0))&&(w=this.mul(w,g[B]),b=0,B=0)}h=26}return w},Q.prototype.convertTo=function(c){var l=c.umod(this.m);return l===c?l.clone():l},Q.prototype.convertFrom=function(c){var l=c.clone();return l.red=null,l},i.mont=function(c){return new V(c)};function V(v){Q.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(V,Q),V.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},V.prototype.convertFrom=function(c){var l=this.imod(c.mul(this.rinv));return l.red=null,l},V.prototype.imul=function(c,l){if(c.isZero()||l.isZero())return c.words[0]=0,c.length=1,c;var d=c.imul(l),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=d.isub(g).iushrn(this.shift),w=m;return m.cmp(this.m)>=0?w=m.isub(this.m):m.cmpn(0)<0&&(w=m.iadd(this.m)),w._forceRed(this)},V.prototype.mul=function(c,l){if(c.isZero()||l.isZero())return new i(0)._forceRed(this);var d=c.mul(l),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=d.isub(g).iushrn(this.shift),w=m;return m.cmp(this.m)>=0?w=m.isub(this.m):m.cmpn(0)<0&&(w=m.iadd(this.m)),w._forceRed(this)},V.prototype.invm=function(c){var l=this.imod(c._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof Vc>"u"||Vc,hd)});var la=ce(Wi=>{"use strict";var Gc=xc(),zi=Bc(),dd=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Wi.Buffer=H;Wi.SlowBuffer=eb;Wi.INSPECT_MAX_BYTES=50;var ca=2147483647;Wi.kMaxLength=ca;H.TYPED_ARRAY_SUPPORT=Ym();!H.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ym(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(H.prototype,"parent",{enumerable:!0,get:function(){if(!!H.isBuffer(this))return this.buffer}});Object.defineProperty(H.prototype,"offset",{enumerable:!0,get:function(){if(!!H.isBuffer(this))return this.byteOffset}});function Gr(r){if(r>ca)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,H.prototype),e}function H(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Jc(r)}return md(r,e,t)}H.poolSize=8192;function md(r,e,t){if(typeof r=="string")return Xm(r,e);if(ArrayBuffer.isView(r))return Jm(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Dr(r,ArrayBuffer)||r&&Dr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Dr(r,SharedArrayBuffer)||r&&Dr(r.buffer,SharedArrayBuffer)))return Zc(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return H.from(n,e,t);let i=Qm(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return H.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}H.from=function(r,e,t){return md(r,e,t)};Object.setPrototypeOf(H.prototype,Uint8Array.prototype);Object.setPrototypeOf(H,Uint8Array);function bd(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Zm(r,e,t){return bd(r),r<=0?Gr(r):e!==void 0?typeof t=="string"?Gr(r).fill(e,t):Gr(r).fill(e):Gr(r)}H.alloc=function(r,e,t){return Zm(r,e,t)};function Jc(r){return bd(r),Gr(r<0?0:Qc(r)|0)}H.allocUnsafe=function(r){return Jc(r)};H.allocUnsafeSlow=function(r){return Jc(r)};function Xm(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!H.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=wd(r,e)|0,n=Gr(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function Yc(r){let e=r.length<0?0:Qc(r.length)|0,t=Gr(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function Jm(r){if(Dr(r,Uint8Array)){let e=new Uint8Array(r);return Zc(e.buffer,e.byteOffset,e.byteLength)}return Yc(r)}function Zc(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,H.prototype),n}function Qm(r){if(H.isBuffer(r)){let e=Qc(r.length)|0,t=Gr(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||tf(r.length)?Gr(0):Yc(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Yc(r.data)}function Qc(r){if(r>=ca)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ca.toString(16)+" bytes");return r|0}function eb(r){return+r!=r&&(r=0),H.alloc(+r)}H.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==H.prototype};H.compare=function(e,t){if(Dr(e,Uint8Array)&&(e=H.from(e,e.offset,e.byteLength)),Dr(t,Uint8Array)&&(t=H.from(t,t.offset,t.byteLength)),!H.isBuffer(e)||!H.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0};H.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};H.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return H.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=H.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let o=e[n];if(Dr(o,Uint8Array))s+o.length>i.length?(H.isBuffer(o)||(o=H.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(H.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function wd(r,e){if(H.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Dr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Xc(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return _d(r).length;default:if(i)return n?-1:Xc(r).length;e=(""+e).toLowerCase(),i=!0}}H.byteLength=wd;function tb(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return lb(this,e,t);case"utf8":case"utf-8":return kd(this,e,t);case"ascii":return cb(this,e,t);case"latin1":case"binary":return fb(this,e,t);case"base64":return ab(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hb(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}H.prototype._isBuffer=!0;function oi(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}H.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)oi(this,t,t+1);return this};H.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)oi(this,t,t+3),oi(this,t+1,t+2);return this};H.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)oi(this,t,t+7),oi(this,t+1,t+6),oi(this,t+2,t+5),oi(this,t+3,t+4);return this};H.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?kd(this,0,e):tb.apply(this,arguments)};H.prototype.toLocaleString=H.prototype.toString;H.prototype.equals=function(e){if(!H.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:H.compare(this,e)===0};H.prototype.inspect=function(){let e="",t=Wi.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};dd&&(H.prototype[dd]=H.prototype.inspect);H.prototype.compare=function(e,t,n,i,s){if(Dr(e,Uint8Array)&&(e=H.from(e,e.offset,e.byteLength)),!H.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-t,u=Math.min(o,a),f=this.slice(i,s),y=e.slice(t,n);for(let p=0;p<u;++p)if(f[p]!==y[p]){o=f[p],a=y[p];break}return o<a?-1:a<o?1:0};function vd(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,tf(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=H.from(e,n)),H.isBuffer(e))return e.length===0?-1:pd(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):pd(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function pd(r,e,t,n,i){let s=1,o=r.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function u(y,p){return s===1?y[p]:y.readUInt16BE(p*s)}let f;if(i){let y=-1;for(f=t;f<o;f++)if(u(r,f)===u(e,y===-1?0:f-y)){if(y===-1&&(y=f),f-y+1===a)return y*s}else y!==-1&&(f-=f-y),y=-1}else for(t+a>o&&(t=o-a),f=t;f>=0;f--){let y=!0;for(let p=0;p<a;p++)if(u(r,f+p)!==u(e,p)){y=!1;break}if(y)return f}return-1}H.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};H.prototype.indexOf=function(e,t,n){return vd(this,e,t,n,!0)};H.prototype.lastIndexOf=function(e,t,n){return vd(this,e,t,n,!1)};function rb(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(tf(a))return o;r[t+o]=a}return o}function nb(r,e,t,n){return fa(Xc(e,r.length-t),r,t,n)}function ib(r,e,t,n){return fa(gb(e),r,t,n)}function sb(r,e,t,n){return fa(_d(e),r,t,n)}function ob(r,e,t,n){return fa(mb(e,r.length-t),r,t,n)}H.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return rb(this,e,t,n);case"utf8":case"utf-8":return nb(this,e,t,n);case"ascii":case"latin1":case"binary":return ib(this,e,t,n);case"base64":return sb(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ob(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};H.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ab(r,e,t){return e===0&&t===r.length?Gc.fromByteArray(r):Gc.fromByteArray(r.slice(e,t))}function kd(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let s=r[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=t){let u,f,y,p;switch(a){case 1:s<128&&(o=s);break;case 2:u=r[i+1],(u&192)===128&&(p=(s&31)<<6|u&63,p>127&&(o=p));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(p=(s&15)<<12|(u&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(o=p));break;case 4:u=r[i+1],f=r[i+2],y=r[i+3],(u&192)===128&&(f&192)===128&&(y&192)===128&&(p=(s&15)<<18|(u&63)<<12|(f&63)<<6|y&63,p>65535&&p<1114112&&(o=p))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return ub(n)}var yd=4096;function ub(r){let e=r.length;if(e<=yd)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=yd));return t}function cb(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function fb(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function lb(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let s=e;s<t;++s)i+=bb[r[s]];return i}function hb(r,e,t){let n=r.slice(e,t),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}H.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,H.prototype),i};function Dt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}H.prototype.readUintLE=H.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Dt(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return i};H.prototype.readUintBE=H.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Dt(e,t,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i};H.prototype.readUint8=H.prototype.readUInt8=function(e,t){return e=e>>>0,t||Dt(e,1,this.length),this[e]};H.prototype.readUint16LE=H.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Dt(e,2,this.length),this[e]|this[e+1]<<8};H.prototype.readUint16BE=H.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Dt(e,2,this.length),this[e]<<8|this[e+1]};H.prototype.readUint32LE=H.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Dt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};H.prototype.readUint32BE=H.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Dt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};H.prototype.readBigUInt64LE=An(function(e){e=e>>>0,Di(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ws(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});H.prototype.readBigUInt64BE=An(function(e){e=e>>>0,Di(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ws(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});H.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Dt(e,t,this.length);let i=this[e],s=1,o=0;for(;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};H.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Dt(e,t,this.length);let i=t,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};H.prototype.readInt8=function(e,t){return e=e>>>0,t||Dt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};H.prototype.readInt16LE=function(e,t){e=e>>>0,t||Dt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};H.prototype.readInt16BE=function(e,t){e=e>>>0,t||Dt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};H.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Dt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};H.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Dt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};H.prototype.readBigInt64LE=An(function(e){e=e>>>0,Di(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ws(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});H.prototype.readBigInt64BE=An(function(e){e=e>>>0,Di(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ws(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});H.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Dt(e,4,this.length),zi.read(this,e,!0,23,4)};H.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Dt(e,4,this.length),zi.read(this,e,!1,23,4)};H.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Dt(e,8,this.length),zi.read(this,e,!0,52,8)};H.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Dt(e,8,this.length),zi.read(this,e,!1,52,8)};function sr(r,e,t,n,i,s){if(!H.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}H.prototype.writeUintLE=H.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;sr(this,e,t,n,a,0)}let s=1,o=0;for(this[t]=e&255;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n};H.prototype.writeUintBE=H.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;sr(this,e,t,n,a,0)}let s=n-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n};H.prototype.writeUint8=H.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,1,255,0),this[t]=e&255,t+1};H.prototype.writeUint16LE=H.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};H.prototype.writeUint16BE=H.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};H.prototype.writeUint32LE=H.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};H.prototype.writeUint32BE=H.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Sd(r,e,t,n,i){Ed(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function xd(r,e,t,n,i){Ed(e,n,i,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}H.prototype.writeBigUInt64LE=An(function(e,t=0){return Sd(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});H.prototype.writeBigUInt64BE=An(function(e,t=0){return xd(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});H.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);sr(this,e,t,n,u-1,-u)}let s=0,o=1,a=0;for(this[t]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n};H.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);sr(this,e,t,n,u-1,-u)}let s=n-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n};H.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};H.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};H.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};H.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};H.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||sr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};H.prototype.writeBigInt64LE=An(function(e,t=0){return Sd(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});H.prototype.writeBigInt64BE=An(function(e,t=0){return xd(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Id(r,e,t,n,i,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Bd(r,e,t,n,i){return e=+e,t=t>>>0,i||Id(r,e,t,4,34028234663852886e22,-34028234663852886e22),zi.write(r,e,t,n,23,4),t+4}H.prototype.writeFloatLE=function(e,t,n){return Bd(this,e,t,!0,n)};H.prototype.writeFloatBE=function(e,t,n){return Bd(this,e,t,!1,n)};function Ad(r,e,t,n,i){return e=+e,t=t>>>0,i||Id(r,e,t,8,17976931348623157e292,-17976931348623157e292),zi.write(r,e,t,n,52,8),t+8}H.prototype.writeDoubleLE=function(e,t,n){return Ad(this,e,t,!0,n)};H.prototype.writeDoubleBE=function(e,t,n){return Ad(this,e,t,!1,n)};H.prototype.copy=function(e,t,n,i){if(!H.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),s};H.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!H.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let o=H.isBuffer(e)?e:H.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var Ui={};function ef(r,e,t){Ui[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}ef("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ef("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);ef("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=gd(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=gd(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function gd(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function db(r,e,t){Di(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ws(e,r.length-(t+1))}function Ed(r,e,t,n,i,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new Ui.ERR_OUT_OF_RANGE("value",a,r)}db(n,i,s)}function Di(r,e){if(typeof r!="number")throw new Ui.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ws(r,e,t){throw Math.floor(r)!==r?(Di(r,t),new Ui.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Ui.ERR_BUFFER_OUT_OF_BOUNDS:new Ui.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var pb=/[^+/0-9A-Za-z-_]/g;function yb(r){if(r=r.split("=")[0],r=r.trim().replace(pb,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Xc(r,e){e=e||1/0;let t,n=r.length,i=null,s=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function gb(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function mb(r,e){let t,n,i,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,s.push(i),s.push(n);return s}function _d(r){return Gc.toByteArray(yb(r))}function fa(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Dr(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function tf(r){return r!==r}var bb=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function An(r){return typeof BigInt>"u"?wb:r}function wb(){throw new Error("BigInt not supported")}});var da=ce((rf,Rd)=>{var ha=la(),Wr=ha.Buffer;function Ld(r,e){for(var t in r)e[t]=r[t]}Wr.from&&Wr.alloc&&Wr.allocUnsafe&&Wr.allocUnsafeSlow?Rd.exports=ha:(Ld(ha,rf),rf.Buffer=ai);function ai(r,e,t){return Wr(r,e,t)}ai.prototype=Object.create(Wr.prototype);Ld(Wr,ai);ai.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return Wr(r,e,t)};ai.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=Wr(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};ai.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Wr(r)};ai.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return ha.SlowBuffer(r)}});var Pd=ce((fx,Td)=>{"use strict";var pa=da().Buffer;function vb(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function y(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=pa.from(k)),!pa.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var E=0,A=0,L=0,P=k.length;L!==P&&k[L]===0;)L++,E++;for(var O=(P-L)*f+1>>>0,C=new Uint8Array(O);L!==P;){for(var K=k[L],z=0,D=O-1;(K!==0||z<A)&&D!==-1;D--,z++)K+=256*C[D]>>>0,C[D]=K%o>>>0,K=K/o>>>0;if(K!==0)throw new Error("Non-zero carry");A=z,L++}for(var U=O-A;U!==O&&C[U]===0;)U++;for(var j=a.repeat(E);U<O;++U)j+=r.charAt(C[U]);return j}function p(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return pa.alloc(0);for(var E=0,A=0,L=0;k[E]===a;)A++,E++;for(var P=(k.length-E)*u+1>>>0,O=new Uint8Array(P);k[E];){var C=e[k.charCodeAt(E)];if(C===255)return;for(var K=0,z=P-1;(C!==0||K<L)&&z!==-1;z--,K++)C+=o*O[z]>>>0,O[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");L=K,E++}for(var D=P-L;D!==P&&O[D]===0;)D++;var U=pa.allocUnsafe(A+(P-D));U.fill(0,0,A);for(var j=A;D!==P;)U[j++]=O[D++];return U}function I(k){var E=p(k);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:y,decodeUnsafe:p,decode:I}}Td.exports=vb});var nf=ce((lx,Cd)=>{var kb=Pd(),Sb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Cd.exports=kb(Sb)});var Od=ce((gx,Md)=>{"use strict";var ma=da().Buffer;function Ab(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function y(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=ma.from(k)),!ma.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var E=0,A=0,L=0,P=k.length;L!==P&&k[L]===0;)L++,E++;for(var O=(P-L)*f+1>>>0,C=new Uint8Array(O);L!==P;){for(var K=k[L],z=0,D=O-1;(K!==0||z<A)&&D!==-1;D--,z++)K+=256*C[D]>>>0,C[D]=K%o>>>0,K=K/o>>>0;if(K!==0)throw new Error("Non-zero carry");A=z,L++}for(var U=O-A;U!==O&&C[U]===0;)U++;for(var j=a.repeat(E);U<O;++U)j+=r.charAt(C[U]);return j}function p(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return ma.alloc(0);for(var E=0,A=0,L=0;k[E]===a;)A++,E++;for(var P=(k.length-E)*u+1>>>0,O=new Uint8Array(P);k[E];){var C=e[k.charCodeAt(E)];if(C===255)return;for(var K=0,z=P-1;(C!==0||K<L)&&z!==-1;z--,K++)C+=o*O[z]>>>0,O[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");L=K,E++}for(var D=P-L;D!==P&&O[D]===0;)D++;var U=ma.allocUnsafe(A+(P-D));U.fill(0,0,A);for(var j=A;D!==P;)U[j++]=O[D++];return U}function I(k){var E=p(k);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:y,decodeUnsafe:p,decode:I}}Md.exports=Ab});var Ud=ce((mx,Nd)=>{var Eb=Od(),_b="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Nd.exports=Eb(_b)});var zd=ce(uf=>{"use strict";function Yr(r,e,t){return e<=r&&r<=t}function Sa(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Lb(r){for(var e=String(r),t=e.length,n=0,i=[];n<t;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===t-1)i.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,u=o&1023;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}function Rb(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var ba=-1;function af(r){this.tokens=[].slice.call(r)}af.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ba},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Ki=-1;function of(r,e){if(r)throw TypeError("Decoder error");return e||65533}var wa="utf-8";function va(r,e){if(!(this instanceof va))return new va(r,e);if(r=r!==void 0?String(r).toLowerCase():wa,r!==wa)throw new Error("Encoding not supported. Only utf-8 is supported");e=Sa(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}va.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=Sa(t),this._streaming||(this._decoder=new Tb({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var i=new af(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Ki);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Ki)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),Rb(s)}};function ka(r,e){if(!(this instanceof ka))return new ka(r,e);if(r=r!==void 0?String(r).toLowerCase():wa,r!==wa)throw new Error("Encoding not supported. Only utf-8 is supported");e=Sa(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}ka.prototype={encode:function(e,t){e=e?String(e):"",t=Sa(t),this._streaming||(this._encoder=new Pb(this._options)),this._streaming=Boolean(t.stream);for(var n=[],i=new af(Lb(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ki);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ki;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function Tb(r){var e=r.fatal,t=0,n=0,i=0,s=128,o=191;this.handler=function(a,u){if(u===ba&&i!==0)return i=0,of(e);if(u===ba)return Ki;if(i===0){if(Yr(u,0,127))return u;if(Yr(u,194,223))i=1,t=u-192;else if(Yr(u,224,239))u===224&&(s=160),u===237&&(o=159),i=2,t=u-224;else if(Yr(u,240,244))u===240&&(s=144),u===244&&(o=143),i=3,t=u-240;else return of(e);return t=t<<6*i,null}if(!Yr(u,s,o))return t=i=n=0,s=128,o=191,a.prepend(u),of(e);if(s=128,o=191,n+=1,t+=u-128<<6*(i-n),n!==i)return null;var f=t;return t=i=n=0,f}}function Pb(r){var e=r.fatal;this.handler=function(t,n){if(n===ba)return Ki;if(Yr(n,0,127))return n;var i,s;Yr(n,128,2047)?(i=1,s=192):Yr(n,2048,65535)?(i=2,s=224):Yr(n,65536,1114111)&&(i=3,s=240);for(var o=[(n>>6*i)+s];i>0;){var a=n>>6*(i-1);o.push(128|a&63),i-=1}return o}}uf.TextEncoder=ka;uf.TextDecoder=va});var lf=ce(Te=>{"use strict";var Cb=Te&&Te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Mb=Te&&Te.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kr=Te&&Te.__decorate||function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ob=Te&&Te.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&Cb(e,r,t);return Mb(e,r),e},Dd=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Te,"__esModule",{value:!0});Te.deserializeUnchecked=Te.deserialize=Te.serialize=Te.BinaryReader=Te.BinaryWriter=Te.BorshError=Te.baseDecode=Te.baseEncode=void 0;var Ln=Dd(ua()),Wd=Dd(Ud()),Nb=Ob(zd()),Ub=typeof TextDecoder!="function"?Nb.TextDecoder:TextDecoder,zb=new Ub("utf-8",{fatal:!0});function Db(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Wd.default.encode(Buffer.from(r))}Te.baseEncode=Db;function Wb(r){return Buffer.from(Wd.default.decode(r))}Te.baseDecode=Wb;var cf=1024,Ft=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Te.BorshError=Ft;var xa=class{constructor(){this.buf=Buffer.alloc(cf),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(cf)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ln.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ln.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ln.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ln.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(cf)]),this.length+=e.length}writeString(e){this.maybeResize();let t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Te.BinaryWriter=xa;function Fr(r,e,t){let n=t.value;t.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Ft("Reached the end of buffer when deserializing")}throw s}}}var tr=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Ln.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Ln.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Ln.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Ln.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ft(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return zb.decode(t)}catch(n){throw new Ft(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let i=0;i<t;++i)n.push(e());return n}};Kr([Fr],tr.prototype,"readU8",null);Kr([Fr],tr.prototype,"readU16",null);Kr([Fr],tr.prototype,"readU32",null);Kr([Fr],tr.prototype,"readU64",null);Kr([Fr],tr.prototype,"readU128",null);Kr([Fr],tr.prototype,"readU256",null);Kr([Fr],tr.prototype,"readU512",null);Kr([Fr],tr.prototype,"readString",null);Kr([Fr],tr.prototype,"readFixedArray",null);Kr([Fr],tr.prototype,"readArray",null);Te.BinaryReader=tr;function Kd(r){return r.charAt(0).toUpperCase()+r.slice(1)}function ui(r,e,t,n,i){try{if(typeof n=="string")i[`write${Kd(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Ft(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Ft(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let s=0;s<n[1];s++)ui(r,null,t[s],n[0],i)}else i.writeArray(t,s=>{ui(r,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),ui(r,e,t,n.type,i));break}case"map":{i.writeU32(t.size),t.forEach((s,o)=>{ui(r,e,o,n.key,i),ui(r,e,s,n.value,i)});break}default:throw new Ft(`FieldType ${n} unrecognized`)}else Fd(r,t,i)}catch(s){throw s instanceof Ft&&s.addToFieldPath(e),s}}function Fd(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new Ft(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{ui(r,i,e[i],s,t)});else if(n.kind==="enum"){let i=e[n.field];for(let s=0;s<n.values.length;++s){let[o,a]=n.values[s];if(o===i){t.writeU8(s),ui(r,o,e[o],a,t);break}}}else throw new Ft(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Kb(r,e,t=xa){let n=new t;return Fd(r,e,n),n.toArray()}Te.serialize=Kb;function ci(r,e,t,n){try{if(typeof t=="string")return n[`read${Kd(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let i=[];for(let s=0;s<t[1];s++)i.push(ci(r,null,t[0],n));return i}else return n.readArray(()=>ci(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?ci(r,e,t.type,n):void 0;if(t.kind==="map"){let i=new Map,s=n.readU32();for(let o=0;o<s;o++){let a=ci(r,e,t.key,n),u=ci(r,e,t.value,n);i.set(a,u)}return i}return ff(r,t,n)}catch(i){throw i instanceof Ft&&i.addToFieldPath(e),i}}function ff(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new Ft(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[s,o]of r.get(e).fields)i[s]=ci(r,s,o,t);return new e(i)}if(n.kind==="enum"){let i=t.readU8();if(i>=n.values.length)throw new Ft(`Enum index: ${i} is out of range`);let[s,o]=n.values[i],a=ci(r,s,o,t);return new e({[s]:a})}throw new Ft(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Fb(r,e,t,n=tr){let i=new n(t),s=ff(r,e,i);if(i.offset<t.length)throw new Ft(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return s}Te.deserialize=Fb;function qb(r,e,t,n=tr){let i=new n(t);return ff(r,e,i)}Te.deserializeUnchecked=qb});var $s=ce(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.s16=N.s8=N.nu64be=N.u48be=N.u40be=N.u32be=N.u24be=N.u16be=N.nu64=N.u48=N.u40=N.u32=N.u24=N.u16=N.u8=N.offset=N.greedy=N.Constant=N.UTF8=N.CString=N.Blob=N.Boolean=N.BitField=N.BitStructure=N.VariantLayout=N.Union=N.UnionLayoutDiscriminator=N.UnionDiscriminator=N.Structure=N.Sequence=N.DoubleBE=N.Double=N.FloatBE=N.Float=N.NearInt64BE=N.NearInt64=N.NearUInt64BE=N.NearUInt64=N.IntBE=N.Int=N.UIntBE=N.UInt=N.OffsetLayout=N.GreedyCount=N.ExternalLayout=N.bindConstructorLayout=N.nameWithProperty=N.Layout=N.uint8ArrayToBuffer=N.checkUint8Array=void 0;N.constant=N.utf8=N.cstr=N.blob=N.unionLayoutDiscriminator=N.union=N.seq=N.bits=N.struct=N.f64be=N.f64=N.f32be=N.f32=N.ns64be=N.s48be=N.s40be=N.s32be=N.s24be=N.s16be=N.ns64=N.s48=N.s40=N.s32=N.s24=void 0;var df=la();function Hi(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}N.checkUint8Array=Hi;function Ie(r){return Hi(r),df.Buffer.from(r.buffer,r.byteOffset,r.length)}N.uint8ArrayToBuffer=Ie;var Ee=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};N.Layout=Ee;function pf(r,e){return e.property?r+"["+e.property+"]":r}N.nameWithProperty=pf;function Hb(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ee))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}N.bindConstructorLayout=Hb;var $t=class extends Ee{isCount(){throw new Error("ExternalLayout is abstract")}};N.ExternalLayout=$t;var Ia=class extends $t{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Hi(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};N.GreedyCount=Ia;var Ks=class extends $t{constructor(e,t=0,n){if(!(e instanceof Ee))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof or||this.layout instanceof ur}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};N.OffsetLayout=Ks;var or=class extends Ee{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ie(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ie(t).writeUIntLE(e,n,this.span),this.span}};N.UInt=or;var ur=class extends Ee{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ie(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ie(t).writeUIntBE(e,n,this.span),this.span}};N.UIntBE=ur;var Zr=class extends Ee{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ie(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ie(t).writeIntLE(e,n,this.span),this.span}};N.Int=Zr;var Rn=class extends Ee{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ie(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ie(t).writeIntBE(e,n,this.span),this.span}};N.IntBE=Rn;var hf=Math.pow(2,32);function Ka(r){let e=Math.floor(r/hf),t=r-e*hf;return{hi32:e,lo32:t}}function Fa(r,e){return r*hf+e}var Ba=class extends Ee{constructor(e){super(8,e)}decode(e,t=0){let n=Ie(e),i=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return Fa(s,i)}encode(e,t,n=0){let i=Ka(e),s=Ie(t);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};N.NearUInt64=Ba;var Aa=class extends Ee{constructor(e){super(8,e)}decode(e,t=0){let n=Ie(e),i=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return Fa(i,s)}encode(e,t,n=0){let i=Ka(e),s=Ie(t);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};N.NearUInt64BE=Aa;var Ea=class extends Ee{constructor(e){super(8,e)}decode(e,t=0){let n=Ie(e),i=n.readUInt32LE(t),s=n.readInt32LE(t+4);return Fa(s,i)}encode(e,t,n=0){let i=Ka(e),s=Ie(t);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};N.NearInt64=Ea;var _a=class extends Ee{constructor(e){super(8,e)}decode(e,t=0){let n=Ie(e),i=n.readInt32BE(t),s=n.readUInt32BE(t+4);return Fa(i,s)}encode(e,t,n=0){let i=Ka(e),s=Ie(t);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};N.NearInt64BE=_a;var La=class extends Ee{constructor(e){super(4,e)}decode(e,t=0){return Ie(e).readFloatLE(t)}encode(e,t,n=0){return Ie(t).writeFloatLE(e,n),4}};N.Float=La;var Ra=class extends Ee{constructor(e){super(4,e)}decode(e,t=0){return Ie(e).readFloatBE(t)}encode(e,t,n=0){return Ie(t).writeFloatBE(e,n),4}};N.FloatBE=Ra;var Ta=class extends Ee{constructor(e){super(8,e)}decode(e,t=0){return Ie(e).readDoubleLE(t)}encode(e,t,n=0){return Ie(t).writeDoubleLE(e,n),8}};N.Double=Ta;var Pa=class extends Ee{constructor(e){super(8,e)}decode(e,t=0){return Ie(e).readDoubleBE(t)}encode(e,t,n=0){return Ie(t).writeDoubleBE(e,n),8}};N.DoubleBE=Pa;var Ca=class extends Ee{constructor(e,t,n){if(!(e instanceof Ee))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof $t&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof $t)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof $t&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],i=0,s=this.count;for(s instanceof $t&&(s=s.decode(e,t));i<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,t,n+o),0);return this.count instanceof $t&&this.count.encode(e.length,t,n),s}};N.Sequence=Ca;var Ma=class extends Ee{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ee,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch(s){}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let o=s.getSpan(e,t);return t+=o,i+o},0)}catch(i){throw new RangeError("indeterminate span")}return n}decode(e,t=0){Hi(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,s=0,o=0;for(let a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){let f=e[a.property];f!==void 0&&(o=a.encode(f,t,n),0>u&&(u=a.getSpan(t,n)))}s=n,n+=u}return s+o-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};N.Structure=Ma;var Fs=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};N.UnionDiscriminator=Fs;var qi=class extends Fs{constructor(e,t){if(!(e instanceof $t&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};N.UnionLayoutDiscriminator=qi;var qs=class extends Ee{constructor(e,t,n){let i;if(e instanceof or||e instanceof ur)i=new qi(new Ks(e));else if(e instanceof $t&&e.isCount())i=new qi(e);else if(e instanceof Fs)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ee))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof or||e instanceof ur)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof or||e instanceof ur,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){let a=this.defaultLayout,u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(e,t+u)}else n=o.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,o=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,n),a+o.encode(e[o.property],t,n+a)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new Oa(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};N.Union=qs;var Oa=class extends Ee{constructor(e,t,n,i){if(!(e instanceof qs))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ee))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),s+=this.layout.getSpan(t,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};N.VariantLayout=Oa;function Fi(r){return 0>r&&(r+=4294967296),r}var Hs=class extends Ee{constructor(e,t,n){if(!(e instanceof or||e instanceof ur))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Fi(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new js(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new Na(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};N.BitStructure=Hs;var js=class{constructor(e,t,n){if(!(e instanceof Hs))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=Fi(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return Fi(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Fi(e&this.valueMask))throw new TypeError(pf("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=Fi(e<<this.start);this.container._packedSetValue(Fi(t&~this.wordMask)|n)}};N.BitField=js;var Na=class extends js{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};N.Boolean=Na;var Ua=class extends Ee{constructor(e,t){if(!(e instanceof $t&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof $t||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ie(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof $t&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(pf("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let s=Ie(e);return Ie(t).write(s.toString("hex"),n,i,"hex"),this.length instanceof $t&&this.length.encode(i,t,n),i}};N.Blob=Ua;var za=class extends Ee{constructor(e){super(-1,e)}getSpan(e,t=0){Hi(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return Ie(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=df.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let o=Ie(t);return i.copy(o,n),o[n+s]=0,s+1}};N.CString=za;var Da=class extends Ee{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Hi(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ie(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=df.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ie(t),n),s}};N.UTF8=Da;var Wa=class extends Ee{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};N.Constant=Wa;N.greedy=(r,e)=>new Ia(r,e);N.offset=(r,e,t)=>new Ks(r,e,t);N.u8=r=>new or(1,r);N.u16=r=>new or(2,r);N.u24=r=>new or(3,r);N.u32=r=>new or(4,r);N.u40=r=>new or(5,r);N.u48=r=>new or(6,r);N.nu64=r=>new Ba(r);N.u16be=r=>new ur(2,r);N.u24be=r=>new ur(3,r);N.u32be=r=>new ur(4,r);N.u40be=r=>new ur(5,r);N.u48be=r=>new ur(6,r);N.nu64be=r=>new Aa(r);N.s8=r=>new Zr(1,r);N.s16=r=>new Zr(2,r);N.s24=r=>new Zr(3,r);N.s32=r=>new Zr(4,r);N.s40=r=>new Zr(5,r);N.s48=r=>new Zr(6,r);N.ns64=r=>new Ea(r);N.s16be=r=>new Rn(2,r);N.s24be=r=>new Rn(3,r);N.s32be=r=>new Rn(4,r);N.s40be=r=>new Rn(5,r);N.s48be=r=>new Rn(6,r);N.ns64be=r=>new _a(r);N.f32=r=>new La(r);N.f32be=r=>new Ra(r);N.f64=r=>new Ta(r);N.f64be=r=>new Pa(r);N.struct=(r,e,t)=>new Ma(r,e,t);N.bits=(r,e,t)=>new Hs(r,e,t);N.seq=(r,e,t)=>new Ca(r,e,t);N.union=(r,e,t)=>new qs(r,e,t);N.unionLayoutDiscriminator=(r,e)=>new qi(r,e);N.blob=(r,e)=>new Ua(r,e);N.cstr=r=>new za(r);N.utf8=(r,e)=>new Da(r,e);N.constant=(r,e)=>new Wa(r,e)});var yf=ce(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var qa;function jb(r){{let e=Buffer.from(r);e.reverse();let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return qa.toBigInt(r,!1)}ji.toBigIntLE=jb;function $b(r){{let e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return qa.toBigInt(r,!0)}ji.toBigIntBE=$b;function Vb(r,e){{let t=r.toString(16),n=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return qa.fromBigInt(r,Buffer.allocUnsafe(e),!1)}ji.toBufferLE=Vb;function Gb(r,e){{let t=r.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}return qa.fromBigInt(r,Buffer.allocUnsafe(e),!0)}ji.toBufferBE=Gb});var Vi=ce((Ix,Gs)=>{function ew(r){return r&&r.__esModule?r:{default:r}}Gs.exports=ew,Gs.exports.__esModule=!0,Gs.exports.default=Gs.exports});var li=ce((Bx,Xr)=>{function wf(r){return Xr.exports=wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr.exports.__esModule=!0,Xr.exports.default=Xr.exports,wf(r)}Xr.exports=wf,Xr.exports.__esModule=!0,Xr.exports.default=Xr.exports});var $d=ce((Ax,Ys)=>{var jd=li().default;function tw(r,e){if(jd(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(jd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}Ys.exports=tw,Ys.exports.__esModule=!0,Ys.exports.default=Ys.exports});var Vd=ce((Ex,Zs)=>{var rw=li().default,nw=$d();function iw(r){var e=nw(r,"string");return rw(e)==="symbol"?e:String(e)}Zs.exports=iw,Zs.exports.__esModule=!0,Zs.exports.default=Zs.exports});var Gi=ce((_x,Xs)=>{var sw=Vd();function Gd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,sw(n.key),n)}}function ow(r,e,t){return e&&Gd(r.prototype,e),t&&Gd(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}Xs.exports=ow,Xs.exports.__esModule=!0,Xs.exports.default=Xs.exports});var Yi=ce((Lx,Js)=>{function aw(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Js.exports=aw,Js.exports.__esModule=!0,Js.exports.default=Js.exports});var Yd=ce((Rx,Jr)=>{function vf(r,e){return Jr.exports=vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jr.exports.__esModule=!0,Jr.exports.default=Jr.exports,vf(r,e)}Jr.exports=vf,Jr.exports.__esModule=!0,Jr.exports.default=Jr.exports});var Zi=ce((Tx,Qs)=>{var uw=Yd();function cw(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&uw(r,e)}Qs.exports=cw,Qs.exports.__esModule=!0,Qs.exports.default=Qs.exports});var Zd=ce((Px,eo)=>{function fw(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}eo.exports=fw,eo.exports.__esModule=!0,eo.exports.default=eo.exports});var Xi=ce((Cx,to)=>{var lw=li().default,hw=Zd();function dw(r,e){if(e&&(lw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hw(r)}to.exports=dw,to.exports.__esModule=!0,to.exports.default=to.exports});var Ji=ce((Mx,Qr)=>{function kf(r){return Qr.exports=kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qr.exports.__esModule=!0,Qr.exports.default=Qr.exports,kf(r)}Qr.exports=kf,Qr.exports.__esModule=!0,Qr.exports.default=Qr.exports});var Qi=ce((Ox,Sf)=>{"use strict";var pw=Object.prototype.hasOwnProperty,rr="~";function ro(){}Object.create&&(ro.prototype=Object.create(null),new ro().__proto__||(rr=!1));function yw(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function Xd(r,e,t,n,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new yw(t,n||r,i),o=rr?rr+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],s]:r._events[o].push(s):(r._events[o]=s,r._eventsCount++),r}function ja(r,e){--r._eventsCount===0?r._events=new ro:delete r._events[e]}function Vt(){this._events=new ro,this._eventsCount=0}Vt.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)pw.call(t,n)&&e.push(rr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Vt.prototype.listeners=function(e){var t=rr?rr+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Vt.prototype.listenerCount=function(e){var t=rr?rr+e:e,n=this._events[t];return n?n.fn?1:n.length:0};Vt.prototype.emit=function(e,t,n,i,s,o){var a=rr?rr+e:e;if(!this._events[a])return!1;var u=this._events[a],f=arguments.length,y,p;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,s),!0;case 6:return u.fn.call(u.context,t,n,i,s,o),!0}for(p=1,y=new Array(f-1);p<f;p++)y[p-1]=arguments[p];u.fn.apply(u.context,y)}else{var I=u.length,k;for(p=0;p<I;p++)switch(u[p].once&&this.removeListener(e,u[p].fn,void 0,!0),f){case 1:u[p].fn.call(u[p].context);break;case 2:u[p].fn.call(u[p].context,t);break;case 3:u[p].fn.call(u[p].context,t,n);break;case 4:u[p].fn.call(u[p].context,t,n,i);break;default:if(!y)for(k=1,y=new Array(f-1);k<f;k++)y[k-1]=arguments[k];u[p].fn.apply(u[p].context,y)}}return!0};Vt.prototype.on=function(e,t,n){return Xd(this,e,t,n,!1)};Vt.prototype.once=function(e,t,n){return Xd(this,e,t,n,!0)};Vt.prototype.removeListener=function(e,t,n,i){var s=rr?rr+e:e;if(!this._events[s])return this;if(!t)return ja(this,s),this;var o=this._events[s];if(o.fn)o.fn===t&&(!i||o.once)&&(!n||o.context===n)&&ja(this,s);else{for(var a=0,u=[],f=o.length;a<f;a++)(o[a].fn!==t||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:ja(this,s)}return this};Vt.prototype.removeAllListeners=function(e){var t;return e?(t=rr?rr+e:e,this._events[t]&&ja(this,t)):(this._events=new ro,this._eventsCount=0),this};Vt.prototype.off=Vt.prototype.removeListener;Vt.prototype.addListener=Vt.prototype.on;Vt.prefixed=rr;Vt.EventEmitter=Vt;typeof Sf<"u"&&(Sf.exports=Vt)});var Qd=ce(xf=>{"use strict";var no=Vi();Object.defineProperty(xf,"__esModule",{value:!0});xf.default=Iw;var gw=no(Yi()),mw=no(Gi()),bw=no(Zi()),ww=no(Xi()),Jd=no(Ji()),vw=Qi();function kw(r){var e=Sw();return function(){var n=(0,Jd.default)(r),i;if(e){var s=(0,Jd.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,ww.default)(this,i)}}function Sw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var xw=function(r){(0,bw.default)(t,r);var e=kw(t);function t(n,i,s){var o;return(0,gw.default)(this,t),o=e.call(this),o.socket=new window.WebSocket(n,s),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(a){return o.emit("message",a.data)},o.socket.onerror=function(a){return o.emit("error",a)},o.socket.onclose=function(a){o.emit("close",a.code,a.reason)},o}return(0,mw.default)(t,[{key:"send",value:function(i,s,o){var a=o||s;try{this.socket.send(i),a()}catch(u){a(u)}}},{key:"close",value:function(i,s){this.socket.close(i,s)}},{key:"addEventListener",value:function(i,s,o){this.socket.addEventListener(i,s,o)}}]),t}(vw.EventEmitter);function Iw(r,e){return new xw(r,e)}});var tp=ce((Ux,en)=>{var Bw=li().default;function ep(){"use strict";en.exports=ep=function(){return r},en.exports.__esModule=!0,en.exports.default=en.exports;var r={},e=Object.prototype,t=e.hasOwnProperty,n=Object.defineProperty||function(V,v,c){V[v]=c.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(V,v,c){return Object.defineProperty(V,v,{value:c,enumerable:!0,configurable:!0,writable:!0}),V[v]}try{u({},"")}catch(V){u=function(c,l,d){return c[l]=d}}function f(V,v,c,l){var d=v&&v.prototype instanceof I?v:I,g=Object.create(d.prototype),m=new ee(l||[]);return n(g,"_invoke",{value:z(V,c,m)}),g}function y(V,v,c){try{return{type:"normal",arg:V.call(v,c)}}catch(l){return{type:"throw",arg:l}}}r.wrap=f;var p={};function I(){}function k(){}function E(){}var A={};u(A,s,function(){return this});var L=Object.getPrototypeOf,P=L&&L(L(re([])));P&&P!==e&&t.call(P,s)&&(A=P);var O=E.prototype=I.prototype=Object.create(A);function C(V){["next","throw","return"].forEach(function(v){u(V,v,function(c){return this._invoke(v,c)})})}function K(V,v){function c(d,g,m,w){var B=y(V[d],V,g);if(B.type!=="throw"){var b=B.arg,h=b.value;return h&&Bw(h)=="object"&&t.call(h,"__await")?v.resolve(h.__await).then(function(S){c("next",S,m,w)},function(S){c("throw",S,m,w)}):v.resolve(h).then(function(S){b.value=S,m(b)},function(S){return c("throw",S,m,w)})}w(B.arg)}var l;n(this,"_invoke",{value:function(g,m){function w(){return new v(function(B,b){c(g,m,B,b)})}return l=l?l.then(w,w):w()}})}function z(V,v,c){var l="suspendedStart";return function(d,g){if(l==="executing")throw new Error("Generator is already running");if(l==="completed"){if(d==="throw")throw g;return Q()}for(c.method=d,c.arg=g;;){var m=c.delegate;if(m){var w=D(m,c);if(w){if(w===p)continue;return w}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(l==="suspendedStart")throw l="completed",c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);l="executing";var B=y(V,v,c);if(B.type==="normal"){if(l=c.done?"completed":"suspendedYield",B.arg===p)continue;return{value:B.arg,done:c.done}}B.type==="throw"&&(l="completed",c.method="throw",c.arg=B.arg)}}}function D(V,v){var c=v.method,l=V.iterator[c];if(l===void 0)return v.delegate=null,c==="throw"&&V.iterator.return&&(v.method="return",v.arg=void 0,D(V,v),v.method==="throw")||c!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+c+"' method")),p;var d=y(l,V.iterator,v.arg);if(d.type==="throw")return v.method="throw",v.arg=d.arg,v.delegate=null,p;var g=d.arg;return g?g.done?(v[V.resultName]=g.value,v.next=V.nextLoc,v.method!=="return"&&(v.method="next",v.arg=void 0),v.delegate=null,p):g:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,p)}function U(V){var v={tryLoc:V[0]};1 in V&&(v.catchLoc=V[1]),2 in V&&(v.finallyLoc=V[2],v.afterLoc=V[3]),this.tryEntries.push(v)}function j(V){var v=V.completion||{};v.type="normal",delete v.arg,V.completion=v}function ee(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(U,this),this.reset(!0)}function re(V){if(V){var v=V[s];if(v)return v.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var c=-1,l=function d(){for(;++c<V.length;)if(t.call(V,c))return d.value=V[c],d.done=!1,d;return d.value=void 0,d.done=!0,d};return l.next=l}}return{next:Q}}function Q(){return{value:void 0,done:!0}}return k.prototype=E,n(O,"constructor",{value:E,configurable:!0}),n(E,"constructor",{value:k,configurable:!0}),k.displayName=u(E,a,"GeneratorFunction"),r.isGeneratorFunction=function(V){var v=typeof V=="function"&&V.constructor;return!!v&&(v===k||(v.displayName||v.name)==="GeneratorFunction")},r.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,E):(V.__proto__=E,u(V,a,"GeneratorFunction")),V.prototype=Object.create(O),V},r.awrap=function(V){return{__await:V}},C(K.prototype),u(K.prototype,o,function(){return this}),r.AsyncIterator=K,r.async=function(V,v,c,l,d){d===void 0&&(d=Promise);var g=new K(f(V,v,c,l),d);return r.isGeneratorFunction(v)?g:g.next().then(function(m){return m.done?m.value:g.next()})},C(O),u(O,a,"Generator"),u(O,s,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),r.keys=function(V){var v=Object(V),c=[];for(var l in v)c.push(l);return c.reverse(),function d(){for(;c.length;){var g=c.pop();if(g in v)return d.value=g,d.done=!1,d}return d.done=!0,d}},r.values=re,ee.prototype={constructor:ee,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!v)for(var c in this)c.charAt(0)==="t"&&t.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=void 0)},stop:function(){this.done=!0;var v=this.tryEntries[0].completion;if(v.type==="throw")throw v.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var c=this;function l(b,h){return m.type="throw",m.arg=v,c.next=b,h&&(c.method="next",c.arg=void 0),!!h}for(var d=this.tryEntries.length-1;d>=0;--d){var g=this.tryEntries[d],m=g.completion;if(g.tryLoc==="root")return l("end");if(g.tryLoc<=this.prev){var w=t.call(g,"catchLoc"),B=t.call(g,"finallyLoc");if(w&&B){if(this.prev<g.catchLoc)return l(g.catchLoc,!0);if(this.prev<g.finallyLoc)return l(g.finallyLoc)}else if(w){if(this.prev<g.catchLoc)return l(g.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return l(g.finallyLoc)}}}},abrupt:function(v,c){for(var l=this.tryEntries.length-1;l>=0;--l){var d=this.tryEntries[l];if(d.tryLoc<=this.prev&&t.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var g=d;break}}g&&(v==="break"||v==="continue")&&g.tryLoc<=c&&c<=g.finallyLoc&&(g=null);var m=g?g.completion:{};return m.type=v,m.arg=c,g?(this.method="next",this.next=g.finallyLoc,p):this.complete(m)},complete:function(v,c){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&c&&(this.next=c),p},finish:function(v){for(var c=this.tryEntries.length-1;c>=0;--c){var l=this.tryEntries[c];if(l.finallyLoc===v)return this.complete(l.completion,l.afterLoc),j(l),p}},catch:function(v){for(var c=this.tryEntries.length-1;c>=0;--c){var l=this.tryEntries[c];if(l.tryLoc===v){var d=l.completion;if(d.type==="throw"){var g=d.arg;j(l)}return g}}throw new Error("illegal catch attempt")},delegateYield:function(v,c,l){return this.delegate={iterator:re(v),resultName:c,nextLoc:l},this.method==="next"&&(this.arg=void 0),p}},r}en.exports=ep,en.exports.__esModule=!0,en.exports.default=en.exports});var If=ce((zx,rp)=>{var $a=tp()();rp.exports=$a;try{regeneratorRuntime=$a}catch(r){typeof globalThis=="object"?globalThis.regeneratorRuntime=$a:Function("r","regeneratorRuntime = r")($a)}});var Bf=ce((Dx,io)=>{function np(r,e,t,n,i,s,o){try{var a=r[s](o),u=a.value}catch(f){t(f);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Aw(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var s=r.apply(e,t);function o(u){np(s,n,i,o,a,"next",u)}function a(u){np(s,n,i,o,a,"throw",u)}o(void 0)})}}io.exports=Aw,io.exports.__esModule=!0,io.exports.default=io.exports});var sp=ce(Ga=>{"use strict";var On=Vi();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.default=void 0;var Mn=On(If()),Va=On(Bf()),Ew=On(li()),_w=On(Yi()),Lw=On(Gi()),Rw=On(Zi()),Tw=On(Xi()),ip=On(Ji()),Pw=Qi();function Cw(r){var e=Mw();return function(){var n=(0,ip.default)(r),i;if(e){var s=(0,ip.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,Tw.default)(this,i)}}function Mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var Ow=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Nw=function(r){(0,Rw.default)(t,r);var e=Cw(t);function t(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,_w.default)(this,t);var u=o.autoconnect,f=u===void 0?!0:u,y=o.reconnect,p=y===void 0?!0:y,I=o.reconnect_interval,k=I===void 0?1e3:I,E=o.max_reconnects,A=E===void 0?5:E,L=Ow(o,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=e.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=s,i.autoconnect=f,i.ready=!1,i.reconnect=p,i.reconnect_interval=k,i.max_reconnects=A,i.rest_options=L,i.current_reconnects=0,i.generate_request_id=a||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,Lw.default)(t,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,s,o,a){var u=this;return!a&&(0,Ew.default)(o)==="object"&&(a=o,o=null),new Promise(function(f,y){if(!u.ready)return y(new Error("socket not ready"));var p=u.generate_request_id(i,s),I={jsonrpc:"2.0",method:i,params:s||null,id:p};u.socket.send(JSON.stringify(I),a,function(k){if(k)return y(k);u.queue[p]={promise:[f,y]},o&&(u.queue[p].timeout=setTimeout(function(){delete u.queue[p],y(new Error("reply timeout"))},o))})})}},{key:"login",value:function(){var n=(0,Va.default)(Mn.default.mark(function s(o){var a;return Mn.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.call("rpc.login",o);case 2:if(a=f.sent,a){f.next=5;break}throw new Error("authentication failed");case 5:return f.abrupt("return",a);case 6:case"end":return f.stop()}},s,this)}));function i(s){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,Va.default)(Mn.default.mark(function s(){return Mn.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},s,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,s){var o=this;return new Promise(function(a,u){if(!o.ready)return u(new Error("socket not ready"));var f={jsonrpc:"2.0",method:i,params:s||null};o.socket.send(JSON.stringify(f),function(y){if(y)return u(y);a()})})}},{key:"subscribe",value:function(){var n=(0,Va.default)(Mn.default.mark(function s(o){var a;return Mn.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return typeof o=="string"&&(o=[o]),f.next=3,this.call("rpc.on",o);case 3:if(a=f.sent,!(typeof o=="string"&&a[o]!=="ok")){f.next=6;break}throw new Error("Failed subscribing to an event '"+o+"' with: "+a[o]);case 6:return f.abrupt("return",a);case 7:case"end":return f.stop()}},s,this)}));function i(s){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,Va.default)(Mn.default.mark(function s(o){var a;return Mn.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return typeof o=="string"&&(o=[o]),f.next=3,this.call("rpc.off",o);case 3:if(a=f.sent,!(typeof o=="string"&&a[o]!=="ok")){f.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return f.abrupt("return",a);case 7:case"end":return f.stop()}},s,this)}));function i(s){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,s){this.socket.close(i||1e3,s)}},{key:"_connect",value:function(i,s){var o=this;this.socket=this.webSocketFactory(i,s),this.socket.addEventListener("open",function(){o.ready=!0,o.emit("open"),o.current_reconnects=0}),this.socket.addEventListener("message",function(a){var u=a.data;u instanceof ArrayBuffer&&(u=Buffer.from(u).toString());try{u=JSON.parse(u)}catch(p){return}if(u.notification&&o.listeners(u.notification).length){if(!Object.keys(u.params).length)return o.emit(u.notification);var f=[u.notification];if(u.params.constructor===Object)f.push(u.params);else for(var y=0;y<u.params.length;y++)f.push(u.params[y]);return Promise.resolve().then(function(){o.emit.apply(o,f)})}if(!o.queue[u.id])return u.method&&u.params?Promise.resolve().then(function(){o.emit(u.method,u.params)}):void 0;"error"in u=="result"in u&&o.queue[u.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),o.queue[u.id].timeout&&clearTimeout(o.queue[u.id].timeout),u.error?o.queue[u.id].promise[1](u.error):o.queue[u.id].promise[0](u.result),delete o.queue[u.id]}),this.socket.addEventListener("error",function(a){return o.emit("error",a)}),this.socket.addEventListener("close",function(a){var u=a.code,f=a.reason;o.ready&&setTimeout(function(){return o.emit("close",u,f)},0),o.ready=!1,o.socket=void 0,u!==1e3&&(o.current_reconnects++,o.reconnect&&(o.max_reconnects>o.current_reconnects||o.max_reconnects===0)&&setTimeout(function(){return o._connect(i,s)},o.reconnect_interval))})}}]),t}(Pw.EventEmitter);Ga.default=Nw});var ap=ce(Ya=>{"use strict";var hi=Vi();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.Client=void 0;var Uw=hi(Gi()),zw=hi(Yi()),Dw=hi(Zi()),Ww=hi(Xi()),op=hi(Ji()),Kw=hi(Qd()),Fw=hi(sp());function qw(r){var e=Hw();return function(){var n=(0,op.default)(r),i;if(e){var s=(0,op.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,Ww.default)(this,i)}}function Hw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var jw=function(r){(0,Dw.default)(t,r);var e=qw(t);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.autoconnect,o=s===void 0?!0:s,a=i.reconnect,u=a===void 0?!0:a,f=i.reconnect_interval,y=f===void 0?1e3:f,p=i.max_reconnects,I=p===void 0?5:p,k=arguments.length>2?arguments[2]:void 0;return(0,zw.default)(this,t),e.call(this,Kw.default,n,{autoconnect:o,reconnect:u,reconnect_interval:y,max_reconnects:I},k)}return(0,Uw.default)(t)}(Fw.default);Ya.Client=jw});function so(){if(!Za&&(Za=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Za))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Za($w)}var Za,$w,Af=er(()=>{$w=new Uint8Array(16)});var up,cp=er(()=>{up=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Vw(r){return typeof r=="string"&&up.test(r)}var Nn,oo=er(()=>{cp();Nn=Vw});function Gw(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(qt[r[e+0]]+qt[r[e+1]]+qt[r[e+2]]+qt[r[e+3]]+"-"+qt[r[e+4]]+qt[r[e+5]]+"-"+qt[r[e+6]]+qt[r[e+7]]+"-"+qt[r[e+8]]+qt[r[e+9]]+"-"+qt[r[e+10]]+qt[r[e+11]]+qt[r[e+12]]+qt[r[e+13]]+qt[r[e+14]]+qt[r[e+15]]).toLowerCase();if(!Nn(t))throw TypeError("Stringified UUID is invalid");return t}var qt,Xa,Un,ao=er(()=>{oo();qt=[];for(Xa=0;Xa<256;++Xa)qt.push((Xa+256).toString(16).substr(1));Un=Gw});function Yw(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var s=r.node||fp,o=r.clockseq!==void 0?r.clockseq:Ef;if(s==null||o==null){var a=r.random||(r.rng||so)();s==null&&(s=fp=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Ef=(a[6]<<8|a[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:Lf+1,y=u-_f+(f-Lf)/1e4;if(y<0&&r.clockseq===void 0&&(o=o+1&16383),(y<0||u>_f)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_f=u,Lf=f,Ef=o,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var I=u/4294967296*1e4&268435455;i[n++]=I>>>8&255,i[n++]=I&255,i[n++]=I>>>24&15|16,i[n++]=I>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var k=0;k<6;++k)i[n+k]=s[k];return e||Un(i)}var fp,Ef,_f,Lf,lp,hp=er(()=>{Af();ao();_f=0,Lf=0;lp=Yw});function Zw(r){if(!Nn(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Ja,Rf=er(()=>{oo();Ja=Zw});function Xw(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Qa(r,e,t){function n(i,s,o,a){if(typeof i=="string"&&(i=Xw(i)),typeof s=="string"&&(s=Ja(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(var f=0;f<16;++f)o[a+f]=u[f];return o}return Un(u)}try{n.name=r}catch(i){}return n.DNS=Jw,n.URL=Qw,n}var Jw,Qw,Tf=er(()=>{ao();Rf();Jw="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Qw="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function e1(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return t1(r1(n1(r),r.length*8))}function t1(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var s=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function dp(r){return(r+64>>>9<<4)+14+1}function r1(r,e){r[e>>5]|=128<<e%32,r[dp(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<r.length;o+=16){var a=t,u=n,f=i,y=s;t=Gt(t,n,i,s,r[o],7,-680876936),s=Gt(s,t,n,i,r[o+1],12,-389564586),i=Gt(i,s,t,n,r[o+2],17,606105819),n=Gt(n,i,s,t,r[o+3],22,-1044525330),t=Gt(t,n,i,s,r[o+4],7,-176418897),s=Gt(s,t,n,i,r[o+5],12,1200080426),i=Gt(i,s,t,n,r[o+6],17,-1473231341),n=Gt(n,i,s,t,r[o+7],22,-45705983),t=Gt(t,n,i,s,r[o+8],7,1770035416),s=Gt(s,t,n,i,r[o+9],12,-1958414417),i=Gt(i,s,t,n,r[o+10],17,-42063),n=Gt(n,i,s,t,r[o+11],22,-1990404162),t=Gt(t,n,i,s,r[o+12],7,1804603682),s=Gt(s,t,n,i,r[o+13],12,-40341101),i=Gt(i,s,t,n,r[o+14],17,-1502002290),n=Gt(n,i,s,t,r[o+15],22,1236535329),t=Yt(t,n,i,s,r[o+1],5,-165796510),s=Yt(s,t,n,i,r[o+6],9,-1069501632),i=Yt(i,s,t,n,r[o+11],14,643717713),n=Yt(n,i,s,t,r[o],20,-373897302),t=Yt(t,n,i,s,r[o+5],5,-701558691),s=Yt(s,t,n,i,r[o+10],9,38016083),i=Yt(i,s,t,n,r[o+15],14,-660478335),n=Yt(n,i,s,t,r[o+4],20,-405537848),t=Yt(t,n,i,s,r[o+9],5,568446438),s=Yt(s,t,n,i,r[o+14],9,-1019803690),i=Yt(i,s,t,n,r[o+3],14,-187363961),n=Yt(n,i,s,t,r[o+8],20,1163531501),t=Yt(t,n,i,s,r[o+13],5,-1444681467),s=Yt(s,t,n,i,r[o+2],9,-51403784),i=Yt(i,s,t,n,r[o+7],14,1735328473),n=Yt(n,i,s,t,r[o+12],20,-1926607734),t=Zt(t,n,i,s,r[o+5],4,-378558),s=Zt(s,t,n,i,r[o+8],11,-2022574463),i=Zt(i,s,t,n,r[o+11],16,1839030562),n=Zt(n,i,s,t,r[o+14],23,-35309556),t=Zt(t,n,i,s,r[o+1],4,-1530992060),s=Zt(s,t,n,i,r[o+4],11,1272893353),i=Zt(i,s,t,n,r[o+7],16,-155497632),n=Zt(n,i,s,t,r[o+10],23,-1094730640),t=Zt(t,n,i,s,r[o+13],4,681279174),s=Zt(s,t,n,i,r[o],11,-358537222),i=Zt(i,s,t,n,r[o+3],16,-722521979),n=Zt(n,i,s,t,r[o+6],23,76029189),t=Zt(t,n,i,s,r[o+9],4,-640364487),s=Zt(s,t,n,i,r[o+12],11,-421815835),i=Zt(i,s,t,n,r[o+15],16,530742520),n=Zt(n,i,s,t,r[o+2],23,-995338651),t=Xt(t,n,i,s,r[o],6,-198630844),s=Xt(s,t,n,i,r[o+7],10,1126891415),i=Xt(i,s,t,n,r[o+14],15,-1416354905),n=Xt(n,i,s,t,r[o+5],21,-57434055),t=Xt(t,n,i,s,r[o+12],6,1700485571),s=Xt(s,t,n,i,r[o+3],10,-1894986606),i=Xt(i,s,t,n,r[o+10],15,-1051523),n=Xt(n,i,s,t,r[o+1],21,-2054922799),t=Xt(t,n,i,s,r[o+8],6,1873313359),s=Xt(s,t,n,i,r[o+15],10,-30611744),i=Xt(i,s,t,n,r[o+6],15,-1560198380),n=Xt(n,i,s,t,r[o+13],21,1309151649),t=Xt(t,n,i,s,r[o+4],6,-145523070),s=Xt(s,t,n,i,r[o+11],10,-1120210379),i=Xt(i,s,t,n,r[o+2],15,718787259),n=Xt(n,i,s,t,r[o+9],21,-343485551),t=zn(t,a),n=zn(n,u),i=zn(i,f),s=zn(s,y)}return[t,n,i,s]}function n1(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(dp(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function zn(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function i1(r,e){return r<<e|r>>>32-e}function eu(r,e,t,n,i,s){return zn(i1(zn(zn(e,r),zn(n,s)),i),t)}function Gt(r,e,t,n,i,s,o){return eu(e&t|~e&n,r,e,i,s,o)}function Yt(r,e,t,n,i,s,o){return eu(e&n|t&~n,r,e,i,s,o)}function Zt(r,e,t,n,i,s,o){return eu(e^t^n,r,e,i,s,o)}function Xt(r,e,t,n,i,s,o){return eu(t^(e|~n),r,e,i,s,o)}var pp,yp=er(()=>{pp=e1});var s1,gp,mp=er(()=>{Tf();yp();s1=Qa("v3",48,pp),gp=s1});function o1(r,e,t){r=r||{};var n=r.random||(r.rng||so)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Un(n)}var bp,wp=er(()=>{Af();ao();bp=o1});function a1(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Pf(r,e){return r<<e|r>>>32-e}function u1(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,o=Math.ceil(s/16),a=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),y=0;y<16;++y)f[y]=r[u*64+y*4]<<24|r[u*64+y*4+1]<<16|r[u*64+y*4+2]<<8|r[u*64+y*4+3];a[u]=f}a[o-1][14]=(r.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<o;++p){for(var I=new Uint32Array(80),k=0;k<16;++k)I[k]=a[p][k];for(var E=16;E<80;++E)I[E]=Pf(I[E-3]^I[E-8]^I[E-14]^I[E-16],1);for(var A=t[0],L=t[1],P=t[2],O=t[3],C=t[4],K=0;K<80;++K){var z=Math.floor(K/20),D=Pf(A,5)+a1(z,L,P,O)+C+e[z]+I[K]>>>0;C=O,O=P,P=Pf(L,30)>>>0,L=A,A=D}t[0]=t[0]+A>>>0,t[1]=t[1]+L>>>0,t[2]=t[2]+P>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+C>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var vp,kp=er(()=>{vp=u1});var c1,Sp,xp=er(()=>{Tf();kp();c1=Qa("v5",80,vp),Sp=c1});var Ip,Bp=er(()=>{Ip="00000000-0000-0000-0000-000000000000"});function f1(r){if(!Nn(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Ap,Ep=er(()=>{oo();Ap=f1});var uo={};Eh(uo,{NIL:()=>Ip,parse:()=>Ja,stringify:()=>Un,v1:()=>lp,v3:()=>gp,v4:()=>bp,v5:()=>Sp,validate:()=>Nn,version:()=>Ap});var co=er(()=>{hp();mp();wp();xp();Bp();Ep();oo();ao();Rf()});var Lp=ce((BI,_p)=>{"use strict";var l1=(co(),Yo(uo)).v4,h1=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:r};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){let o=typeof n.generator=="function"?n.generator:function(){return l1()};s.id=o(s,n)}else i===2&&t===null?n.notificationIdNull&&(s.id=null):s.id=t;return s};_p.exports=h1});var Tp=ce((AI,Rp)=>{"use strict";var d1=(co(),Yo(uo)).v4,p1=Lp(),fo=function(r,e){if(!(this instanceof fo))return new fo(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return d1()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};Rp.exports=fo;fo.prototype.request=function(r,e,t,n){let i=this,s=null,o=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof e=="function")n=e,s=r;else{typeof t=="function"&&(n=t,t=void 0);let f=typeof n=="function";try{s=p1(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(f)return n(y);throw y}if(!f)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(u,function(f,y){i._parseResponse(f,y,n)}),s};fo.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(n)){let i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return t(null,n.filter(i),n.filter(s))}else return t(null,n.error,n.result);t(null,n)}});var L0=ce((xA,_0)=>{"use strict";function Tv(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function y(k){if(k instanceof Uint8Array||(ArrayBuffer.isView(k)?k=new Uint8Array(k.buffer,k.byteOffset,k.byteLength):Array.isArray(k)&&(k=Uint8Array.from(k))),!(k instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(k.length===0)return"";for(var E=0,A=0,L=0,P=k.length;L!==P&&k[L]===0;)L++,E++;for(var O=(P-L)*f+1>>>0,C=new Uint8Array(O);L!==P;){for(var K=k[L],z=0,D=O-1;(K!==0||z<A)&&D!==-1;D--,z++)K+=256*C[D]>>>0,C[D]=K%o>>>0,K=K/o>>>0;if(K!==0)throw new Error("Non-zero carry");A=z,L++}for(var U=O-A;U!==O&&C[U]===0;)U++;for(var j=a.repeat(E);U<O;++U)j+=r.charAt(C[U]);return j}function p(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return new Uint8Array;for(var E=0,A=0,L=0;k[E]===a;)A++,E++;for(var P=(k.length-E)*u+1>>>0,O=new Uint8Array(P);k[E];){var C=e[k.charCodeAt(E)];if(C===255)return;for(var K=0,z=P-1;(C!==0||K<L)&&z!==-1;z--,K++)C+=o*O[z]>>>0,O[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");L=K,E++}for(var D=P-L;D!==P&&O[D]===0;)D++;for(var U=new Uint8Array(A+(P-D)),j=A;D!==P;)U[j++]=O[D++];return U}function I(k){var E=p(k);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:y,decodeUnsafe:p,decode:I}}_0.exports=Tv});var T0=ce((IA,R0)=>{var Pv=L0(),Cv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";R0.exports=Pv(Cv)});var J0=ce((TE,fn)=>{function zl(r){return fn.exports=zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn.exports.__esModule=!0,fn.exports.default=fn.exports,zl(r)}fn.exports=zl,fn.exports.__esModule=!0,fn.exports.default=fn.exports});var ty=ce((PE,ln)=>{var Q0=J0().default;function ey(){"use strict";ln.exports=ey=function(){return e},ln.exports.__esModule=!0,ln.exports.default=ln.exports;var r,e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(d,g,m){d[g]=m.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function f(d,g,m){return Object.defineProperty(d,g,{value:m,enumerable:!0,configurable:!0,writable:!0}),d[g]}try{f({},"")}catch(d){f=function(m,w,B){return m[w]=B}}function y(d,g,m,w){var B=g&&g.prototype instanceof P?g:P,b=Object.create(B.prototype),h=new c(w||[]);return i(b,"_invoke",{value:re(d,m,h)}),b}function p(d,g,m){try{return{type:"normal",arg:d.call(g,m)}}catch(w){return{type:"throw",arg:w}}}e.wrap=y;var I="suspendedStart",k="suspendedYield",E="executing",A="completed",L={};function P(){}function O(){}function C(){}var K={};f(K,o,function(){return this});var z=Object.getPrototypeOf,D=z&&z(z(l([])));D&&D!==t&&n.call(D,o)&&(K=D);var U=C.prototype=P.prototype=Object.create(K);function j(d){["next","throw","return"].forEach(function(g){f(d,g,function(m){return this._invoke(g,m)})})}function ee(d,g){function m(B,b,h,S){var $=p(d[B],d,b);if($.type!=="throw"){var X=$.arg,Z=X.value;return Z&&Q0(Z)=="object"&&n.call(Z,"__await")?g.resolve(Z.__await).then(function(J){m("next",J,h,S)},function(J){m("throw",J,h,S)}):g.resolve(Z).then(function(J){X.value=J,h(X)},function(J){return m("throw",J,h,S)})}S($.arg)}var w;i(this,"_invoke",{value:function(b,h){function S(){return new g(function($,X){m(b,h,$,X)})}return w=w?w.then(S,S):S()}})}function re(d,g,m){var w=I;return function(B,b){if(w===E)throw new Error("Generator is already running");if(w===A){if(B==="throw")throw b;return{value:r,done:!0}}for(m.method=B,m.arg=b;;){var h=m.delegate;if(h){var S=Q(h,m);if(S){if(S===L)continue;return S}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(w===I)throw w=A,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);w=E;var $=p(d,g,m);if($.type==="normal"){if(w=m.done?A:k,$.arg===L)continue;return{value:$.arg,done:m.done}}$.type==="throw"&&(w=A,m.method="throw",m.arg=$.arg)}}}function Q(d,g){var m=g.method,w=d.iterator[m];if(w===r)return g.delegate=null,m==="throw"&&d.iterator.return&&(g.method="return",g.arg=r,Q(d,g),g.method==="throw")||m!=="return"&&(g.method="throw",g.arg=new TypeError("The iterator does not provide a '"+m+"' method")),L;var B=p(w,d.iterator,g.arg);if(B.type==="throw")return g.method="throw",g.arg=B.arg,g.delegate=null,L;var b=B.arg;return b?b.done?(g[d.resultName]=b.value,g.next=d.nextLoc,g.method!=="return"&&(g.method="next",g.arg=r),g.delegate=null,L):b:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,L)}function V(d){var g={tryLoc:d[0]};1 in d&&(g.catchLoc=d[1]),2 in d&&(g.finallyLoc=d[2],g.afterLoc=d[3]),this.tryEntries.push(g)}function v(d){var g=d.completion||{};g.type="normal",delete g.arg,d.completion=g}function c(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(V,this),this.reset(!0)}function l(d){if(d||d===""){var g=d[o];if(g)return g.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var m=-1,w=function B(){for(;++m<d.length;)if(n.call(d,m))return B.value=d[m],B.done=!1,B;return B.value=r,B.done=!0,B};return w.next=w}}throw new TypeError(Q0(d)+" is not iterable")}return O.prototype=C,i(U,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:O,configurable:!0}),O.displayName=f(C,u,"GeneratorFunction"),e.isGeneratorFunction=function(d){var g=typeof d=="function"&&d.constructor;return!!g&&(g===O||(g.displayName||g.name)==="GeneratorFunction")},e.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,C):(d.__proto__=C,f(d,u,"GeneratorFunction")),d.prototype=Object.create(U),d},e.awrap=function(d){return{__await:d}},j(ee.prototype),f(ee.prototype,a,function(){return this}),e.AsyncIterator=ee,e.async=function(d,g,m,w,B){B===void 0&&(B=Promise);var b=new ee(y(d,g,m,w),B);return e.isGeneratorFunction(g)?b:b.next().then(function(h){return h.done?h.value:b.next()})},j(U),f(U,u,"Generator"),f(U,o,function(){return this}),f(U,"toString",function(){return"[object Generator]"}),e.keys=function(d){var g=Object(d),m=[];for(var w in g)m.push(w);return m.reverse(),function B(){for(;m.length;){var b=m.pop();if(b in g)return B.value=b,B.done=!1,B}return B.done=!0,B}},e.values=l,c.prototype={constructor:c,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(v),!g)for(var m in this)m.charAt(0)==="t"&&n.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=r)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var m=this;function w(X,Z){return h.type="throw",h.arg=g,m.next=X,Z&&(m.method="next",m.arg=r),!!Z}for(var B=this.tryEntries.length-1;B>=0;--B){var b=this.tryEntries[B],h=b.completion;if(b.tryLoc==="root")return w("end");if(b.tryLoc<=this.prev){var S=n.call(b,"catchLoc"),$=n.call(b,"finallyLoc");if(S&&$){if(this.prev<b.catchLoc)return w(b.catchLoc,!0);if(this.prev<b.finallyLoc)return w(b.finallyLoc)}else if(S){if(this.prev<b.catchLoc)return w(b.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return w(b.finallyLoc)}}}},abrupt:function(g,m){for(var w=this.tryEntries.length-1;w>=0;--w){var B=this.tryEntries[w];if(B.tryLoc<=this.prev&&n.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var b=B;break}}b&&(g==="break"||g==="continue")&&b.tryLoc<=m&&m<=b.finallyLoc&&(b=null);var h=b?b.completion:{};return h.type=g,h.arg=m,b?(this.method="next",this.next=b.finallyLoc,L):this.complete(h)},complete:function(g,m){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&m&&(this.next=m),L},finish:function(g){for(var m=this.tryEntries.length-1;m>=0;--m){var w=this.tryEntries[m];if(w.finallyLoc===g)return this.complete(w.completion,w.afterLoc),v(w),L}},catch:function(g){for(var m=this.tryEntries.length-1;m>=0;--m){var w=this.tryEntries[m];if(w.tryLoc===g){var B=w.completion;if(B.type==="throw"){var b=B.arg;v(w)}return b}}throw new Error("illegal catch attempt")},delegateYield:function(g,m,w){return this.delegate={iterator:l(g),resultName:m,nextLoc:w},this.method==="next"&&(this.arg=r),L}},e}ln.exports=ey,ln.exports.__esModule=!0,ln.exports.default=ln.exports});var ny=ce((CE,ry)=>{var Du=ty()();ry.exports=Du;try{regeneratorRuntime=Du}catch(r){typeof globalThis=="object"?globalThis.regeneratorRuntime=Du:Function("r","regeneratorRuntime = r")(Du)}});var sy=ce((ME,iy)=>{"use strict";var Wu=da().Buffer;function Pk(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function y(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=Wu.from(k)),!Wu.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var E=0,A=0,L=0,P=k.length;L!==P&&k[L]===0;)L++,E++;for(var O=(P-L)*f+1>>>0,C=new Uint8Array(O);L!==P;){for(var K=k[L],z=0,D=O-1;(K!==0||z<A)&&D!==-1;D--,z++)K+=256*C[D]>>>0,C[D]=K%o>>>0,K=K/o>>>0;if(K!==0)throw new Error("Non-zero carry");A=z,L++}for(var U=O-A;U!==O&&C[U]===0;)U++;for(var j=a.repeat(E);U<O;++U)j+=r.charAt(C[U]);return j}function p(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return Wu.alloc(0);for(var E=0,A=0,L=0;k[E]===a;)A++,E++;for(var P=(k.length-E)*u+1>>>0,O=new Uint8Array(P);k[E];){var C=e[k.charCodeAt(E)];if(C===255)return;for(var K=0,z=P-1;(C!==0||K<L)&&z!==-1;z--,K++)C+=o*O[z]>>>0,O[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");L=K,E++}for(var D=P-L;D!==P&&O[D]===0;)D++;var U=Wu.allocUnsafe(A+(P-D));U.fill(0,0,A);for(var j=A;D!==P;)U[j++]=O[D++];return U}function I(k){var E=p(k);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:y,decodeUnsafe:p,decode:I}}iy.exports=Pk});var ay=ce((OE,oy)=>{var Ck=sy(),Mk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";oy.exports=Ck(Mk)});var cy=ce((l_,uy)=>{"use strict";var zk=(co(),Yo(uo)).v4,Dk=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:r};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){let o=typeof n.generator=="function"?n.generator:function(){return zk()};s.id=o(s,n)}else i===2&&t===null?n.notificationIdNull&&(s.id=null):s.id=t;return s};uy.exports=Dk});var ly=ce((h_,fy)=>{"use strict";var Wk=(co(),Yo(uo)).v4,Kk=cy(),Oo=function(r,e){if(!(this instanceof Oo))return new Oo(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Wk()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};fy.exports=Oo;Oo.prototype.request=function(r,e,t,n){let i=this,s=null,o=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof e=="function")n=e,s=r;else{typeof t=="function"&&(n=t,t=void 0);let f=typeof n=="function";try{s=Kk(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(f)return n(y);throw y}if(!f)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(u,function(f,y){i._parseResponse(f,y,n)}),s};Oo.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(n)){let i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return t(null,n.filter(i),n.filter(s))}else return t(null,n.error,n.result);t(null,n)}});var dy=ce(qu=>{"use strict";var ei=Vi();Object.defineProperty(qu,"__esModule",{value:!0});qu.default=void 0;var Qn=ei(If()),Fu=ei(Bf()),Fk=ei(li()),qk=ei(Yi()),Hk=ei(Gi()),jk=ei(Zi()),$k=ei(Xi()),hy=ei(Ji()),Vk=Qi();function Gk(r){var e=Yk();return function(){var n=(0,hy.default)(r),i;if(e){var s=(0,hy.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,$k.default)(this,i)}}function Yk(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var Zk=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Xk=function(r){(0,jk.default)(t,r);var e=Gk(t);function t(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,qk.default)(this,t);var u=o.autoconnect,f=u===void 0?!0:u,y=o.reconnect,p=y===void 0?!0:y,I=o.reconnect_interval,k=I===void 0?1e3:I,E=o.max_reconnects,A=E===void 0?5:E,L=Zk(o,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=e.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=s,i.autoconnect=f,i.ready=!1,i.reconnect=p,i.reconnect_timer_id=void 0,i.reconnect_interval=k,i.max_reconnects=A,i.rest_options=L,i.current_reconnects=0,i.generate_request_id=a||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,Hk.default)(t,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,s,o,a){var u=this;return!a&&(0,Fk.default)(o)==="object"&&(a=o,o=null),new Promise(function(f,y){if(!u.ready)return y(new Error("socket not ready"));var p=u.generate_request_id(i,s),I={jsonrpc:"2.0",method:i,params:s||null,id:p};u.socket.send(JSON.stringify(I),a,function(k){if(k)return y(k);u.queue[p]={promise:[f,y]},o&&(u.queue[p].timeout=setTimeout(function(){delete u.queue[p],y(new Error("reply timeout"))},o))})})}},{key:"login",value:function(){var n=(0,Fu.default)(Qn.default.mark(function s(o){var a;return Qn.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.call("rpc.login",o);case 2:if(a=f.sent,a){f.next=5;break}throw new Error("authentication failed");case 5:return f.abrupt("return",a);case 6:case"end":return f.stop()}},s,this)}));function i(s){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,Fu.default)(Qn.default.mark(function s(){return Qn.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},s,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,s){var o=this;return new Promise(function(a,u){if(!o.ready)return u(new Error("socket not ready"));var f={jsonrpc:"2.0",method:i,params:s||null};o.socket.send(JSON.stringify(f),function(y){if(y)return u(y);a()})})}},{key:"subscribe",value:function(){var n=(0,Fu.default)(Qn.default.mark(function s(o){var a;return Qn.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return typeof o=="string"&&(o=[o]),f.next=3,this.call("rpc.on",o);case 3:if(a=f.sent,!(typeof o=="string"&&a[o]!=="ok")){f.next=6;break}throw new Error("Failed subscribing to an event '"+o+"' with: "+a[o]);case 6:return f.abrupt("return",a);case 7:case"end":return f.stop()}},s,this)}));function i(s){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,Fu.default)(Qn.default.mark(function s(o){var a;return Qn.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return typeof o=="string"&&(o=[o]),f.next=3,this.call("rpc.off",o);case 3:if(a=f.sent,!(typeof o=="string"&&a[o]!=="ok")){f.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return f.abrupt("return",a);case 7:case"end":return f.stop()}},s,this)}));function i(s){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,s){this.socket.close(i||1e3,s)}},{key:"_connect",value:function(i,s){var o=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,s),this.socket.addEventListener("open",function(){o.ready=!0,o.emit("open"),o.current_reconnects=0}),this.socket.addEventListener("message",function(a){var u=a.data;u instanceof ArrayBuffer&&(u=Buffer.from(u).toString());try{u=JSON.parse(u)}catch(p){return}if(u.notification&&o.listeners(u.notification).length){if(!Object.keys(u.params).length)return o.emit(u.notification);var f=[u.notification];if(u.params.constructor===Object)f.push(u.params);else for(var y=0;y<u.params.length;y++)f.push(u.params[y]);return Promise.resolve().then(function(){o.emit.apply(o,f)})}if(!o.queue[u.id])return u.method&&u.params?Promise.resolve().then(function(){o.emit(u.method,u.params)}):void 0;"error"in u=="result"in u&&o.queue[u.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),o.queue[u.id].timeout&&clearTimeout(o.queue[u.id].timeout),u.error?o.queue[u.id].promise[1](u.error):o.queue[u.id].promise[0](u.result),delete o.queue[u.id]}),this.socket.addEventListener("error",function(a){return o.emit("error",a)}),this.socket.addEventListener("close",function(a){var u=a.code,f=a.reason;o.ready&&setTimeout(function(){return o.emit("close",u,f)},0),o.ready=!1,o.socket=void 0,u!==1e3&&(o.current_reconnects++,o.reconnect&&(o.max_reconnects>o.current_reconnects||o.max_reconnects===0)&&(o.reconnect_timer_id=setTimeout(function(){return o._connect(i,s)},o.reconnect_interval)))})}}]),t}(Vk.EventEmitter);qu.default=Xk});var yy=ce(Gl=>{"use strict";var No=Vi();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.default=oS;var Jk=No(Yi()),Qk=No(Gi()),eS=No(Zi()),tS=No(Xi()),py=No(Ji()),rS=Qi();function nS(r){var e=iS();return function(){var n=(0,py.default)(r),i;if(e){var s=(0,py.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,tS.default)(this,i)}}function iS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var sS=function(r){(0,eS.default)(t,r);var e=nS(t);function t(n,i,s){var o;return(0,Jk.default)(this,t),o=e.call(this),o.socket=new window.WebSocket(n,s),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(a){return o.emit("message",a.data)},o.socket.onerror=function(a){return o.emit("error",a)},o.socket.onclose=function(a){o.emit("close",a.code,a.reason)},o}return(0,Qk.default)(t,[{key:"send",value:function(i,s,o){var a=o||s;try{this.socket.send(i),a()}catch(u){a(u)}}},{key:"close",value:function(i,s){this.socket.close(i,s)}},{key:"addEventListener",value:function(i,s,o){this.socket.addEventListener(i,s,o)}}]),t}(rS.EventEmitter);function oS(r,e){return new sS(r,e)}});var wg=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},vg=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Xo;function Th(r){let e=({register:t})=>t(r);try{window.dispatchEvent(new kc(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}var kc=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Xo.set(this,void 0),wg(this,Xo,e,"f")}get detail(){return vg(this,Xo,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Xo=new WeakMap;var ae=ze(Zh());function Mc(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Qg(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function Xh(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function em(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Mc(r.outputLen),Mc(r.blockLen)}function tm(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function rm(r,e){Xh(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var nm={number:Mc,bool:Qg,bytes:Xh,hash:em,exists:tm,output:rm},jt=nm;var im={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Jh=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),ta=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Ar=(r,e)=>r<<32-e|r>>>e,sm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sm)throw new Error("Non little-endian hardware is not supported");var H2=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function om(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function wn(r){if(typeof r=="string"&&(r=om(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}var bn=class{clone(){return this._cloneInto()}};function Ur(r){let e=n=>r().update(wn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Qh(r){let e=(n,i)=>r(i).update(wn(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function am(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),u=n?4:0,f=n?0:4;r.setUint32(e+u,o,n),r.setUint32(e+f,a,n)}var Mi=class extends bn{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ta(this.buffer)}update(e){jt.exists(this);let{view:t,buffer:n,blockLen:i}=this;e=wn(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=ta(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jt.exists(this),jt.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let p=o;p<i;p++)t[p]=0;am(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=ta(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=u/4,y=this.get();if(f>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(n),e}};var ra=BigInt(4294967295),Oc=BigInt(32);function ed(r,e=!1){return e?{h:Number(r&ra),l:Number(r>>Oc&ra)}:{h:Number(r>>Oc&ra)|0,l:Number(r&ra)|0}}function um(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:s,l:o}=ed(r[i],e);[t[i],n[i]]=[s,o]}return[t,n]}var cm=(r,e)=>BigInt(r>>>0)<<Oc|BigInt(e>>>0),fm=(r,e,t)=>r>>>t,lm=(r,e,t)=>r<<32-t|e>>>t,hm=(r,e,t)=>r>>>t|e<<32-t,dm=(r,e,t)=>r<<32-t|e>>>t,pm=(r,e,t)=>r<<64-t|e>>>t-32,ym=(r,e,t)=>r>>>t-32|e<<64-t,gm=(r,e)=>e,mm=(r,e)=>r,bm=(r,e,t)=>r<<t|e>>>32-t,wm=(r,e,t)=>e<<t|r>>>32-t,vm=(r,e,t)=>e<<t-32|r>>>64-t,km=(r,e,t)=>r<<t-32|e>>>64-t;function Sm(r,e,t,n){let i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}var xm=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),Im=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,Bm=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),Am=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,Em=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),_m=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,Lm={fromBig:ed,split:um,toBig:cm,shrSH:fm,shrSL:lm,rotrSH:hm,rotrSL:dm,rotrBH:pm,rotrBL:ym,rotr32H:gm,rotr32L:mm,rotlSH:bm,rotlSL:wm,rotlBH:vm,rotlBL:km,add:Sm,add3L:xm,add3H:Im,add4L:Bm,add4H:Am,add5H:_m,add5L:Em},fe=Lm;var[Rm,Tm]=fe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),vn=new Uint32Array(80),kn=new Uint32Array(80),Oi=class extends Mi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:f,El:y,Fh:p,Fl:I,Gh:k,Gl:E,Hh:A,Hl:L}=this;return[e,t,n,i,s,o,a,u,f,y,p,I,k,E,A,L]}set(e,t,n,i,s,o,a,u,f,y,p,I,k,E,A,L){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=f|0,this.El=y|0,this.Fh=p|0,this.Fl=I|0,this.Gh=k|0,this.Gl=E|0,this.Hh=A|0,this.Hl=L|0}process(e,t){for(let C=0;C<16;C++,t+=4)vn[C]=e.getUint32(t),kn[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){let K=vn[C-15]|0,z=kn[C-15]|0,D=fe.rotrSH(K,z,1)^fe.rotrSH(K,z,8)^fe.shrSH(K,z,7),U=fe.rotrSL(K,z,1)^fe.rotrSL(K,z,8)^fe.shrSL(K,z,7),j=vn[C-2]|0,ee=kn[C-2]|0,re=fe.rotrSH(j,ee,19)^fe.rotrBH(j,ee,61)^fe.shrSH(j,ee,6),Q=fe.rotrSL(j,ee,19)^fe.rotrBL(j,ee,61)^fe.shrSL(j,ee,6),V=fe.add4L(U,Q,kn[C-7],kn[C-16]),v=fe.add4H(V,D,re,vn[C-7],vn[C-16]);vn[C]=v|0,kn[C]=V|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:f,Dl:y,Eh:p,El:I,Fh:k,Fl:E,Gh:A,Gl:L,Hh:P,Hl:O}=this;for(let C=0;C<80;C++){let K=fe.rotrSH(p,I,14)^fe.rotrSH(p,I,18)^fe.rotrBH(p,I,41),z=fe.rotrSL(p,I,14)^fe.rotrSL(p,I,18)^fe.rotrBL(p,I,41),D=p&k^~p&A,U=I&E^~I&L,j=fe.add5L(O,z,U,Tm[C],kn[C]),ee=fe.add5H(j,P,K,D,Rm[C],vn[C]),re=j|0,Q=fe.rotrSH(n,i,28)^fe.rotrBH(n,i,34)^fe.rotrBH(n,i,39),V=fe.rotrSL(n,i,28)^fe.rotrBL(n,i,34)^fe.rotrBL(n,i,39),v=n&s^n&a^s&a,c=i&o^i&u^o&u;P=A|0,O=L|0,A=k|0,L=E|0,k=p|0,E=I|0,{h:p,l:I}=fe.add(f|0,y|0,ee|0,re|0),f=a|0,y=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let l=fe.add3L(re,V,c);n=fe.add3H(l,ee,Q,v),i=l|0}({h:n,l:i}=fe.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=fe.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=fe.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:f,l:y}=fe.add(this.Dh|0,this.Dl|0,f|0,y|0),{h:p,l:I}=fe.add(this.Eh|0,this.El|0,p|0,I|0),{h:k,l:E}=fe.add(this.Fh|0,this.Fl|0,k|0,E|0),{h:A,l:L}=fe.add(this.Gh|0,this.Gl|0,A|0,L|0),{h:P,l:O}=fe.add(this.Hh|0,this.Hl|0,P|0,O|0),this.set(n,i,s,o,a,u,f,y,p,I,k,E,A,L,P,O)}roundClean(){vn.fill(0),kn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Nc=class extends Oi{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Uc=class extends Oi{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},zc=class extends Oi{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},td=Ur(()=>new Oi),Q2=Ur(()=>new Nc),ex=Ur(()=>new Uc),tx=Ur(()=>new zc);var Pm=ze(Dc(),1);var zt=BigInt(0),be=BigInt(1),Ni=BigInt(2),rd=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),$e=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:rd,n:rd,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var od=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Os=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),sx=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Cm=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Mm=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Om=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Nm=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),me=class{constructor(e,t,n,i){this.x=e,this.y=t,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof De))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(De.ZERO)?me.ZERO:new me(e.x,e.y,be,G(e.x*e.y))}static toAffineBatch(e){let t=Dm(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(t[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){nd(e);let{x:t,y:n,z:i}=this,{x:s,y:o,z:a}=e,u=G(t*a),f=G(s*i),y=G(n*a),p=G(o*i);return u===f&&y===p}negate(){return new me(G(-this.x),this.y,this.z,G(-this.t))}double(){let{x:e,y:t,z:n}=this,{a:i}=$e,s=G(e*e),o=G(t*t),a=G(Ni*G(n*n)),u=G(i*s),f=e+t,y=G(G(f*f)-s-o),p=u+o,I=p-a,k=u-o,E=G(y*I),A=G(p*k),L=G(y*k),P=G(I*p);return new me(E,A,P,L)}add(e){nd(e);let{x:t,y:n,z:i,t:s}=this,{x:o,y:a,z:u,t:f}=e,y=G((n-t)*(a+o)),p=G((n+t)*(a-o)),I=G(p-y);if(I===zt)return this.double();let k=G(i*Ni*f),E=G(s*Ni*u),A=E+k,L=p+y,P=E-k,O=G(A*I),C=G(L*P),K=G(A*P),z=G(I*L);return new me(O,C,z,K)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let t=1+256/e,n=[],i=this,s=i;for(let o=0;o<t;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,t){!t&&this.equals(me.BASE)&&(t=De.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&qc.get(t);i||(i=this.precomputeWindow(n),t&&n!==1&&(i=me.normalizeZ(i),qc.set(t,i)));let s=me.ZERO,o=me.ZERO,a=1+256/n,u=2**(n-1),f=BigInt(2**n-1),y=2**n,p=BigInt(n);for(let I=0;I<a;I++){let k=I*u,E=Number(e&f);if(e>>=p,E>u&&(E-=y,e+=be),E===0){let A=i[k];I%2&&(A=A.negate()),o=o.add(A)}else{let A=i[k+Math.abs(E)-1];E<0&&(A=A.negate()),s=s.add(A)}}return me.normalizeZ([s,o])[0]}multiply(e,t){return this.wNAF(ia(e,$e.l),t)}multiplyUnsafe(e){let t=ia(e,$e.l,!1),n=me.BASE,i=me.ZERO;if(t===zt)return i;if(this.equals(i)||t===be)return this;if(this.equals(n))return this.wNAF(t);let s=i,o=this;for(;t>zt;)t&be&&(s=s.add(o)),o=o.double(),t>>=be;return s}isSmallOrder(){return this.multiplyUnsafe($e.h).equals(me.ZERO)}isTorsionFree(){return this.multiplyUnsafe($e.l).equals(me.ZERO)}toAffine(e=oa(this.z)){let{x:t,y:n,z:i}=this,s=G(t*e),o=G(n*e);if(G(i*e)!==be)throw new Error("invZ was invalid");return new De(s,o)}fromRistrettoBytes(){Kc()}toRistrettoBytes(){Kc()}fromRistrettoHash(){Kc()}};me.BASE=new me($e.Gx,$e.Gy,be,G($e.Gx*$e.Gy));me.ZERO=new me(zt,be,be,zt);function nd(r){if(!(r instanceof me))throw new TypeError("ExtendedPoint expected")}function Wc(r){if(!(r instanceof ir))throw new TypeError("RistrettoPoint expected")}function Kc(){throw new Error("Legacy method: switch to RistrettoPoint")}var ir=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:t}=$e,n=G(Os*e*e),i=G((n+be)*Om),s=BigInt(-1),o=G((s-t*n)*G(n+t)),{isValid:a,value:u}=jc(i,o),f=G(u*e);xn(f)||(f=G(-f)),a||(u=f),a||(s=n);let y=G(s*(n-be)*Nm-o),p=u*u,I=G((u+u)*o),k=G(y*Cm),E=G(be-p),A=G(be+p);return new me(G(I*A),G(E*k),G(k*A),G(I*E))}static hashToCurve(e){e=In(e,64);let t=Fc(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),i=Fc(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new ir(n.add(s))}static fromHex(e){e=In(e,32);let{a:t,d:n}=$e,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=Fc(e);if(!Km(Us(s),e)||xn(s))throw new Error(i);let o=G(s*s),a=G(be+t*o),u=G(be-t*o),f=G(a*a),y=G(u*u),p=G(t*n*f-y),{isValid:I,value:k}=sd(G(p*y)),E=G(k*u),A=G(k*E*p),L=G((s+s)*E);xn(L)&&(L=G(-L));let P=G(a*A),O=G(L*P);if(!I||xn(O)||P===zt)throw new Error(i);return new ir(new me(L,P,be,O))}toRawBytes(){let{x:e,y:t,z:n,t:i}=this.ep,s=G(G(n+t)*G(n-t)),o=G(e*t),a=G(o*o),{value:u}=sd(G(s*a)),f=G(u*s),y=G(u*o),p=G(f*y*i),I;if(xn(i*p)){let E=G(t*Os),A=G(e*Os);e=E,t=A,I=G(f*Mm)}else I=y;xn(e*p)&&(t=G(-t));let k=G((n-t)*I);return xn(k)&&(k=G(-k)),Us(k)}toHex(){return zs(this.toRawBytes())}toString(){return this.toHex()}equals(e){Wc(e);let t=this.ep,n=e.ep,i=G(t.x*n.y)===G(t.y*n.x),s=G(t.y*n.y)===G(t.x*n.x);return i||s}add(e){return Wc(e),new ir(this.ep.add(e.ep))}subtract(e){return Wc(e),new ir(this.ep.subtract(e.ep))}multiply(e){return new ir(this.ep.multiply(e))}multiplyUnsafe(e){return new ir(this.ep.multiplyUnsafe(e))}};ir.BASE=new ir(me.BASE);ir.ZERO=new ir(me.ZERO);var qc=new WeakMap,De=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,qc.delete(this)}static fromHex(e,t=!0){let{d:n,P:i}=$e;e=In(e,32);let s=e.slice();s[31]=e[31]&-129;let o=Ds(s);if(t&&o>=i)throw new Error("Expected 0 < hex < P");if(!t&&o>=od)throw new Error("Expected 0 < hex < 2**256");let a=G(o*o),u=G(a-be),f=G(n*a+be),{isValid:y,value:p}=jc(u,f);if(!y)throw new Error("Point.fromHex: invalid y coordinate");let I=(p&be)===be;return(e[31]&128)!==0!==I&&(p=G(-p)),new De(p,o)}static async fromPrivateKey(e){return(await fd(e)).point}toRawBytes(){let e=Us(this.y);return e[31]|=this.x&be?128:0,e}toHex(){return zs(this.toRawBytes())}toX25519(){let{y:e}=this,t=G((be+e)*oa(be-e));return Us(t)}isTorsionFree(){return me.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new De(G(-this.x),this.y)}add(e){return me.fromAffine(this).add(me.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return me.fromAffine(this).multiply(e,this).toAffine()}};De.BASE=new De($e.Gx,$e.Gy);De.ZERO=new De(zt,be);var si=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=In(e,64),n=De.fromHex(t.slice(0,32),!1),i=Ds(t.slice(32,64));return new si(n,i)}assertValidity(){let{r:e,s:t}=this;if(!(e instanceof De))throw new Error("Expected Point instance");return ia(t,$e.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Us(this.s),32),e}toHex(){return zs(this.toRawBytes())}};function id(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let s=r[n];t.set(s,i),i+=s.length}return t}var Um=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function zs(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Um[r[t]];return e}function Hc(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,i=r.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function ad(r){let t=r.toString(16).padStart(64,"0");return Hc(t)}function Us(r){return ad(r).reverse()}function xn(r){return(G(r)&be)===be}function Ds(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+zs(Uint8Array.from(r).reverse()))}var zm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fc(r){return G(Ds(r)&zm)}function G(r,e=$e.P){let t=r%e;return t>=zt?t:e+t}function oa(r,e=$e.P){if(r===zt||e<=zt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=G(r,e),n=e,i=zt,s=be,o=be,a=zt;for(;t!==zt;){let f=n/t,y=n%t,p=i-o*f,I=s-a*f;n=t,t=y,i=o,s=a,o=p,a=I}if(n!==be)throw new Error("invert: does not exist");return G(i,e)}function Dm(r,e=$e.P){let t=new Array(r.length),n=r.reduce((s,o,a)=>o===zt?s:(t[a]=s,G(s*o,e)),be),i=oa(n,e);return r.reduceRight((s,o,a)=>o===zt?s:(t[a]=G(s*t[a],e),G(s*o,e)),i),t}function zr(r,e){let{P:t}=$e,n=r;for(;e-- >zt;)n*=n,n%=t;return n}function Wm(r){let{P:e}=$e,t=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),u=r*r%e*r%e,f=zr(u,Ni)*u%e,y=zr(f,be)*r%e,p=zr(y,t)*y%e,I=zr(p,n)*p%e,k=zr(I,i)*I%e,E=zr(k,s)*k%e,A=zr(E,o)*E%e,L=zr(A,o)*E%e,P=zr(L,n)*p%e;return{pow_p_5_8:zr(P,Ni)*r%e,b2:u}}function jc(r,e){let t=G(e*e*e),n=G(t*t*e),i=Wm(r*n).pow_p_5_8,s=G(r*t*i),o=G(e*s*s),a=s,u=G(s*Os),f=o===r,y=o===G(-r),p=o===G(-r*Os);return f&&(s=a),(y||p)&&(s=u),xn(s)&&(s=G(-s)),{isValid:f||y,value:s}}function sd(r){return jc(be,r)}function na(r){return G(Ds(r),$e.l)}function Km(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function In(r,e){let t=r instanceof Uint8Array?Uint8Array.from(r):Hc(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function ia(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(zt<r)return r}else if(zt<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Fm(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function ud(r){if(r=typeof r=="bigint"||typeof r=="number"?ad(ia(r,od)):In(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function cd(r){let e=Fm(r.slice(0,32)),t=r.slice(32,64),n=na(e),i=De.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:t,scalar:n,point:i,pointBytes:s}}var Ns;function sa(...r){if(typeof Ns!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Ns(...r)}async function fd(r){return cd(await Bn.sha512(ud(r)))}function $c(r){return cd(sa(ud(r)))}function qm(r){return $c(r).pointBytes}function Hm(r,e){r=In(r);let{prefix:t,scalar:n,pointBytes:i}=$c(e),s=na(sa(t,r)),o=De.BASE.multiply(s),a=na(sa(o.toRawBytes(),i,r)),u=G(s+a*n,$e.l);return new si(o,u).toRawBytes()}function jm(r,e,t){e=In(e),t instanceof De||(t=De.fromHex(t,!1));let{r:n,s:i}=r instanceof si?r.assertValidity():si.fromHex(r),s=me.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:t,msg:e}}function $m(r,e,t,n){let i=na(n),s=me.fromAffine(r).multiplyUnsafe(i);return me.fromAffine(e).add(s).subtract(t).multiplyUnsafe($e.h).equals(me.ZERO)}function Vm(r,e,t){let{r:n,SB:i,msg:s,pub:o}=jm(r,e,t),a=sa(n.toRawBytes(),o.toRawBytes(),s);return $m(o,n,i,a)}var aa={getExtendedPublicKey:$c,getPublicKey:qm,sign:Hm,verify:Vm};De.BASE._setWindowSize(8);var Sn={node:Pm,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Bn={bytesToHex:zs,hexToBytes:Hc,concatBytes:id,getExtendedPublicKey:fd,mod:G,invert:oa,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=In(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return G(Ds(r),$e.l-be)+be},randomBytes:(r=32)=>{if(Sn.web)return Sn.web.getRandomValues(new Uint8Array(r));if(Sn.node){let{randomBytes:e}=Sn.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Bn.randomBytes(32),sha512:async(...r)=>{let e=id(...r);if(Sn.web){let t=await Sn.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(Sn.node)return Uint8Array.from(Sn.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=De.BASE){let t=e.equals(De.BASE)?e:new De(e.x,e.y);return t._setWindowSize(r),t.multiply(Ni),t},sha512Sync:void 0};Object.defineProperties(Bn,{sha512Sync:{configurable:!1,get(){return Ns},set(r){Ns||(Ns=r)}}});var jf=ze(ua()),Jt=ze(nf());var xb=(r,e,t)=>r&e^~r&t,Ib=(r,e,t)=>r&e^r&t^e&t,Bb=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),En=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_n=new Uint32Array(64),ya=class extends Mi{constructor(){super(64,32,8,!1),this.A=En[0]|0,this.B=En[1]|0,this.C=En[2]|0,this.D=En[3]|0,this.E=En[4]|0,this.F=En[5]|0,this.G=En[6]|0,this.H=En[7]|0}get(){let{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,t,n,i,s,o,a,u]}set(e,t,n,i,s,o,a,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,t){for(let p=0;p<16;p++,t+=4)_n[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let I=_n[p-15],k=_n[p-2],E=Ar(I,7)^Ar(I,18)^I>>>3,A=Ar(k,17)^Ar(k,19)^k>>>10;_n[p]=A+_n[p-7]+E+_n[p-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:f,H:y}=this;for(let p=0;p<64;p++){let I=Ar(a,6)^Ar(a,11)^Ar(a,25),k=y+I+xb(a,u,f)+Bb[p]+_n[p]|0,A=(Ar(n,2)^Ar(n,13)^Ar(n,22))+Ib(n,i,s)|0;y=f,f=u,u=a,a=o+k|0,o=s,s=i,i=n,n=k+A|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,f=f+this.G|0,y=y+this.H|0,this.set(n,i,s,o,a,u,f,y)}roundClean(){_n.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},sf=class extends ya{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},ga=Ur(()=>new ya),px=Ur(()=>new sf);var hs=ze(lf()),_=ze($s()),o0=ze($s()),Io=ze(yf());var gf=class extends TypeError{constructor(e,t){let n,u=e,{message:i}=u,s=vc(u,["message"]),{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[e,...t()]}}};function Yb(r){return Tn(r)&&typeof r[Symbol.iterator]=="function"}function Tn(r){return typeof r=="object"&&r!=null}function Er(r){return typeof r=="string"?JSON.stringify(r):""+r}function Zb(r){let{done:e,value:t}=r.next();return e?void 0:t}function Xb(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Er(n)+"`"}=r;return Kt(Ue({value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s},r),{message:u})}function*qd(r,e,t,n){Yb(r)||(r=[r]);for(let i of r){let s=Xb(i,e,t,n);s&&(yield s)}}function*mf(r,e,t={}){let{path:n=[],branch:i=[r],coerce:s=!1,mask:o=!1}=t,a={path:n,branch:i};if(s&&(r=e.coercer(r,a),o&&e.type!=="type"&&Tn(e.schema)&&Tn(r)&&!Array.isArray(r)))for(let f in r)e.schema[f]===void 0&&delete r[f];let u=!0;for(let f of e.validator(r,a))u=!1,yield[f,void 0];for(let[f,y,p]of e.entries(r,a)){let I=mf(y,p,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,y],coerce:s,mask:o});for(let k of I)k[0]?(u=!1,yield[k[0],void 0]):s&&(y=k[1],f===void 0?r=y:r instanceof Map?r.set(f,y):r instanceof Set?r.add(y):Tn(r)&&(r[f]=y))}if(u)for(let f of e.refiner(r,a))u=!1,yield[f,void 0];u&&(yield[void 0,r])}var gr=class{constructor(e){let{type:t,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{let y=i(u,f);return qd(y,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{let y=s(u,f);return qd(y,f,this,u)}:this.refiner=()=>[]}assert(e){return bf(e,this)}create(e){return _r(e,this)}is(e){return Hd(e,this)}mask(e){return Jb(e,this)}validate(e,t={}){return Vs(e,this,t)}};function bf(r,e){let t=Vs(r,e);if(t[0])throw t[0]}function _r(r,e){let t=Vs(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Jb(r,e){let t=Vs(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function Hd(r,e){return!Vs(r,e)[0]}function Vs(r,e,t={}){let n=mf(r,e,t),i=Zb(n);return i[0]?[new gf(i[0],function*(){for(let o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function fi(r,e){return new gr({type:r,schema:null,validator:e})}function Ha(){return fi("any",()=>!0)}function F(r){return new gr({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(let[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Er(e)}})}function lt(){return fi("boolean",r=>typeof r=="boolean")}function Pn(r){return fi("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+Er(e))}function oe(r){let e=Er(r),t=typeof r;return new gr({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+Er(n)}})}function Qb(){return fi("never",()=>!1)}function W(r){return new gr(Kt(Ue({},r),{validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)}))}function x(){return fi("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Er(r))}function Y(r){return new gr(Kt(Ue({},r),{validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)}))}function $i(r,e){return new gr({type:"record",schema:null,*entries(t){if(Tn(t))for(let n in t){let i=t[n];yield[n,n,r],yield[n,i,e]}},validator(t){return Tn(t)||"Expected an object, but received: "+Er(t)}})}function M(){return fi("string",r=>typeof r=="string"||"Expected a string, but received: "+Er(r))}function Cn(r){let e=Qb();return new gr({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let n=Math.max(r.length,t.length);for(let i=0;i<n;i++)yield[i,t[i],r[i]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+Er(t)}})}function T(r){let e=Object.keys(r);return new gr({type:"type",schema:r,*entries(t){if(Tn(t))for(let n of e)yield[n,t[n],r[n]]},validator(t){return Tn(t)||"Expected an object, but received: "+Er(t)}})}function Le(r){let e=r.map(t=>t.type).join(" | ");return new gr({type:"union",schema:null,validator(t,n){let i=[];for(let s of r){let[...o]=mf(t,s,n),[a]=o;if(a[0])for(let[u]of o)u&&i.push(u);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Er(t),...i]}})}function mr(){return fi("unknown",()=>!0)}function br(r,e,t){return new gr(Kt(Ue({},r),{coercer:(n,i)=>Hd(n,e)?r.coercer(t(n,i),i):r.coercer(n,i)}))}var z1=ze(ap()),D1=ze(Tp());var[Mp,Op,Np]=[[],[],[]],y1=BigInt(0),lo=BigInt(1),g1=BigInt(2),m1=BigInt(7),b1=BigInt(256),w1=BigInt(113);for(let r=0,e=lo,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],Mp.push(2*(5*n+t)),Op.push((r+1)*(r+2)/2%64);let i=y1;for(let s=0;s<7;s++)e=(e<<lo^(e>>m1)*w1)%b1,e&g1&&(i^=lo<<(lo<<BigInt(s))-lo);Np.push(i)}var[v1,k1]=fe.split(Np,!0),Pp=(r,e,t)=>t>32?fe.rotlBH(r,e,t):fe.rotlSH(r,e,t),Cp=(r,e,t)=>t>32?fe.rotlBL(r,e,t):fe.rotlSL(r,e,t);function S1(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,u=(o+2)%10,f=t[u],y=t[u+1],p=Pp(f,y,1)^t[a],I=Cp(f,y,1)^t[a+1];for(let k=0;k<50;k+=10)r[o+k]^=p,r[o+k+1]^=I}let i=r[2],s=r[3];for(let o=0;o<24;o++){let a=Op[o],u=Pp(i,s,a),f=Cp(i,s,a),y=Mp[o];i=r[y],s=r[y+1],r[y]=u,r[y+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=v1[n],r[1]^=k1[n]}t.fill(0)}var es=class extends bn{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,jt.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Jh(this.state)}keccak(){S1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){jt.exists(this);let{blockLen:t,state:n}=this;e=wn(e);let i=e.length;for(let s=0;s<i;){let o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,(t&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){jt.exists(this,!1),jt.bytes(e),this.finish();let t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return jt.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jt.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new es(t,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},Dn=(r,e,t)=>Ur(()=>new es(e,r,t)),RI=Dn(6,144,224/8),TI=Dn(6,136,256/8),PI=Dn(6,104,384/8),CI=Dn(6,72,512/8),MI=Dn(1,144,224/8),Cf=Dn(1,136,256/8),OI=Dn(1,104,384/8),NI=Dn(1,72,512/8),Up=(r,e,t)=>Qh((n={})=>new es(e,r,n.dkLen===void 0?t:n.dkLen,!0)),UI=Up(31,168,128/8),zI=Up(31,136,256/8);var tu=class extends bn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,jt.hash(e);let n=wn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return jt.exists(this),this.iHash.update(e),this}digestInto(e){jt.exists(this),jt.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Mf=(r,e,t)=>new tu(r,e).update(t).digest();Mf.create=(r,e)=>new tu(r,e);var x1=ze(Dc(),1);var we=BigInt(0),We=BigInt(1),Wn=BigInt(2),po=BigInt(3),I1=BigInt(8),tt=Object.freeze({a:we,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:We,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function zp(r){let{a:e,b:t}=tt,n=te(r*r),i=te(n*r);return te(i+e*r+t)}var ru=tt.a===we,iu=class extends Error{constructor(e){super(e)}},_e=class{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof et))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new _e(e.x,e.y,We)}static toAffineBatch(e){let t=L1(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(t[i]))}static normalizeZ(e){return _e.toAffineBatch(e).map(_e.fromAffine)}equals(e){if(!(e instanceof _e))throw new TypeError("JacobianPoint expected");let{x:t,y:n,z:i}=this,{x:s,y:o,z:a}=e,u=te(i*i),f=te(a*a),y=te(t*f),p=te(s*u),I=te(te(n*a)*f),k=te(te(o*i)*u);return y===p&&I===k}negate(){return new _e(this.x,te(-this.y),this.z)}double(){let{x:e,y:t,z:n}=this,i=te(e*e),s=te(t*t),o=te(s*s),a=e+s,u=te(Wn*(te(a*a)-i-o)),f=te(po*i),y=te(f*f),p=te(y-Wn*u),I=te(f*(u-p)-I1*o),k=te(Wn*t*n);return new _e(p,I,k)}add(e){if(!(e instanceof _e))throw new TypeError("JacobianPoint expected");let{x:t,y:n,z:i}=this,{x:s,y:o,z:a}=e;if(s===we||o===we)return this;if(t===we||n===we)return e;let u=te(i*i),f=te(a*a),y=te(t*f),p=te(s*u),I=te(te(n*a)*f),k=te(te(o*i)*u),E=te(p-y),A=te(k-I);if(E===we)return A===we?this.double():_e.ZERO;let L=te(E*E),P=te(E*L),O=te(y*L),C=te(A*A-P-Wn*O),K=te(A*(O-C)-I*P),z=te(i*a*E);return new _e(C,K,z)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=_e.ZERO;if(typeof e=="bigint"&&e===we)return t;let n=Kp(e);if(n===We)return this;if(!ru){let p=t,I=this;for(;n>we;)n&We&&(p=p.add(I)),I=I.double(),n>>=We;return p}let{k1neg:i,k1:s,k2neg:o,k2:a}=qp(n),u=t,f=t,y=this;for(;s>we||a>we;)s&We&&(u=u.add(y)),a&We&&(f=f.add(y)),y=y.double(),s>>=We,a>>=We;return i&&(u=u.negate()),o&&(f=f.negate()),f=new _e(te(f.x*tt.beta),f.y,f.z),u.add(f)}precomputeWindow(e){let t=ru?128/e+1:256/e+1,n=[],i=this,s=i;for(let o=0;o<t;o++){s=i,n.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,t){!t&&this.equals(_e.BASE)&&(t=et.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&Nf.get(t);i||(i=this.precomputeWindow(n),t&&n!==1&&(i=_e.normalizeZ(i),Nf.set(t,i)));let s=_e.ZERO,o=_e.ZERO,a=1+(ru?128/n:256/n),u=2**(n-1),f=BigInt(2**n-1),y=2**n,p=BigInt(n);for(let I=0;I<a;I++){let k=I*u,E=Number(e&f);if(e>>=p,E>u&&(E-=y,e+=We),E===0){let A=i[k];I%2&&(A=A.negate()),o=o.add(A)}else{let A=i[k+Math.abs(E)-1];E<0&&(A=A.negate()),s=s.add(A)}}return{p:s,f:o}}multiply(e,t){let n=Kp(e),i,s;if(ru){let{k1neg:o,k1:a,k2neg:u,k2:f}=qp(n),{p:y,f:p}=this.wNAF(a,t),{p:I,f:k}=this.wNAF(f,t);o&&(y=y.negate()),u&&(I=I.negate()),I=new _e(te(I.x*tt.beta),I.y,I.z),i=y.add(I),s=p.add(k)}else{let{p:o,f:a}=this.wNAF(n,t);i=o,s=a}return _e.normalizeZ([i,s])[0]}toAffine(e=bo(this.z)){let{x:t,y:n,z:i}=this,s=e,o=te(s*s),a=te(o*s),u=te(t*o),f=te(n*a);if(te(i*s)!==We)throw new Error("invZ was invalid");return new et(u,f)}};_e.BASE=new _e(tt.Gx,tt.Gy,We);_e.ZERO=new _e(we,We,we);var Nf=new WeakMap,et=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Nf.delete(this)}hasEvenY(){return this.y%Wn===we}static fromCompressedHex(e){let t=e.length===32,n=tn(t?e:e.subarray(1));if(!Of(n))throw new Error("Point is not on curve");let i=zp(n),s=_1(i),o=(s&We)===We;t?o&&(s=te(-s)):(e[0]&1)===1!==o&&(s=te(-s));let a=new et(n,s);return a.assertValidity(),a}static fromUncompressedHex(e){let t=tn(e.subarray(1,33)),n=tn(e.subarray(33,65)),i=new et(t,n);return i.assertValidity(),i}static fromHex(e){let t=go(e),n=t.length,i=t[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(t);if(n===65&&i===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return et.BASE.multiply(ou(e))}static fromSignature(e,t,n){e=go(e);let i=T1(e),{r:s,s:o}=C1(t);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let a=n&1?"03":"02",u=et.fromHex(a+rs(s)),{n:f}=tt,y=bo(s,f),p=te(-i*y,f),I=te(o*y,f),k=et.BASE.multiplyAndAddUnsafe(u,p,I);if(!k)throw new Error("Cannot recover signature: point at infinify");return k.assertValidity(),k}toRawBytes(e=!1){return di(this.toHex(e))}toHex(e=!1){let t=rs(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${rs(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Of(t)||!Of(n))throw new Error(e);let i=te(n*n),s=zp(t);if(te(i-s)!==we)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new et(this.x,te(-this.y))}double(){return _e.fromAffine(this).double().toAffine()}add(e){return _e.fromAffine(this).add(_e.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return _e.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){let i=_e.fromAffine(this),s=t===we||t===We||this!==et.BASE?i.multiplyUnsafe(t):i.multiply(t),o=_e.fromAffine(e).multiplyUnsafe(n),a=s.add(o);return a.equals(_e.ZERO)?void 0:a.toAffine()}};et.BASE=new et(tt.Gx,tt.Gy);et.ZERO=new et(we,we);function Dp(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function Wp(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${is(r)}`);let e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:tn(t),left:r.subarray(e+2)}}function B1(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${is(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:t}=Wp(r.subarray(2)),{data:n,left:i}=Wp(t);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${is(i)}`);return{r:e,s:n}}var Hr=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=t?is(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Hr(su(i.slice(0,64)),su(i.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=B1(t?e:di(e));return new Hr(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!mo(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!mo(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=tt.n>>We;return this.s>e}normalizeS(){return this.hasHighS()?new Hr(this.r,tt.n-this.s):this}toDERRawBytes(e=!1){return di(this.toDERHex(e))}toDERHex(e=!1){let t=Dp(ho(this.s));if(e)return t;let n=Dp(ho(this.r)),i=ho(n.length/2),s=ho(t.length/2);return`30${ho(n.length/2+t.length/2+4)}02${i}${n}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return di(this.toCompactHex())}toCompactHex(){return rs(this.r)+rs(this.s)}};function ts(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let s=r[n];t.set(s,i),i+=s.length}return t}var A1=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function is(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=A1[r[t]];return e}var E1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function rs(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(we<=r&&r<E1))throw new Error("Expected number < 2^256");return r.toString(16).padStart(64,"0")}function Uf(r){let e=di(rs(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function ho(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function su(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function di(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,i=r.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function tn(r){return su(is(r))}function go(r){return r instanceof Uint8Array?Uint8Array.from(r):di(r)}function Kp(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&mo(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function te(r,e=tt.P){let t=r%e;return t>=we?t:e+t}function wr(r,e){let{P:t}=tt,n=r;for(;e-- >we;)n*=n,n%=t;return n}function _1(r){let{P:e}=tt,t=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),u=r*r*r%e,f=u*u*r%e,y=wr(f,po)*f%e,p=wr(y,po)*f%e,I=wr(p,Wn)*u%e,k=wr(I,n)*I%e,E=wr(k,i)*k%e,A=wr(E,o)*E%e,L=wr(A,a)*A%e,P=wr(L,o)*E%e,O=wr(P,po)*f%e,C=wr(O,s)*k%e,K=wr(C,t)*u%e;return wr(K,Wn)}function bo(r,e=tt.P){if(r===we||e<=we)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=te(r,e),n=e,i=we,s=We,o=We,a=we;for(;t!==we;){let f=n/t,y=n%t,p=i-o*f,I=s-a*f;n=t,t=y,i=o,s=a,o=p,a=I}if(n!==We)throw new Error("invert: does not exist");return te(i,e)}function L1(r,e=tt.P){let t=new Array(r.length),n=r.reduce((s,o,a)=>o===we?s:(t[a]=s,te(s*o,e)),We),i=bo(n,e);return r.reduceRight((s,o,a)=>o===we?s:(t[a]=te(s*t[a],e),te(s*o,e)),i),t}var Fp=(r,e)=>(r+e/Wn)/e,R1={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-We*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function qp(r){let{n:e}=tt,{a1:t,b1:n,a2:i,b2:s,POW_2_128:o}=R1,a=Fp(s*r,e),u=Fp(-n*r,e),f=te(r-a*t-u*i,e),y=te(-a*n-u*s,e),p=f>o,I=y>o;if(p&&(f=e-f),I&&(y=e-y),f>o||y>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:p,k1:f,k2neg:I,k2:y}}function T1(r){let{n:e}=tt,n=r.length*8-256,i=tn(r);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var ns,yo,zf=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return qr.hmacSha256(this.k,...e)}hmacSync(...e){return yo(this.k,...e)}checkSync(){if(typeof yo!="function")throw new iu("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}};function mo(r){return we<r&&r<tt.n}function Of(r){return we<r&&r<tt.P}function P1(r,e,t){let n=tn(r);if(!mo(n))return;let{n:i}=tt,s=et.BASE.multiply(n),o=te(s.x,i);if(o===we)return;let a=te(bo(n,i)*te(e+t*o,i),i);if(a===we)return;let u=new Hr(o,a),f=(s.x===u.r?0:2)|Number(s.y&We);return{sig:u,recovery:f}}function ou(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==64)throw new Error("Expected 32 bytes of private key");e=su(r)}else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("Expected 32 bytes of private key");e=tn(r)}else throw new TypeError("Expected valid private key");if(!mo(e))throw new Error("Expected private key: 0 < key < n");return e}function C1(r){if(r instanceof Hr)return r.assertValidity(),r;try{return Hr.fromDER(r)}catch(e){return Hr.fromCompact(r)}}function Hp(r,e=!1){return et.fromPrivateKey(r).toRawBytes(e)}function jp(r){let e=r.length>32?r.slice(0,32):r;return tn(e)}function M1(r){let e=jp(r),t=te(e,tt.n);return $p(t<we?e:t)}function $p(r){return Uf(r)}function O1(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);let n=go(r),i=ou(e),s=[$p(i),M1(n)];if(t!=null){t===!0&&(t=qr.randomBytes(32));let u=go(t);if(u.length!==32)throw new Error("sign: Expected 32 bytes of extra data");s.push(u)}let o=ts(...s),a=jp(n);return{seed:o,m:a,d:i}}function N1(r,e){let{sig:t,recovery:n}=r,{canonical:i,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},e);i&&t.hasHighS()&&(t=t.normalizeS(),n^=1);let a=s?t.toDERRawBytes():t.toCompactRawBytes();return o?[a,n]:a}function Vp(r,e,t={}){let{seed:n,m:i,d:s}=O1(r,e,t.extraEntropy),o,a=new zf;for(a.reseedSync(n);!(o=P1(a.generateSync(),i,s));)a.reseedSync();return N1(o,t)}et.BASE._setWindowSize(8);var cr={node:x1,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var nu={},qr={bytesToHex:is,hexToBytes:di,concatBytes:ts,mod:te,invert:bo,isValidPrivateKey(r){try{return ou(r),!0}catch(e){return!1}},_bigintTo32Bytes:Uf,_normalizePrivateKey:ou,hashToPrivateKey:r=>{if(r=go(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=te(tn(r),tt.n-We)+We;return Uf(e)},randomBytes:(r=32)=>{if(cr.web)return cr.web.getRandomValues(new Uint8Array(r));if(cr.node){let{randomBytes:e}=cr.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>qr.hashToPrivateKey(qr.randomBytes(40)),sha256:async(...r)=>{if(cr.web){let e=await cr.web.subtle.digest("SHA-256",ts(...r));return new Uint8Array(e)}else if(cr.node){let{createHash:e}=cr.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(cr.web){let t=await cr.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=ts(...e),i=await cr.web.subtle.sign("HMAC",t,n);return new Uint8Array(i)}else if(cr.node){let{createHmac:t}=cr.node,n=t("sha256",r);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=nu[r];if(t===void 0){let n=await qr.sha256(Uint8Array.from(r,i=>i.charCodeAt(0)));t=ts(n,n),nu[r]=t}return qr.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof ns!="function")throw new iu("sha256Sync is undefined, you need to set it");let t=nu[r];if(t===void 0){let n=ns(Uint8Array.from(r,i=>i.charCodeAt(0)));t=ts(n,n),nu[r]=t}return ns(t,...e)},precompute(r=8,e=et.BASE){let t=e===et.BASE?e:new et(e.x,e.y);return t._setWindowSize(r),t.multiply(po),t}};Object.defineProperties(qr,{sha256Sync:{configurable:!1,get(){return ns},set(r){ns||(ns=r)}},hmacSha256Sync:{configurable:!1,get(){return yo},set(r){yo||(yo=r)}}});Bn.sha512Sync=(...r)=>td(Bn.concatBytes(...r));var YI=Bn.randomPrivateKey,Gp=()=>{let r=Bn.randomPrivateKey(),e=$f(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},$f=aa.getPublicKey;function Yp(r){try{return De.fromHex(r,!0),!0}catch(e){return!1}}var el=(r,e)=>aa.sign(r,e.slice(0,32)),W1=aa.verify,Be=r=>ae.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ae.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ae.Buffer.from(r),Vf=class{constructor(e){Object.assign(this,e)}encode(){return ae.Buffer.from((0,hs.serialize)(cu,this))}static decode(e){return(0,hs.deserialize)(cu,this,e)}static decodeUnchecked(e){return(0,hs.deserializeUnchecked)(cu,this,e)}};var cu=new Map,a0,K1=32,jr=32;function F1(r){return r._bn!==void 0}var Zp=1;a0=Symbol.toStringTag;var le=class extends Vf{constructor(e){if(super({}),this._bn=void 0,F1(e))this._bn=e._bn;else{if(typeof e=="string"){let t=Jt.default.decode(e);if(t.length!=jr)throw new Error("Invalid public key input");this._bn=new jf.default(t)}else this._bn=new jf.default(e);if(this._bn.byteLength()>jr)throw new Error("Invalid public key input")}}static unique(){let e=new le(Zp);return Zp+=1,new le(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Jt.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ae.Buffer);if(e.length===jr)return e;let t=ae.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[a0](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=ae.Buffer.concat([e.toBuffer(),ae.Buffer.from(t),n.toBuffer()]),s=ga(i);return new le(s)}static createProgramAddressSync(e,t){let n=ae.Buffer.alloc(0);e.forEach(function(s){if(s.length>K1)throw new TypeError("Max seed length exceeded");n=ae.Buffer.concat([n,Be(s)])}),n=ae.Buffer.concat([n,t.toBuffer(),ae.Buffer.from("ProgramDerivedAddress")]);let i=ga(n);if(Yp(i))throw new Error("Invalid seeds, address must fall off the curve");return new le(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let s=e.concat(ae.Buffer.from([n]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new le(e);return Yp(t.toBytes())}};le.default=new le("11111111111111111111111111111111");cu.set(le,{kind:"struct",fields:[["_bn","u256"]]});var ZI=new le("BPFLoader1111111111111111111111111111111111"),pi=1280-40-8,tl=127,vo=64,Gf=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Gf.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Yf=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Yf.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Zf=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Zf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var os=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});let i=s=>{let o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}},ge=(r="publicKey")=>_.blob(32,r),q1=(r="signature")=>_.blob(64,r),ss=(r="string")=>{let e=_.struct([_.u32("length"),_.u32("lengthPadding"),_.blob(_.offset(_.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{let u={chars:ae.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>_.u32().span+_.u32().span+ae.Buffer.from(s,"utf8").length,i},H1=(r="authorized")=>_.struct([ge("staker"),ge("withdrawer")],r),j1=(r="lockup")=>_.struct([_.ns64("unixTimestamp"),_.ns64("epoch"),ge("custodian")],r),$1=(r="voteInit")=>_.struct([ge("nodePubkey"),ge("authorizedVoter"),ge("authorizedWithdrawer"),_.u8("commission")],r),V1=(r="voteAuthorizeWithSeedArgs")=>_.struct([_.u32("voteAuthorizationType"),ge("currentAuthorityDerivedKeyOwnerPubkey"),ss("currentAuthorityDerivedKeySeed"),ge("newAuthorized")],r);function u0(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return u0({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}function fr(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function lr(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ke(r,e){if(!r)throw new Error(e||"Assertion failed")}var as=class{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=o=>{let a=o.toBase58(),u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(t);s.isSigner=!0,s.isWritable=!0;for(let o of e){i(o.programId).isInvoked=!0;for(let a of o.keys){let u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new as(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Ke(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Ke(t.length>0,"Expected at least one writable signer key");let[u]=t[0];Ke(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...t.map(([u])=>new le(u)),...n.map(([u])=>new le(u)),...i.map(([u])=>new le(u)),...s.map(([u])=>new le(u))];return[o,a]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[s,o]of this.keyMetaMap.entries())if(t(o)){let a=new le(s),u=e.findIndex(f=>f.equals(a));u>=0&&(Ke(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}},Fn=class{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new le(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Jt.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new os(this.staticAccountKeys)}static compile(e){let t=as.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),o=new os(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Jt.default.encode(a.data)}));return new Fn({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];lr(t,e);let n=this.instructions.map(p=>{let{accounts:I,programIdIndex:k}=p,E=Array.from(Jt.default.decode(p.data)),A=[];lr(A,I.length);let L=[];return lr(L,E.length),{programIdIndex:k,keyIndicesCount:ae.Buffer.from(A),keyIndices:I,dataLength:ae.Buffer.from(L),data:E}}),i=[];lr(i,n.length);let s=ae.Buffer.alloc(pi);ae.Buffer.from(i).copy(s);let o=i.length;n.forEach(p=>{let k=_.struct([_.u8("programIdIndex"),_.blob(p.keyIndicesCount.length,"keyIndicesCount"),_.seq(_.u8("keyIndex"),p.keyIndices.length,"keyIndices"),_.blob(p.dataLength.length,"dataLength"),_.seq(_.u8("userdatum"),p.data.length,"data")]).encode(p,s,o);o+=k}),s=s.slice(0,o);let a=_.struct([_.blob(1,"numRequiredSignatures"),_.blob(1,"numReadonlySignedAccounts"),_.blob(1,"numReadonlyUnsignedAccounts"),_.blob(t.length,"keyCount"),_.seq(ge("key"),e,"keys"),ge("recentBlockhash")]),u={numRequiredSignatures:ae.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ae.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ae.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ae.Buffer.from(t),keys:this.accountKeys.map(p=>Be(p.toBytes())),recentBlockhash:Jt.default.decode(this.recentBlockhash)},f=ae.Buffer.alloc(2048),y=a.encode(u,f);return s.copy(f,y),f.slice(0,y+s.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&tl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),s=t.shift(),o=fr(t),a=[];for(let I=0;I<o;I++){let k=t.slice(0,jr);t=t.slice(jr),a.push(new le(ae.Buffer.from(k)))}let u=t.slice(0,jr);t=t.slice(jr);let f=fr(t),y=[];for(let I=0;I<f;I++){let k=t.shift(),E=fr(t),A=t.slice(0,E);t=t.slice(E);let L=fr(t),P=t.slice(0,L),O=Jt.default.encode(ae.Buffer.from(P));t=t.slice(L),y.push({programIdIndex:k,accounts:A,data:O})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Jt.default.encode(ae.Buffer.from(u)),accountKeys:a,instructions:y};return new Fn(p)}},us=class{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new os(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=as.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let y of s){let p=t.extractTableLookup(y);if(p!==void 0){let[I,{writable:k,readonly:E}]=p;n.push(I),i.writable.push(...k),i.readonly.push(...E)}}let[o,a]=t.getMessageComponents(),f=new os(a,i).compileInstructions(e.instructions);return new us({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){let e=Array();lr(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();lr(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();lr(s,this.addressTableLookups.length);let o=_.struct([_.u8("prefix"),_.struct([_.u8("numRequiredSignatures"),_.u8("numReadonlySignedAccounts"),_.u8("numReadonlyUnsignedAccounts")],"header"),_.blob(e.length,"staticAccountKeysLength"),_.seq(ge(),this.staticAccountKeys.length,"staticAccountKeys"),ge("recentBlockhash"),_.blob(n.length,"instructionsLength"),_.blob(t.length,"serializedInstructions"),_.blob(s.length,"addressTableLookupsLength"),_.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(pi),u=1<<7,f=o.encode({prefix:u,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(y=>y.toBytes()),recentBlockhash:Jt.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0,t=new Uint8Array(pi);for(let n of this.compiledInstructions){let i=Array();lr(i,n.accountKeyIndexes.length);let s=Array();lr(s,n.data.length);let o=_.struct([_.u8("programIdIndex"),_.blob(i.length,"encodedAccountKeyIndexesLength"),_.seq(_.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),_.blob(s.length,"encodedDataLength"),_.blob(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(pi);for(let n of this.addressTableLookups){let i=Array();lr(i,n.writableIndexes.length);let s=Array();lr(s,n.readonlyIndexes.length);let o=_.struct([ge("accountKey"),_.blob(i.length,"encodedWritableIndexesLength"),_.seq(_.u8(),n.writableIndexes.length,"writableIndexes"),_.blob(s.length,"encodedReadonlyIndexesLength"),_.seq(_.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&tl;Ke(n!==i,"Expected versioned message but received legacy message");let s=i;Ke(s===0,`Expected versioned message with version 0 but found version ${s}`);let o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},a=[],u=fr(t);for(let E=0;E<u;E++)a.push(new le(t.splice(0,jr)));let f=Jt.default.encode(t.splice(0,jr)),y=fr(t),p=[];for(let E=0;E<y;E++){let A=t.shift(),L=fr(t),P=t.splice(0,L),O=fr(t),C=new Uint8Array(t.splice(0,O));p.push({programIdIndex:A,accountKeyIndexes:P,data:C})}let I=fr(t),k=[];for(let E=0;E<I;E++){let A=new le(t.splice(0,jr)),L=fr(t),P=t.splice(0,L),O=fr(t),C=t.splice(0,O);k.push({accountKey:A,writableIndexes:P,readonlyIndexes:C})}return new us({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:p,addressTableLookups:k})}},c0={deserializeMessageVersion(r){let e=r[0],t=e&tl;return t===e?"legacy":t},deserialize:r=>{let e=c0.deserializeMessageVersion(r);if(e==="legacy")return Fn.from(r);if(e===0)return us.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Xp;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(Xp||(Xp={}));var G1=ae.Buffer.alloc(vo).fill(0),Ce=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ae.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Oe=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ce(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<t.length;A++)if(t[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);let i=[],s=[];t.forEach(A=>{A.keys.forEach(P=>{s.push(Ue({},P))});let L=A.programId.toString();i.includes(L)||i.push(L)}),i.forEach(A=>{s.push({pubkey:new le(A),isSigner:!1,isWritable:!1})});let o=[];s.forEach(A=>{let L=A.pubkey.toString(),P=o.findIndex(O=>O.pubkey.toString()===L);P>-1?(o[P].isWritable=o[P].isWritable||A.isWritable,o[P].isSigner=o[P].isSigner||A.isSigner):o.push(A)}),o.sort(function(A,L){return A.isSigner!==L.isSigner?A.isSigner?-1:1:A.isWritable!==L.isWritable?A.isWritable?-1:1:A.pubkey.toBase58().localeCompare(L.pubkey.toBase58())});let a=o.findIndex(A=>A.pubkey.equals(n));if(a>-1){let[A]=o.splice(a,1);A.isSigner=!0,A.isWritable=!0,o.unshift(A)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let A of this.signatures){let L=o.findIndex(P=>P.pubkey.equals(A.publicKey));if(L>-1)o[L].isSigner||(o[L].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let u=0,f=0,y=0,p=[],I=[];o.forEach(({pubkey:A,isSigner:L,isWritable:P})=>{L?(p.push(A.toString()),u+=1,P||(f+=1)):(I.push(A.toString()),P||(y+=1))});let k=p.concat(I),E=t.map(A=>{let{data:L,programId:P}=A;return{programIdIndex:k.indexOf(P.toString()),accounts:A.keys.map(O=>k.indexOf(O.pubkey.toString())),data:Jt.default.encode(L)}});return E.forEach(A=>{Ke(A.programIdIndex>=0),A.accounts.forEach(L=>Ke(L>=0))}),new Fn({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:y},accountKeys:k,recentBlockhash:e,instructions:E})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let s=el(n,i.secretKey);this._addSignature(i.publicKey,Be(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ke(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ae.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!W1(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];lr(n,t.length);let i=n.length+t.length*64+e.length,s=ae.Buffer.alloc(i);return Ke(t.length<256),ae.Buffer.from(n).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(Ke(o.length===64,"signature has invalid length"),ae.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+t.length*64),Ke(s.length<=pi,`Transaction too large: ${s.length} > ${pi}`),s}get keys(){return Ke(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ke(this.instructions.length===1),this.instructions[0].programId}get data(){return Ke(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=fr(t),i=[];for(let s=0;s<n;s++){let o=t.slice(0,vo);t=t.slice(vo),i.push(Jt.default.encode(ae.Buffer.from(o)))}return Oe.populate(Fn.from(t),i)}static populate(e,t=[]){let n=new Oe;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{let o={signature:i==Jt.default.encode(G1)?null:Jt.default.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{let s=i.accounts.map(o=>{let a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Ce({keys:s,programId:e.accountKeys[i.programIdIndex],data:Jt.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}};var qn=class{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ke(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(vo));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();lr(t,this.signatures.length);let n=_.struct([_.blob(t.length,"encodedSignaturesLength"),_.seq(q1(),this.signatures.length,"signatures"),_.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e],n=[],i=fr(t);for(let o=0;o<i;o++)n.push(new Uint8Array(t.splice(0,vo)));let s=c0.deserialize(new Uint8Array(t));return new qn(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(o=>o.equals(i.publicKey));Ke(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=el(t,i.secretKey)}}addSignature(e,t){Ke(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ke(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}},rn=new le("SysvarC1ock11111111111111111111111111111111"),XI=new le("SysvarEpochSchedu1e111111111111111111111111"),JI=new le("Sysvar1nstructions1111111111111111111111111"),Df=new le("SysvarRecentB1ockHashes11111111111111111111"),ko=new le("SysvarRent111111111111111111111111111111111"),QI=new le("SysvarRewards111111111111111111111111111111"),eB=new le("SysvarS1otHashes111111111111111111111111111"),tB=new le("SysvarS1otHistory11111111111111111111111111"),Wf=new le("SysvarStakeHistory1111111111111111111111111");async function Kf(r,e,t,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await r.sendTransaction(e,t,i),o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,u=a.keys[0].pubkey;o=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await r.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Y1(r){return new Promise(e=>setTimeout(e,r))}function ve(r,e){let t=r.layout.span>=0?r.layout.span:u0(r,e),n=ae.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}var Z1=_.nu64("lamportsPerSignature"),X1=_.struct([_.u32("version"),_.u32("state"),ge("authorizedPubkey"),ge("nonce"),_.struct([Z1],"feeCalculator")]),Jp=X1.span;var J1=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Q1=r=>e=>{let t=(0,o0.blob)(r,e),{encode:n,decode:i}=J1(t),s=t;return s.decode=(o,a)=>{let u=i(o,a);return(0,Io.toBigIntLE)(ae.Buffer.from(u))},s.encode=(o,a,u)=>{let f=(0,Io.toBufferLE)(o,r);return n(f,a,u)},s},cs=Q1(8);var vr=Object.freeze({Create:{index:0,layout:_.struct([_.u32("instruction"),_.ns64("lamports"),_.ns64("space"),ge("programId")])},Assign:{index:1,layout:_.struct([_.u32("instruction"),ge("programId")])},Transfer:{index:2,layout:_.struct([_.u32("instruction"),cs("lamports")])},CreateWithSeed:{index:3,layout:_.struct([_.u32("instruction"),ge("base"),ss("seed"),_.ns64("lamports"),_.ns64("space"),ge("programId")])},AdvanceNonceAccount:{index:4,layout:_.struct([_.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:_.struct([_.u32("instruction"),_.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:_.struct([_.u32("instruction"),ge("authorized")])},AuthorizeNonceAccount:{index:7,layout:_.struct([_.u32("instruction"),ge("authorized")])},Allocate:{index:8,layout:_.struct([_.u32("instruction"),_.ns64("space")])},AllocateWithSeed:{index:9,layout:_.struct([_.u32("instruction"),ge("base"),ss("seed"),_.ns64("space"),ge("programId")])},AssignWithSeed:{index:10,layout:_.struct([_.u32("instruction"),ge("base"),ss("seed"),ge("programId")])},TransferWithSeed:{index:11,layout:_.struct([_.u32("instruction"),cs("lamports"),ss("seed"),ge("programId")])},UpgradeNonceAccount:{index:12,layout:_.struct([_.u32("instruction")])}}),Ht=class{constructor(){}static createAccount(e){let t=vr.Create,n=ve(t,{lamports:e.lamports,space:e.space,programId:Be(e.programId.toBuffer())});return new Ce({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=vr.TransferWithSeed;t=ve(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Be(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=vr.Transfer;t=ve(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ce({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=vr.AssignWithSeed;t=ve(i,{base:Be(e.basePubkey.toBuffer()),seed:e.seed,programId:Be(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=vr.Assign;t=ve(i,{programId:Be(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ce({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=vr.CreateWithSeed,n=ve(t,{base:Be(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Be(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ce({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Oe;"basePubkey"in e&&"seed"in e?t.add(Ht.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Jp,programId:this.programId})):t.add(Ht.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Jp,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=vr.InitializeNonceAccount,n=ve(t,{authorized:Be(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Df,isSigner:!1,isWritable:!1},{pubkey:ko,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Ce(i)}static nonceAdvance(e){let t=vr.AdvanceNonceAccount,n=ve(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Df,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Ce(i)}static nonceWithdraw(e){let t=vr.WithdrawNonceAccount,n=ve(t,{lamports:e.lamports});return new Ce({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Df,isSigner:!1,isWritable:!1},{pubkey:ko,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=vr.AuthorizeNonceAccount,n=ve(t,{authorized:Be(e.newAuthorizedPubkey.toBuffer())});return new Ce({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=vr.AllocateWithSeed;t=ve(i,{base:Be(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Be(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=vr.Allocate;t=ve(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ce({keys:n,programId:this.programId,data:t})}};Ht.programId=new le("11111111111111111111111111111111");var ev=pi-300,fs=class{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/fs.chunkSize)+1+1)}static async load(e,t,n,i,s){{let p=await e.getMinimumBalanceForRentExemption(s.length),I=await e.getAccountInfo(n.publicKey,"confirmed"),k=null;if(I!==null){if(I.executable)return console.error("Program load failed, account is already executable"),!1;I.data.length!==s.length&&(k=k||new Oe,k.add(Ht.allocate({accountPubkey:n.publicKey,space:s.length}))),I.owner.equals(i)||(k=k||new Oe,k.add(Ht.assign({accountPubkey:n.publicKey,programId:i}))),I.lamports<p&&(k=k||new Oe,k.add(Ht.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:p-I.lamports})))}else k=new Oe().add(Ht.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:s.length,programId:i}));k!==null&&await Kf(e,k,[t,n],{commitment:"confirmed"})}let o=_.struct([_.u32("instruction"),_.u32("offset"),_.u32("bytesLength"),_.u32("bytesLengthPadding"),_.seq(_.u8("byte"),_.offset(_.u32(),-8),"bytes")]),a=fs.chunkSize,u=0,f=s,y=[];for(;f.length>0;){let p=f.slice(0,a),I=ae.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:p,bytesLength:0,bytesLengthPadding:0},I);let k=new Oe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:I});y.push(Kf(e,k,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Y1(1e3/4),u+=a,f=f.slice(a)}await Promise.all(y);{let p=_.struct([_.u32("instruction")]),I=ae.Buffer.alloc(p.span);p.encode({instruction:1},I);let k=new Oe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ko,isSigner:!1,isWritable:!1}],programId:i,data:I});await Kf(e,k,[t,n],{commitment:"confirmed"})}return!0}};fs.chunkSize=ev;var rB=new le("BPFLoader2111111111111111111111111111111111");var nB=globalThis.fetch,tv=160,rv=64,nv=tv/rv,iB=1e3/nv;var sB={index:1,layout:_.struct([_.u32("typeIndex"),cs("deactivationSlot"),_.nu64("lastExtendedSlot"),_.u8("lastExtendedStartIndex"),_.u8(),_.seq(ge(),_.offset(_.u8(),-1),"authority")])};var Ff,Ct=br(Pn(le),M(),r=>new le(r)),f0=Cn([M(),oe("base64")]),rl=br(Pn(ae.Buffer),f0,r=>ae.Buffer.from(r[0],"base64")),oB=30*1e3;function l0(r){return Le([T({jsonrpc:oe("2.0"),id:M(),result:r}),T({jsonrpc:oe("2.0"),id:M(),error:T({code:mr(),message:M(),data:Y(Ha())})})])}var iv=l0(mr());function Fe(r){return br(l0(r),iv,e=>"error"in e?e:Kt(Ue({},e),{result:_r(e.result,r)}))}function Lr(r){return Fe(T({context:T({slot:x()}),value:r}))}function hu(r){return T({context:T({slot:x()}),value:r})}var sv=T({foundation:x(),foundationTerm:x(),initial:x(),taper:x(),terminal:x()}),aB=Fe(F(W(T({epoch:x(),effectiveSlot:x(),amount:x(),postBalance:x(),commission:Y(W(x()))})))),ov=T({total:x(),validator:x(),foundation:x(),epoch:x()}),av=T({epoch:x(),slotIndex:x(),slotsInEpoch:x(),absoluteSlot:x(),blockHeight:Y(x()),transactionCount:Y(x())}),uv=T({slotsPerEpoch:x(),leaderScheduleSlotOffset:x(),warmup:lt(),firstNormalEpoch:x(),firstNormalSlot:x()}),cv=$i(M(),F(x())),mi=W(Le([T({}),M()])),fv=T({err:mi}),lv=oe("receivedSignature"),uB=T({"solana-core":M(),"feature-set":Y(x())}),cB=Lr(T({err:W(Le([T({}),M()])),logs:W(F(M())),accounts:Y(W(F(W(T({executable:lt(),owner:M(),lamports:x(),data:F(M()),rentEpoch:Y(x())}))))),unitsConsumed:Y(x()),returnData:Y(W(T({programId:M(),data:Cn([M(),oe("base64")])})))})),fB=Lr(T({byIdentity:$i(M(),F(x())),range:T({firstSlot:x(),lastSlot:x()})}));var lB=Fe(sv),hB=Fe(ov),dB=Fe(av),pB=Fe(uv),yB=Fe(cv),gB=Fe(x()),mB=Lr(T({total:x(),circulating:x(),nonCirculating:x(),nonCirculatingAccounts:F(Ct)})),hv=T({amount:M(),uiAmount:W(x()),decimals:x(),uiAmountString:Y(M())}),bB=Lr(F(T({address:Ct,amount:M(),uiAmount:W(x()),decimals:x(),uiAmountString:Y(M())}))),wB=Lr(F(T({pubkey:Ct,account:T({executable:lt(),owner:Ct,lamports:x(),data:rl,rentEpoch:x()})}))),Xf=T({program:M(),parsed:mr(),space:x()}),vB=Lr(F(T({pubkey:Ct,account:T({executable:lt(),owner:Ct,lamports:x(),data:Xf,rentEpoch:x()})}))),kB=Lr(F(T({lamports:x(),address:Ct}))),nl=T({executable:lt(),owner:Ct,lamports:x(),data:rl,rentEpoch:x()}),SB=T({pubkey:Ct,account:nl}),dv=br(Le([Pn(ae.Buffer),Xf]),Le([f0,Xf]),r=>Array.isArray(r)?_r(r,rl):r),pv=T({executable:lt(),owner:Ct,lamports:x(),data:dv,rentEpoch:x()}),xB=T({pubkey:Ct,account:pv}),IB=T({state:Le([oe("active"),oe("inactive"),oe("activating"),oe("deactivating")]),active:x(),inactive:x()}),BB=Fe(F(T({signature:M(),slot:x(),err:mi,memo:W(M()),blockTime:Y(W(x()))}))),AB=Fe(F(T({signature:M(),slot:x(),err:mi,memo:W(M()),blockTime:Y(W(x()))}))),EB=T({subscription:x(),result:hu(nl)}),yv=T({pubkey:Ct,account:nl}),_B=T({subscription:x(),result:hu(yv)}),gv=T({parent:x(),slot:x(),root:x()}),LB=T({subscription:x(),result:gv}),mv=Le([T({type:Le([oe("firstShredReceived"),oe("completed"),oe("optimisticConfirmation"),oe("root")]),slot:x(),timestamp:x()}),T({type:oe("createdBank"),parent:x(),slot:x(),timestamp:x()}),T({type:oe("frozen"),slot:x(),timestamp:x(),stats:T({numTransactionEntries:x(),numSuccessfulTransactions:x(),numFailedTransactions:x(),maxTransactionsPerEntry:x()})}),T({type:oe("dead"),slot:x(),timestamp:x(),err:M()})]),RB=T({subscription:x(),result:mv}),TB=T({subscription:x(),result:hu(Le([fv,lv]))}),PB=T({subscription:x(),result:x()}),CB=T({pubkey:M(),gossip:W(M()),tpu:W(M()),rpc:W(M()),version:W(M())}),Qp=T({votePubkey:M(),nodePubkey:M(),activatedStake:x(),epochVoteAccount:lt(),epochCredits:F(Cn([x(),x(),x()])),commission:x(),lastVote:x(),rootSlot:W(x())}),MB=Fe(T({current:F(Qp),delinquent:F(Qp)})),bv=Le([oe("processed"),oe("confirmed"),oe("finalized")]),wv=T({slot:x(),confirmations:W(x()),err:mi,confirmationStatus:Y(bv)}),OB=Lr(F(W(wv))),NB=Fe(x()),h0=T({accountKey:Ct,writableIndexes:F(x()),readonlyIndexes:F(x())}),il=T({signatures:F(M()),message:T({accountKeys:F(M()),header:T({numRequiredSignatures:x(),numReadonlySignedAccounts:x(),numReadonlyUnsignedAccounts:x()}),instructions:F(T({accounts:F(x()),data:M(),programIdIndex:x()})),recentBlockhash:M(),addressTableLookups:Y(F(h0))})}),d0=T({pubkey:Ct,signer:lt(),writable:lt(),source:Y(Le([oe("transaction"),oe("lookupTable")]))}),p0=T({accountKeys:F(d0),signatures:F(M())}),y0=T({parsed:mr(),program:M(),programId:Ct}),g0=T({accounts:F(Ct),data:M(),programId:Ct}),vv=Le([g0,y0]),kv=Le([T({parsed:mr(),program:M(),programId:M()}),T({accounts:F(M()),data:M(),programId:M()})]),m0=br(vv,kv,r=>"accounts"in r?_r(r,g0):_r(r,y0)),b0=T({signatures:F(M()),message:T({accountKeys:F(d0),instructions:F(m0),recentBlockhash:M(),addressTableLookups:Y(W(F(h0)))})}),fu=T({accountIndex:x(),mint:M(),owner:Y(M()),uiTokenAmount:hv}),w0=T({writable:F(Ct),readonly:F(Ct)}),du=T({err:mi,fee:x(),innerInstructions:Y(W(F(T({index:x(),instructions:F(T({accounts:F(x()),data:M(),programIdIndex:x()}))})))),preBalances:F(x()),postBalances:F(x()),logMessages:Y(W(F(M()))),preTokenBalances:Y(W(F(fu))),postTokenBalances:Y(W(F(fu))),loadedAddresses:Y(w0),computeUnitsConsumed:Y(x())}),sl=T({err:mi,fee:x(),innerInstructions:Y(W(F(T({index:x(),instructions:F(m0)})))),preBalances:F(x()),postBalances:F(x()),logMessages:Y(W(F(M()))),preTokenBalances:Y(W(F(fu))),postTokenBalances:Y(W(F(fu))),loadedAddresses:Y(w0),computeUnitsConsumed:Y(x())}),ds=Le([oe(0),oe("legacy")]),bi=T({pubkey:M(),lamports:x(),postBalance:W(x()),rewardType:W(M()),commission:Y(W(x()))}),UB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:il,meta:W(du),version:Y(ds)})),rewards:Y(F(bi)),blockTime:W(x()),blockHeight:W(x())}))),zB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),rewards:Y(F(bi)),blockTime:W(x()),blockHeight:W(x())}))),DB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:p0,meta:W(du),version:Y(ds)})),rewards:Y(F(bi)),blockTime:W(x()),blockHeight:W(x())}))),WB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:b0,meta:W(sl),version:Y(ds)})),rewards:Y(F(bi)),blockTime:W(x()),blockHeight:W(x())}))),KB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:p0,meta:W(sl),version:Y(ds)})),rewards:Y(F(bi)),blockTime:W(x()),blockHeight:W(x())}))),FB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),rewards:Y(F(bi)),blockTime:W(x()),blockHeight:W(x())}))),qB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:il,meta:W(du)})),rewards:Y(F(bi)),blockTime:W(x())}))),HB=Fe(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),signatures:F(M()),blockTime:W(x())}))),jB=Fe(W(T({slot:x(),meta:du,blockTime:Y(W(x())),transaction:il,version:Y(ds)}))),$B=Fe(W(T({slot:x(),transaction:b0,meta:W(sl),blockTime:Y(W(x())),version:Y(ds)}))),VB=Lr(T({blockhash:M(),feeCalculator:T({lamportsPerSignature:x()})})),GB=Lr(T({blockhash:M(),lastValidBlockHeight:x()})),Sv=T({slot:x(),numTransactions:x(),numSlots:x(),samplePeriodSecs:x()}),YB=Fe(F(Sv)),ZB=Lr(W(T({feeCalculator:T({lamportsPerSignature:x()})}))),XB=Fe(M()),JB=Fe(M()),xv=T({err:mi,logs:F(M()),signature:M()}),QB=T({result:hu(xv),subscription:x()}),eA={"solana-client":`js/${(Ff="0.0.0-development")!==null&&Ff!==void 0?Ff:"UNKNOWN"}`};var yi=class{constructor(e){this._keypair=void 0,this._keypair=e!=null?e:Gp()}static generate(){return new yi(Gp())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!t||!t.skipValidation){let i=e.slice(0,32),s=$f(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new yi({publicKey:n,secretKey:e})}static fromSeed(e){let t=$f(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new yi({publicKey:t,secretKey:n})}get publicKey(){return new le(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},wo=Object.freeze({CreateLookupTable:{index:0,layout:_.struct([_.u32("instruction"),cs("recentSlot"),_.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:_.struct([_.u32("instruction")])},ExtendLookupTable:{index:2,layout:_.struct([_.u32("instruction"),cs(),_.seq(ge(),_.offset(_.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:_.struct([_.u32("instruction")])},CloseLookupTable:{index:4,layout:_.struct([_.u32("instruction")])}});var Jf=class{constructor(){}static createLookupTable(e){let[t,n]=le.findProgramAddressSync([e.authority.toBuffer(),(0,Io.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=wo.CreateLookupTable,s=ve(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ht.programId,isSigner:!1,isWritable:!1}];return[new Ce({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){let t=wo.FreezeLookupTable,n=ve(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ce({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=wo.ExtendLookupTable,n=ve(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ht.programId,isSigner:!1,isWritable:!1}),new Ce({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=wo.DeactivateLookupTable,n=ve(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ce({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=wo.CloseLookupTable,n=ve(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ce({programId:this.programId,keys:i,data:n})}};Jf.programId=new le("AddressLookupTab1e1111111111111111111111111");var au=Object.freeze({RequestUnits:{index:0,layout:_.struct([_.u8("instruction"),_.u32("units"),_.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:_.struct([_.u8("instruction"),_.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:_.struct([_.u8("instruction"),_.u32("units")])},SetComputeUnitPrice:{index:3,layout:_.struct([_.u8("instruction"),cs("microLamports")])}}),Qf=class{constructor(){}static requestUnits(e){let t=au.RequestUnits,n=ve(t,e);return new Ce({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=au.RequestHeapFrame,n=ve(t,e);return new Ce({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=au.SetComputeUnitLimit,n=ve(t,e);return new Ce({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=au.SetComputeUnitPrice,n=ve(t,{microLamports:BigInt(e.microLamports)});return new Ce({keys:[],programId:this.programId,data:n})}};Qf.programId=new le("ComputeBudget111111111111111111111111111111");var e0=64,t0=32,r0=64,n0=_.struct([_.u8("numSignatures"),_.u8("padding"),_.u16("signatureOffset"),_.u16("signatureInstructionIndex"),_.u16("publicKeyOffset"),_.u16("publicKeyInstructionIndex"),_.u16("messageDataOffset"),_.u16("messageDataSize"),_.u16("messageInstructionIndex")]),So=class{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:i,instructionIndex:s}=e;Ke(t.length===t0,`Public Key must be ${t0} bytes but received ${t.length} bytes`),Ke(i.length===r0,`Signature must be ${r0} bytes but received ${i.length} bytes`);let o=n0.span,a=o+t.length,u=a+i.length,f=1,y=ae.Buffer.alloc(u+n.length),p=s==null?65535:s;return n0.encode({numSignatures:f,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:o,publicKeyInstructionIndex:p,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:p},y),y.fill(t,o),y.fill(i,a),y.fill(n,u),new Ce({keys:[],programId:So.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:i}=e;Ke(t.length===e0,`Private key must be ${e0} bytes but received ${t.length} bytes`);try{let s=yi.fromSecretKey(t),o=s.publicKey.toBytes(),a=el(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};So.programId=new le("Ed25519SigVerify111111111111111111111111111");qr.hmacSha256Sync=(r,...e)=>{let t=Mf.create(ga,r);return e.forEach(n=>t.update(n)),t.digest()};var Iv=(r,e)=>Vp(r,e,{der:!1,recovered:!0});qr.isValidPrivateKey;var Bv=Hp,i0=32,qf=20,s0=64,Av=11,Hf=_.struct([_.u8("numSignatures"),_.u16("signatureOffset"),_.u8("signatureInstructionIndex"),_.u16("ethAddressOffset"),_.u8("ethAddressInstructionIndex"),_.u16("messageDataOffset"),_.u16("messageDataSize"),_.u8("messageInstructionIndex"),_.blob(20,"ethAddress"),_.blob(64,"signature"),_.u8("recoveryId")]),gi=class{constructor(){}static publicKeyToEthAddress(e){Ke(e.length===s0,`Public key must be ${s0} bytes but received ${e.length} bytes`);try{return ae.Buffer.from(Cf(Be(e))).slice(-qf)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return gi.createInstructionWithEthAddress({ethAddress:gi.publicKeyToEthAddress(t),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e,a;typeof t=="string"?t.startsWith("0x")?a=ae.Buffer.from(t.substr(2),"hex"):a=ae.Buffer.from(t,"hex"):a=t,Ke(a.length===qf,`Address must be ${qf} bytes but received ${a.length} bytes`);let u=1+Av,f=u,y=u+a.length,p=y+i.length+1,I=1,k=ae.Buffer.alloc(Hf.span+n.length);return Hf.encode({numSignatures:I,signatureOffset:y,signatureInstructionIndex:o,ethAddressOffset:f,ethAddressInstructionIndex:o,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:o,signature:Be(i),ethAddress:Be(a),recoveryId:s},k),k.fill(Be(n),Hf.span),new Ce({keys:[],programId:gi.programId,data:k})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:i}=e;Ke(t.length===i0,`Private key must be ${i0} bytes but received ${t.length} bytes`);try{let s=Be(t),o=Bv(s,!1).slice(1),a=ae.Buffer.from(Cf(Be(n))),[u,f]=Iv(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};gi.programId=new le("KeccakSecp256k11111111111111111111111111111");var Ev=new le("StakeConfig11111111111111111111111111111111");var xo=class{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}};xo.default=new xo(0,0,le.default);var Kn=Object.freeze({Initialize:{index:0,layout:_.struct([_.u32("instruction"),H1(),j1()])},Authorize:{index:1,layout:_.struct([_.u32("instruction"),ge("newAuthorized"),_.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:_.struct([_.u32("instruction")])},Split:{index:3,layout:_.struct([_.u32("instruction"),_.ns64("lamports")])},Withdraw:{index:4,layout:_.struct([_.u32("instruction"),_.ns64("lamports")])},Deactivate:{index:5,layout:_.struct([_.u32("instruction")])},Merge:{index:7,layout:_.struct([_.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:_.struct([_.u32("instruction"),ge("newAuthorized"),_.u32("stakeAuthorizationType"),ss("authoritySeed"),ge("authorityOwner")])}}),tA=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),lu=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:n,lockup:i}=e,s=i||xo.default,o=Kn.Initialize,a=ve(o,{authorized:{staker:Be(n.staker.toBuffer()),withdrawer:Be(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Be(s.custodian.toBuffer())}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ko,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ce(u)}static createAccountWithSeed(e){let t=new Oe;t.add(Ht.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){let t=new Oe;t.add(Ht.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:n,votePubkey:i}=e,s=Kn.Delegate,o=ve(s);return new Oe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:Ev,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){let{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Kn.Authorize,u=ve(a,{newAuthorized:Be(i.toBuffer()),stakeAuthorizationType:s.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!1,isWritable:!1}),new Oe().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:u}=e,f=Kn.AuthorizeWithSeed,y=ve(f,{newAuthorized:Be(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Be(s.toBuffer())}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:rn,isSigner:!1,isWritable:!1}];return u&&p.push({pubkey:u,isSigner:!1,isWritable:!1}),new Oe().add({keys:p,programId:this.programId,data:y})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=Kn.Split,a=ve(o,{lamports:s});return new Ce({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let t=new Oe;return t.add(Ht.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,u=new Oe;return u.add(Ht.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),u.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Kn.Merge,o=ve(s);return new Oe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Kn.Withdraw,u=ve(a,{lamports:s}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!1,isWritable:!1}),new Oe().add({keys:f,programId:this.programId,data:u})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:n}=e,i=Kn.Deactivate,s=ve(i);return new Oe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};lu.programId=new le("Stake11111111111111111111111111111111111111");lu.space=200;var uu=Object.freeze({InitializeAccount:{index:0,layout:_.struct([_.u32("instruction"),$1()])},Authorize:{index:1,layout:_.struct([_.u32("instruction"),ge("newAuthorized"),_.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:_.struct([_.u32("instruction"),_.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:_.struct([_.u32("instruction"),V1()])}}),rA=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ls=class{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:n,voteInit:i}=e,s=uu.InitializeAccount,o=ve(s,{voteInit:{nodePubkey:Be(i.nodePubkey.toBuffer()),authorizedVoter:Be(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Be(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ko,isSigner:!1,isWritable:!1},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ce(a)}static createAccount(e){let t=new Oe;return t.add(Ht.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=uu.Authorize,a=ve(o,{newAuthorized:Be(i.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Oe().add({keys:u,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,u=uu.AuthorizeWithSeed,f=ve(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Be(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Be(s.toBuffer()),voteAuthorizationType:o.index}}),y=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Oe().add({keys:y,programId:this.programId,data:f})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=uu.Withdraw,a=ve(o,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Oe().add({keys:u,programId:this.programId,data:a})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return ls.withdraw(e)}};ls.programId=new le("Vote111111111111111111111111111111111111111");ls.space=3731;var nA=new le("Va1idator1nfo111111111111111111111111111111"),iA=T({name:M(),website:Y(M()),details:Y(M()),keybaseUsername:Y(M())});var sA=new le("Vote111111111111111111111111111111111111111"),oA=_.struct([ge("nodePubkey"),ge("authorizedWithdrawer"),_.u8("commission"),_.nu64(),_.seq(_.struct([_.nu64("slot"),_.u32("confirmationCount")]),_.offset(_.u32(),-8),"votes"),_.u8("rootSlotValid"),_.nu64("rootSlot"),_.nu64(),_.seq(_.struct([_.nu64("epoch"),ge("authorizedVoter")]),_.offset(_.u32(),-8),"authorizedVoters"),_.struct([_.seq(_.struct([ge("authorizedPubkey"),_.nu64("epochOfLastAuthorizedSwitch"),_.nu64("targetEpoch")]),32,"buf"),_.nu64("idx"),_.u8("isEmpty")],"priorVoters"),_.nu64(),_.seq(_.struct([_.nu64("epoch"),_.nu64("credits"),_.nu64("prevCredits")]),_.offset(_.u32(),-8),"epochCredits"),_.struct([_.nu64("slot"),_.nu64("timestamp")],"lastTimestamp")]);var A0=ze(nf(),1);var v0="solana:mainnet",k0="solana:devnet",S0="solana:testnet",Bo=[v0,k0,S0];function pu(r){return Bo.includes(r)}function yu(r){switch(r){case v0:return"mainnet";case k0:return"devnet";case S0:return"testnet";default:return"mainnet"}}var ps=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},ys=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},gu,mu,bu,wu,vu,ku,_v=Bo,Lv=["solana:signAndSendTransaction","solana:signMessage","solana:signTransaction"],gs=class{constructor({address:e,publicKey:t,label:n,icon:i}){gu.set(this,void 0),mu.set(this,void 0),bu.set(this,void 0),wu.set(this,void 0),vu.set(this,void 0),ku.set(this,void 0),new.target===gs&&Object.freeze(this),ps(this,gu,e,"f"),ps(this,mu,t,"f"),ps(this,bu,_v,"f"),ps(this,wu,Lv,"f"),ps(this,vu,n,"f"),ps(this,ku,i,"f")}get address(){return ys(this,gu,"f")}get publicKey(){return ys(this,mu,"f").slice()}get chains(){return ys(this,bu,"f").slice()}get features(){return ys(this,wu,"f").slice()}get label(){return ys(this,vu,"f")}get icon(){return ys(this,ku,"f")}};gu=new WeakMap,mu=new WeakMap,bu=new WeakMap,wu=new WeakMap,vu=new WeakMap,ku=new WeakMap;var x0="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9Ijg4IiBoZWlnaHQ9Ijg4IiByeD0iMzAiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl84NTVfNTgwKSIvPgo8cGF0aCBkPSJNNTkuODA1NSAyNy42M0M1Ni43OTU1IDI1LjgyMzkgNTMuNjIyMiAyNC41Mzg4IDUwLjM1OTcgMjMuODE0NEw0Ni45MDQyIDE2LjEyODdDNDYuNDkzMyAxNC44NTg1IDQ1LjMwMDIgMTQuMDAwMSA0My45NTM3IDE0LjAwMDFINDMuODE1QzQyLjQ2ODUgMTQuMDAwMSA0MS4yNzU0IDE0Ljg2MzUgNDAuODY0NSAxNi4xMjg3TDM3LjQwOSAyMy44MDk1QzM0LjE0MTYgMjQuNTM4OCAzMC45NTgzIDI1LjgyODkgMjcuOTQzNCAyNy42MzQ5QzIxLjk1MzIgMzkuMjYwMyAyMC4zMjk0IDUwLjU5MjggMjEuMTQxMyA2MS43NjY2QzI0LjY1MTMgNjUuMTY1NCAzMi40MzM2IDY5LjM2OCAzNi42MDcgNzEuMDMwMkMzOS4wNTI2IDcyLjAwMjcgMzkuODAwMSA3Mi40OTM5IDQyLjI1MDYgNzIuOTAwN0M0NC40Mjg5IDczLjUxNiA0NS4wODczIDczLjI3NzggNDYuNzU1NyA3My4xMDQyQzQ5LjMyNTEgNzIuNDE5NSA1MC4zOTQ0IDcxLjcyNDggNTEuNDM0IDcxLjE2NDFDNTUuODQ5OSA2OC44NzY4IDYzLjExNzQgNjUuMTcwNCA2Ni42Mjc0IDYxLjc3MTZDNjcuNTc3OSA0OC44MTE2IDY0Ljk5ODYgMzcuNTgzMiA1OS44MDU1IDI3LjYyNVYyNy42M1pNMzcuNTI3OCA1MS4xNDg1QzM1LjY0MTYgNTEuMTQ4NSAzNC4wODIyIDQ4LjkwMDkgMzQuMDgyMiA0Ni4xMzIyQzM0LjA4MjIgNDMuMzYzNiAzNS41ODcxIDQxLjA5NjEgMzcuNTE3OSA0MS4wOTYxQzM5LjQ0ODYgNDEuMDk2MSA0MC45OTgxIDQzLjM2MzYgNDAuOTYzNSA0Ni4xMzIyQzQwLjkyODggNDguOTAwOSAzOS40NDM3IDUxLjE0ODUgMzcuNTIyOCA1MS4xNDg1SDM3LjUyNzhaTTUwLjIzMSA1MS4xNDg1QzQ4LjMzOTkgNTEuMTQ4NSA0Ni43OTAzIDQ4LjkwMDkgNDYuNzkwMyA0Ni4xMzIyQzQ2Ljc5MDMgNDMuMzYzNiA0OC4yOTUzIDQxLjA5NjEgNTAuMjMxIDQxLjA5NjFDNTIuMTY2NyA0MS4wOTYxIDUzLjcwMTQgNDMuMzYzNiA1My42NjY3IDQ2LjEzMjJDNTMuNjMyMSA0OC45MDA5IDUyLjE1MTggNTEuMTQ4NSA1MC4yMzEgNTEuMTQ4NVoiIGZpbGw9IiNGQ0ZDRkMiLz4KPHBhdGggZD0iTTc1LjQwNTEgNTYuMTIwM0w3MC45NzkzIDQyLjE3MjlDNzAuNDM0NyA0MC40NjYxIDY4Ljg1NTUgMzkuMzA1MSA2Ny4wNjMzIDM5LjMwNTFDNjYuNTI4NyAzOS4zMDUxIDY2LjAwODkgMzkuNDA5MiA2NS41Mjg3IDM5LjYwMjhDNjcuNTQ4NSA0Ni4zMjU5IDY4LjM2MDQgNTMuNTc5OSA2Ny43MjY3IDYxLjQ4NEg3MS40ODQyQzc0LjI2NjUgNjEuNDg0IDc2LjI0MTcgNTguNzc0OSA3NS40MDAxIDU2LjEyMDNINzUuNDA1MVoiIGZpbGw9IiNGQ0ZDRkMiLz4KPHBhdGggZD0iTTEyLjE5MDggNTYuMzgzNUwxNi42MTY2IDQyLjQzNjFDMTcuMTYxMiA0MC43MjkyIDE4Ljc0MDUgMzkuNTY4MiAyMC41MzI2IDM5LjU2ODJDMjEuMDY3MiAzOS41NjgyIDIxLjU4NyAzOS42NzI0IDIyLjA2NzMgMzkuODY1OUMyMC4wNDc0IDQ2LjU4OSAxOS4yMzU1IDUzLjg0MzEgMTkuODY5MiA2MS43NDcxSDE2LjExMTdDMTMuMzI5NSA2MS43NDcxIDExLjM1NDIgNTkuMDM4IDEyLjE5NTggNTYuMzgzNUgxMi4xOTA4WiIgZmlsbD0iI0ZDRkNGQyIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzg1NV81ODAiIHgxPSI0NCIgeTE9IjAiIHgyPSI0NCIgeTI9Ijg4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRjgxNzAiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY1QzQ1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+";function I0(r,e){return Rv(r,e)}function Rv(r,e){if(r===e)return!0;let t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}var ol=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},se=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Ao,wi,al,ul,cl,Qt,hr,fl,ll,B0,ms,Eo,hl,dl,pl,Su,yl,xu,bs=class{constructor(e){Ao.add(this),wi.set(this,{}),al.set(this,"1.0.0"),ul.set(this,"Salmon"),cl.set(this,x0),Qt.set(this,null),hr.set(this,void 0),fl.set(this,(t,n)=>{var i;return(i=se(this,wi,"f")[t])!=null&&i.push(n)||(se(this,wi,"f")[t]=[n]),()=>se(this,Ao,"m",B0).call(this,t,n)}),ms.set(this,()=>{var n;let t=(n=se(this,hr,"f").publicKey)==null?void 0:n.toBase58();if(t){let i=se(this,hr,"f").publicKey.toBytes(),s=se(this,Qt,"f");(!s||s.address!==t||!I0(s.publicKey,i))&&(ol(this,Qt,new gs({address:t,publicKey:i}),"f"),se(this,Ao,"m",ll).call(this,"change",{accounts:this.accounts}))}}),Eo.set(this,()=>{se(this,Qt,"f")&&(ol(this,Qt,null,"f"),se(this,Ao,"m",ll).call(this,"change",{accounts:this.accounts}))}),hl.set(this,()=>{se(this,hr,"f").publicKey?se(this,ms,"f").call(this):se(this,Eo,"f").call(this)}),dl.set(this,async({silent:t}={})=>(se(this,Qt,"f")||await se(this,hr,"f").connect(t?{onlyIfTrusted:!0}:void 0),se(this,ms,"f").call(this),{accounts:this.accounts})),pl.set(this,async()=>{await se(this,hr,"f").disconnect(),se(this,Eo,"f").call(this)}),Su.set(this,async(...t)=>{if(!se(this,Qt,"f"))throw new Error("not connected");let n=[];if(t.length===1){let{transaction:i,account:s,chain:o,options:a}=t[0],{minContextSlot:u,preflightCommitment:f,skipPreflight:y,maxRetries:p}=a||{};if(s!==se(this,Qt,"f"))throw new Error("invalid account");if(!pu(o))throw new Error("invalid chain");let I=o?yu(o):void 0,{signature:k}=await se(this,hr,"f").signAndSendTransaction(qn.deserialize(i),I,{preflightCommitment:f,minContextSlot:u,maxRetries:p,skipPreflight:y});n.push({signature:A0.default.decode(k)})}else if(t.length>1)for(let i of t)n.push(...await se(this,Su,"f").call(this,i));return n}),yl.set(this,async(...t)=>{if(!se(this,Qt,"f"))throw new Error("not connected");let n=[];if(t.length===1){let{transaction:i,account:s,chain:o}=t[0];if(s!==se(this,Qt,"f"))throw new Error("invalid account");if(o&&!pu(o))throw new Error("invalid chain");let a=o?yu(o):void 0,u=await se(this,hr,"f").signTransaction(qn.deserialize(i),a);n.push({signedTransaction:u.serialize()})}else if(t.length>1){let i;for(let u of t){if(u.account!==se(this,Qt,"f"))throw new Error("invalid account");if(u.chain){if(!pu(u.chain))throw new Error("invalid chain");if(i){if(u.chain!==i)throw new Error("conflicting chain")}else i=u.chain}}let s=i?yu(i):void 0,o=t.map(({transaction:u})=>qn.deserialize(u)),a=await se(this,hr,"f").signAllTransactions(o,s);n.push(...a.map(u=>({signedTransaction:u.serialize()})))}return n}),xu.set(this,async(...t)=>{if(!se(this,Qt,"f"))throw new Error("not connected");let n=[];if(t.length===1){let{message:i,account:s}=t[0];if(s!==se(this,Qt,"f"))throw new Error("invalid account");let{signature:o}=await se(this,hr,"f").signMessage(i);n.push({signedMessage:i,signature:o})}else if(t.length>1)for(let i of t)n.push(...await se(this,xu,"f").call(this,i));return n}),new.target===bs&&Object.freeze(this),ol(this,hr,e,"f"),e.on("connect",se(this,ms,"f"),this),e.on("disconnect",se(this,Eo,"f"),this),e.on("accountChanged",se(this,hl,"f"),this),se(this,ms,"f").call(this)}get version(){return se(this,al,"f")}get name(){return se(this,ul,"f")}get icon(){return se(this,cl,"f")}get chains(){return Bo.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:se(this,dl,"f")},"standard:disconnect":{version:"1.0.0",disconnect:se(this,pl,"f")},"standard:events":{version:"1.0.0",on:se(this,fl,"f")},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:se(this,Su,"f")},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:se(this,yl,"f")},"solana:signMessage":{version:"1.0.0",signMessage:se(this,xu,"f")},"salmon:":{salmon:se(this,hr,"f")}}}get accounts(){return se(this,Qt,"f")?[se(this,Qt,"f")]:[]}};wi=new WeakMap,al=new WeakMap,ul=new WeakMap,cl=new WeakMap,Qt=new WeakMap,hr=new WeakMap,fl=new WeakMap,ms=new WeakMap,Eo=new WeakMap,hl=new WeakMap,dl=new WeakMap,pl=new WeakMap,Su=new WeakMap,yl=new WeakMap,xu=new WeakMap,Ao=new WeakSet,ll=function(e,...t){var n;(n=se(this,wi,"f")[e])==null||n.forEach(i=>i.apply(null,t))},B0=function(e,t){var n;se(this,wi,"f")[e]=(n=se(this,wi,"f")[e])==null?void 0:n.filter(i=>t!==i)};function E0(r){Th(new bs(r))}var lg=ze(Qi()),Ho=ze(T0());function ut(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Rr(r){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(r)}function gl(r,e){if(Rr(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Rr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _o(r){var e=gl(r,"string");return Rr(e)==="symbol"?e:String(e)}function P0(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,_o(n.key),n)}}function ct(r,e,t){return e&&P0(r.prototype,e),t&&P0(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}var ue=ze(la());function Lo(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Ro(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function C0(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lo(r.outputLen),Lo(r.blockLen)}function nn(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Iu(r,e){Ro(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var Bu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var M0=r=>r instanceof Uint8Array;var O0=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Au=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Tr=(r,e)=>r<<32-e|r>>>e,Mv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Mv)throw new Error("Non little-endian hardware is not supported");function ml(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function jn(r){if(typeof r=="string"&&(r=ml(r)),!M0(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Eu(...r){let e=new Uint8Array(r.reduce((n,i)=>n+i.length,0)),t=0;return r.forEach(n=>{if(!M0(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}var Hn=class{clone(){return this._cloneInto()}},UA={}.toString;function ws(r){let e=n=>r().update(jn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function N0(r){let e=(n,i)=>r(i).update(jn(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function _u(r=32){if(Bu&&typeof Bu.getRandomValues=="function")return Bu.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}function Ov(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),u=n?4:0,f=n?0:4;r.setUint32(e+u,o,n),r.setUint32(e+f,a,n)}var vs=class extends Hn{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Au(this.buffer)}update(e){nn(this);let{view:t,buffer:n,blockLen:i}=this;e=jn(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=Au(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nn(this),Iu(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let p=o;p<i;p++)t[p]=0;Ov(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=Au(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=u/4,y=this.get();if(f>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(n),e}};var Lu=BigInt(4294967295),bl=BigInt(32);function U0(r,e=!1){return e?{h:Number(r&Lu),l:Number(r>>bl&Lu)}:{h:Number(r>>bl&Lu)|0,l:Number(r&Lu)|0}}function wl(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:s,l:o}=U0(r[i],e);[t[i],n[i]]=[s,o]}return[t,n]}var Nv=(r,e)=>BigInt(r>>>0)<<bl|BigInt(e>>>0),Uv=(r,e,t)=>r>>>t,zv=(r,e,t)=>r<<32-t|e>>>t,Dv=(r,e,t)=>r>>>t|e<<32-t,Wv=(r,e,t)=>r<<32-t|e>>>t,Kv=(r,e,t)=>r<<64-t|e>>>t-32,Fv=(r,e,t)=>r>>>t-32|e<<64-t,qv=(r,e)=>e,Hv=(r,e)=>r,vl=(r,e,t)=>r<<t|e>>>32-t,kl=(r,e,t)=>e<<t|r>>>32-t,Sl=(r,e,t)=>e<<t-32|r>>>64-t,xl=(r,e,t)=>r<<t-32|e>>>64-t;function jv(r,e,t,n){let i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}var $v=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),Vv=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,Gv=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),Yv=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,Zv=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),Xv=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0;var Jv={fromBig:U0,split:wl,toBig:Nv,shrSH:Uv,shrSL:zv,rotrSH:Dv,rotrSL:Wv,rotrBH:Kv,rotrBL:Fv,rotr32H:qv,rotr32L:Hv,rotlSH:vl,rotlSL:kl,rotlBH:Sl,rotlBL:xl,add:jv,add3L:$v,add3H:Vv,add4L:Gv,add4H:Yv,add5H:Xv,add5L:Zv},de=Jv;var[Qv,ek]=(()=>de.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),$n=new Uint32Array(80),Vn=new Uint32Array(80),Il=class extends vs{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:f,El:y,Fh:p,Fl:I,Gh:k,Gl:E,Hh:A,Hl:L}=this;return[e,t,n,i,s,o,a,u,f,y,p,I,k,E,A,L]}set(e,t,n,i,s,o,a,u,f,y,p,I,k,E,A,L){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=f|0,this.El=y|0,this.Fh=p|0,this.Fl=I|0,this.Gh=k|0,this.Gl=E|0,this.Hh=A|0,this.Hl=L|0}process(e,t){for(let C=0;C<16;C++,t+=4)$n[C]=e.getUint32(t),Vn[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){let K=$n[C-15]|0,z=Vn[C-15]|0,D=de.rotrSH(K,z,1)^de.rotrSH(K,z,8)^de.shrSH(K,z,7),U=de.rotrSL(K,z,1)^de.rotrSL(K,z,8)^de.shrSL(K,z,7),j=$n[C-2]|0,ee=Vn[C-2]|0,re=de.rotrSH(j,ee,19)^de.rotrBH(j,ee,61)^de.shrSH(j,ee,6),Q=de.rotrSL(j,ee,19)^de.rotrBL(j,ee,61)^de.shrSL(j,ee,6),V=de.add4L(U,Q,Vn[C-7],Vn[C-16]),v=de.add4H(V,D,re,$n[C-7],$n[C-16]);$n[C]=v|0,Vn[C]=V|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:f,Dl:y,Eh:p,El:I,Fh:k,Fl:E,Gh:A,Gl:L,Hh:P,Hl:O}=this;for(let C=0;C<80;C++){let K=de.rotrSH(p,I,14)^de.rotrSH(p,I,18)^de.rotrBH(p,I,41),z=de.rotrSL(p,I,14)^de.rotrSL(p,I,18)^de.rotrBL(p,I,41),D=p&k^~p&A,U=I&E^~I&L,j=de.add5L(O,z,U,ek[C],Vn[C]),ee=de.add5H(j,P,K,D,Qv[C],$n[C]),re=j|0,Q=de.rotrSH(n,i,28)^de.rotrBH(n,i,34)^de.rotrBH(n,i,39),V=de.rotrSL(n,i,28)^de.rotrBL(n,i,34)^de.rotrBL(n,i,39),v=n&s^n&a^s&a,c=i&o^i&u^o&u;P=A|0,O=L|0,A=k|0,L=E|0,k=p|0,E=I|0,{h:p,l:I}=de.add(f|0,y|0,ee|0,re|0),f=a|0,y=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let l=de.add3L(re,V,c);n=de.add3H(l,ee,Q,v),i=l|0}({h:n,l:i}=de.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=de.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=de.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:f,l:y}=de.add(this.Dh|0,this.Dl|0,f|0,y|0),{h:p,l:I}=de.add(this.Eh|0,this.El|0,p|0,I|0),{h:k,l:E}=de.add(this.Fh|0,this.Fl|0,k|0,E|0),{h:A,l:L}=de.add(this.Gh|0,this.Gl|0,A|0,L|0),{h:P,l:O}=de.add(this.Hh|0,this.Hl|0,P|0,O|0),this.set(n,i,s,o,a,u,f,y,p,I,k,E,A,L,P,O)}roundClean(){$n.fill(0),Vn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Bl=ws(()=>new Il);var Pu={};Eh(Pu,{bitGet:()=>ak,bitLen:()=>ok,bitMask:()=>To,bitSet:()=>uk,bytesToHex:()=>sn,bytesToNumberBE:()=>on,bytesToNumberLE:()=>Gn,concatBytes:()=>an,createHmacDrbg:()=>_l,ensureBytes:()=>ft,equalBytes:()=>ik,hexToBytes:()=>vi,hexToNumber:()=>El,numberToBytesBE:()=>Yn,numberToBytesLE:()=>ki,numberToHexUnpadded:()=>W0,numberToVarBytesBE:()=>nk,utf8ToBytes:()=>sk,validateObject:()=>$r});var D0=BigInt(0),Ru=BigInt(1),tk=BigInt(2),Tu=r=>r instanceof Uint8Array,rk=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function sn(r){if(!Tu(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=rk[r[t]];return e}function W0(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function El(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function vi(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let i=n*2,s=r.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function on(r){return El(sn(r))}function Gn(r){if(!Tu(r))throw new Error("Uint8Array expected");return El(sn(Uint8Array.from(r).reverse()))}function Yn(r,e){return vi(r.toString(16).padStart(e*2,"0"))}function ki(r,e){return Yn(r,e).reverse()}function nk(r){return vi(W0(r))}function ft(r,e,t){let n;if(typeof e=="string")try{n=vi(e)}catch(s){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Tu(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let i=n.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return n}function an(...r){let e=new Uint8Array(r.reduce((n,i)=>n+i.length,0)),t=0;return r.forEach(n=>{if(!Tu(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function ik(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function sk(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function ok(r){let e;for(e=0;r>D0;r>>=Ru,e+=1);return e}function ak(r,e){return r>>BigInt(e)&Ru}var uk=(r,e,t)=>r|(t?Ru:D0)<<BigInt(e),To=r=>(tk<<BigInt(r-1))-Ru,Al=r=>new Uint8Array(r),z0=r=>Uint8Array.from(r);function _l(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Al(r),i=Al(r),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...p)=>t(i,n,...p),u=(p=Al())=>{i=a(z0([0]),p),n=a(),p.length!==0&&(i=a(z0([1]),p),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,I=[];for(;p<e;){n=a();let k=n.slice();I.push(k),p+=n.length}return an(...I)};return(p,I)=>{o(),u(p);let k;for(;!(k=I(f()));)u();return o(),k}}var ck={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function $r(r,e,t={}){let n=(i,s,o)=>{let a=ck[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=r[i];if(!(o&&u===void 0)&&!a(u,r))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(t))n(i,s,!0);return r}var Mt=BigInt(0),Ve=BigInt(1),Si=BigInt(2),fk=BigInt(3),Ll=BigInt(4),K0=BigInt(5),F0=BigInt(8),lk=BigInt(9),hk=BigInt(16);function Pe(r,e){let t=r%e;return t>=Mt?t:e+t}function dk(r,e,t){if(t<=Mt||e<Mt)throw new Error("Expected power/modulo > 0");if(t===Ve)return Mt;let n=Ve;for(;e>Mt;)e&Ve&&(n=n*r%t),r=r*r%t,e>>=Ve;return n}function Ge(r,e,t){let n=r;for(;e-- >Mt;)n*=n,n%=t;return n}function Cu(r,e){if(r===Mt||e<=Mt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Pe(r,e),n=e,i=Mt,s=Ve,o=Ve,a=Mt;for(;t!==Mt;){let f=n/t,y=n%t,p=i-o*f,I=s-a*f;n=t,t=y,i=o,s=a,o=p,a=I}if(n!==Ve)throw new Error("invert: does not exist");return Pe(i,e)}function pk(r){let e=(r-Ve)/Si,t,n,i;for(t=r-Ve,n=0;t%Si===Mt;t/=Si,n++);for(i=Si;i<r&&dk(i,e,r)!==r-Ve;i++);if(n===1){let o=(r+Ve)/Ll;return function(u,f){let y=u.pow(f,o);if(!u.eql(u.sqr(y),f))throw new Error("Cannot find square root");return y}}let s=(t+Ve)/Si;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,y=a.pow(a.mul(a.ONE,i),t),p=a.pow(u,s),I=a.pow(u,t);for(;!a.eql(I,a.ONE);){if(a.eql(I,a.ZERO))return a.ZERO;let k=1;for(let A=a.sqr(I);k<f&&!a.eql(A,a.ONE);k++)A=a.sqr(A);let E=a.pow(y,Ve<<BigInt(f-k-1));y=a.sqr(E),p=a.mul(p,E),I=a.mul(I,y),f=k}return p}}function yk(r){if(r%Ll===fk){let e=(r+Ve)/Ll;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(r%F0===K0){let e=(r-K0)/F0;return function(n,i){let s=n.mul(i,Si),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,Si),o),f=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return r%hk,pk(r)}var q0=(r,e)=>(Pe(r,e)&Ve)===Ve,gk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rl(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=gk.reduce((n,i)=>(n[i]="function",n),e);return $r(r,t)}function mk(r,e,t){if(t<Mt)throw new Error("Expected power > 0");if(t===Mt)return r.ONE;if(t===Ve)return e;let n=r.ONE,i=e;for(;t>Mt;)t&Ve&&(n=r.mul(n,i)),i=r.sqr(i),t>>=Ve;return n}function bk(r,e){let t=new Array(e.length),n=e.reduce((s,o,a)=>r.is0(o)?s:(t[a]=s,r.mul(s,o)),r.ONE),i=r.inv(n);return e.reduceRight((s,o,a)=>r.is0(o)?s:(t[a]=r.mul(s,t[a]),r.mul(s,o)),i),t}function Tl(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Mu(r,e,t=!1,n={}){if(r<=Mt)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:i,nByteLength:s}=Tl(r,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=yk(r),a=Object.freeze({ORDER:r,BITS:i,BYTES:s,MASK:To(i),ZERO:Mt,ONE:Ve,create:u=>Pe(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Mt<=u&&u<r},is0:u=>u===Mt,isOdd:u=>(u&Ve)===Ve,neg:u=>Pe(-u,r),eql:(u,f)=>u===f,sqr:u=>Pe(u*u,r),add:(u,f)=>Pe(u+f,r),sub:(u,f)=>Pe(u-f,r),mul:(u,f)=>Pe(u*f,r),pow:(u,f)=>mk(a,u,f),div:(u,f)=>Pe(u*Cu(f,r),r),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>Cu(u,r),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>bk(a,u),cmov:(u,f,y)=>y?f:u,toBytes:u=>t?ki(u,s):Yn(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return t?Gn(u):on(u)}});return Object.freeze(a)}function H0(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?r.neg(t):t}function j0(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}function Pl(r){let e=j0(r);return e+Math.ceil(e/2)}function $0(r,e,t=!1){let n=r.length,i=j0(e),s=Pl(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let o=t?on(r):Gn(r),a=Pe(o,e-Ve)+Ve;return t?ki(a,i):Yn(a,i)}var vk=BigInt(0),Cl=BigInt(1);function Ou(r,e){let t=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=r.ZERO,a=i;for(;s>vk;)s&Cl&&(o=o.add(a)),a=a.double(),s>>=Cl;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],f=i,y=f;for(let p=0;p<o;p++){y=f,u.push(y);for(let I=1;I<a;I++)y=y.add(f),u.push(y);f=y.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),f=r.ZERO,y=r.BASE,p=BigInt(2**i-1),I=2**i,k=BigInt(i);for(let E=0;E<a;E++){let A=E*u,L=Number(o&p);o>>=k,L>u&&(L-=I,o+=Cl);let P=A,O=A+Math.abs(L)-1,C=E%2!==0,K=L<0;L===0?y=y.add(t(C,s[P])):f=f.add(t(K,s[O]))}return{p:f,f:y}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,f=s.get(i);return f||(f=this.precomputeWindow(i,u),u!==1&&s.set(i,a(f))),this.wNAF(u,f,o)}}}function Po(r){return Rl(r.Fp),$r(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(Kt(Ue(Ue({},Tl(r.n,r.nBitLength)),r),{p:r.Fp.ORDER}))}var Pr=BigInt(0),dr=BigInt(1),Nu=BigInt(2),kk=BigInt(8),Sk={zip215:!0};function xk(r){let e=Po(r);return $r(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(Ue({},e))}function Uu(r){let e=xk(r),{Fp:t,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,f=Nu<<BigInt(a*8)-dr,y=t.create,p=e.uvRatio||((m,w)=>{try{return{isValid:!0,value:t.sqrt(m*t.inv(w))}}catch(B){return{isValid:!1,value:Pr}}}),I=e.adjustScalarBytes||(m=>m),k=e.domain||((m,w,B)=>{if(w.length||B)throw new Error("Contexts/pre-hash are not supported");return m}),E=m=>typeof m=="bigint"&&Pr<m,A=(m,w)=>E(m)&&E(w)&&m<w,L=m=>m===Pr||A(m,f);function P(m,w){if(A(m,w))return m;throw new Error(`Expected valid scalar < ${w}, got ${typeof m} ${m}`)}function O(m){return m===Pr?m:P(m,n)}let C=new Map;function K(m){if(!(m instanceof z))throw new Error("ExtendedPoint expected")}class z{constructor(w,B,b,h){if(this.ex=w,this.ey=B,this.ez=b,this.et=h,!L(w))throw new Error("x required");if(!L(B))throw new Error("y required");if(!L(b))throw new Error("z required");if(!L(h))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof z)throw new Error("extended point not allowed");let{x:B,y:b}=w||{};if(!L(B)||!L(b))throw new Error("invalid affine point");return new z(B,b,dr,y(B*b))}static normalizeZ(w){let B=t.invertBatch(w.map(b=>b.ez));return w.map((b,h)=>b.toAffine(B[h])).map(z.fromAffine)}_setWindowSize(w){this._WINDOW_SIZE=w,C.delete(this)}assertValidity(){let{a:w,d:B}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:b,ey:h,ez:S,et:$}=this,X=y(b*b),Z=y(h*h),J=y(S*S),ne=y(J*J),ie=y(X*w),Me=y(J*y(ie+Z)),he=y(ne+y(B*y(X*Z)));if(Me!==he)throw new Error("bad point: equation left != right (1)");let ye=y(b*h),He=y(S*$);if(ye!==He)throw new Error("bad point: equation left != right (2)")}equals(w){K(w);let{ex:B,ey:b,ez:h}=this,{ex:S,ey:$,ez:X}=w,Z=y(B*X),J=y(S*h),ne=y(b*X),ie=y($*h);return Z===J&&ne===ie}is0(){return this.equals(z.ZERO)}negate(){return new z(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){let{a:w}=e,{ex:B,ey:b,ez:h}=this,S=y(B*B),$=y(b*b),X=y(Nu*y(h*h)),Z=y(w*S),J=B+b,ne=y(y(J*J)-S-$),ie=Z+$,Me=ie-X,he=Z-$,ye=y(ne*Me),He=y(ie*he),xe=y(ne*he),Re=y(Me*ie);return new z(ye,He,Re,xe)}add(w){K(w);let{a:B,d:b}=e,{ex:h,ey:S,ez:$,et:X}=this,{ex:Z,ey:J,ez:ne,et:ie}=w;if(B===BigInt(-1)){let Rs=y((S-h)*(J+Z)),Ze=y((S+h)*(J-Z)),je=y(Ze-Rs);if(je===Pr)return this.double();let Ts=y($*Nu*ie),Xe=y(X*Nu*ne),Je=Xe+Ts,Ps=Ze+Rs,Qe=Xe-Ts,st=y(Je*je),Vo=y(Ps*Qe),ot=y(Je*Qe),at=y(je*Ps);return new z(st,Vo,at,ot)}let Me=y(h*Z),he=y(S*J),ye=y(X*b*ie),He=y($*ne),xe=y((h+S)*(Z+J)-Me-he),Re=He-ye,yn=He+ye,Ye=y(he-B*Me),rt=y(xe*Re),$o=y(yn*Ye),nt=y(xe*Ye),it=y(Re*yn);return new z(rt,$o,it,nt)}subtract(w){return this.add(w.negate())}wNAF(w){return j.wNAFCached(this,C,w,z.normalizeZ)}multiply(w){let{p:B,f:b}=this.wNAF(P(w,n));return z.normalizeZ([B,b])[0]}multiplyUnsafe(w){let B=O(w);return B===Pr?U:this.equals(U)||B===dr?this:this.equals(D)?this.wNAF(B).p:j.unsafeLadder(this,B)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return j.unsafeLadder(this,n).is0()}toAffine(w){let{ex:B,ey:b,ez:h}=this,S=this.is0();w==null&&(w=S?kk:t.inv(h));let $=y(B*w),X=y(b*w),Z=y(h*w);if(S)return{x:Pr,y:dr};if(Z!==dr)throw new Error("invZ was invalid");return{x:$,y:X}}clearCofactor(){let{h:w}=e;return w===dr?this:this.multiplyUnsafe(w)}static fromHex(w,B=!1){let{d:b,a:h}=e,S=t.BYTES;w=ft("pointHex",w,S);let $=w.slice(),X=w[S-1];$[S-1]=X&-129;let Z=Gn($);Z===Pr||(B?P(Z,f):P(Z,t.ORDER));let J=y(Z*Z),ne=y(J-dr),ie=y(b*J-h),{isValid:Me,value:he}=p(ne,ie);if(!Me)throw new Error("Point.fromHex: invalid y coordinate");let ye=(he&dr)===dr,He=(X&128)!==0;if(!B&&he===Pr&&He)throw new Error("Point.fromHex: x=0 and x_0=1");return He!==ye&&(he=y(-he)),z.fromAffine({x:he,y:Z})}static fromPrivateKey(w){return Q(w).point}toRawBytes(){let{x:w,y:B}=this.toAffine(),b=ki(B,t.BYTES);return b[b.length-1]|=w&dr?128:0,b}toHex(){return sn(this.toRawBytes())}}z.BASE=new z(e.Gx,e.Gy,dr,y(e.Gx*e.Gy)),z.ZERO=new z(Pr,dr,dr,Pr);let{BASE:D,ZERO:U}=z,j=Ou(z,a*8);function ee(m){return Pe(m,n)}function re(m){return ee(Gn(m))}function Q(m){let w=a;m=ft("private key",m,w);let B=ft("hashed private key",s(m),2*w),b=I(B.slice(0,w)),h=B.slice(w,2*w),S=re(b),$=D.multiply(S),X=$.toRawBytes();return{head:b,prefix:h,scalar:S,point:$,pointBytes:X}}function V(m){return Q(m).pointBytes}function v(m=new Uint8Array,...w){let B=an(...w);return re(s(k(B,ft("context",m),!!i)))}function c(m,w,B={}){m=ft("message",m),i&&(m=i(m));let{prefix:b,scalar:h,pointBytes:S}=Q(w),$=v(B.context,b,m),X=D.multiply($).toRawBytes(),Z=v(B.context,X,S,m),J=ee($+Z*h);O(J);let ne=an(X,ki(J,t.BYTES));return ft("result",ne,a*2)}let l=Sk;function d(m,w,B,b=l){let{context:h,zip215:S}=b,$=t.BYTES;m=ft("signature",m,2*$),w=ft("message",w),i&&(w=i(w));let X=Gn(m.slice($,2*$)),Z,J,ne;try{Z=z.fromHex(B,S),J=z.fromHex(m.slice(0,$),S),ne=D.multiplyUnsafe(X)}catch(he){return!1}if(!S&&Z.isSmallOrder())return!1;let ie=v(h,J.toRawBytes(),Z.toRawBytes(),w);return J.add(Z.multiplyUnsafe(ie)).subtract(ne).clearCofactor().equals(z.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:c,verify:d,ExtendedPoint:z,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>o(t.BYTES),precompute(m=8,w=z.BASE){return w._setWindowSize(m),w.multiply(BigInt(3)),w}}}}var Ol=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),V0=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),aE=BigInt(0),Ik=BigInt(1),Ml=BigInt(2),Bk=BigInt(5),G0=BigInt(10),Ak=BigInt(20),Ek=BigInt(40),Y0=BigInt(80);function _k(r){let e=Ol,n=r*r%e*r%e,i=Ge(n,Ml,e)*n%e,s=Ge(i,Ik,e)*r%e,o=Ge(s,Bk,e)*s%e,a=Ge(o,G0,e)*o%e,u=Ge(a,Ak,e)*a%e,f=Ge(u,Ek,e)*u%e,y=Ge(f,Y0,e)*f%e,p=Ge(y,Y0,e)*f%e,I=Ge(p,G0,e)*o%e;return{pow_p_5_8:Ge(I,Ml,e)*r%e,b2:n}}function Lk(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Rk(r,e){let t=Ol,n=Pe(e*e*e,t),i=Pe(n*n*e,t),s=_k(r*i).pow_p_5_8,o=Pe(r*n*s,t),a=Pe(e*o*o,t),u=o,f=Pe(o*V0,t),y=a===r,p=a===Pe(-r,t),I=a===Pe(-r*V0,t);return y&&(o=u),(p||I)&&(o=f),q0(o,t)&&(o=Pe(-o,t)),{isValid:y||p,value:o}}var un=Mu(Ol,void 0,!0),Nl={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:un,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Bl,randomBytes:_u,adjustScalarBytes:Lk,uvRatio:Rk},xi=Uu(Nl);function Z0(r,e,t){if(e.length>255)throw new Error("Context is too big");return Eu(ml("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,r)}var uE=Uu(Kt(Ue({},Nl),{domain:Z0})),cE=Uu(Kt(Ue({},Nl),{domain:Z0,prehash:Bl}));var Tk=(un.ORDER+BigInt(3))/BigInt(8),fE=un.pow(Ml,Tk),lE=un.sqrt(un.neg(un.ONE)),hE=(un.ORDER-BigInt(5))/BigInt(8),dE=BigInt(486662);var pE=H0(un,un.neg(BigInt(486664)));var yE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),gE=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),mE=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),bE=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var wE=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function X0(r,e,t,n,i,s,o){try{var a=r[s](o),u=a.value}catch(f){t(f);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Zn(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var s=r.apply(e,t);function o(u){X0(s,n,i,o,a,"next",u)}function a(u){X0(s,n,i,o,a,"throw",u)}o(void 0)})}}function cn(r,e){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cn(r,e)}function ks(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cn(r,e)}function Ul(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zu(r,e){if(e&&(Rr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ul(r)}function Cr(r){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cr(r)}var pr=ze(ny()),sh=ze(ua()),ar=ze(ay());var Ok=(r,e,t)=>r&e^~r&t,Nk=(r,e,t)=>r&e^r&t^e&t,Uk=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=new Uint32Array(64),Dl=class extends vs{constructor(){super(64,32,8,!1),this.A=Xn[0]|0,this.B=Xn[1]|0,this.C=Xn[2]|0,this.D=Xn[3]|0,this.E=Xn[4]|0,this.F=Xn[5]|0,this.G=Xn[6]|0,this.H=Xn[7]|0}get(){let{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,t,n,i,s,o,a,u]}set(e,t,n,i,s,o,a,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,t){for(let p=0;p<16;p++,t+=4)Jn[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let I=Jn[p-15],k=Jn[p-2],E=Tr(I,7)^Tr(I,18)^I>>>3,A=Tr(k,17)^Tr(k,19)^k>>>10;Jn[p]=A+Jn[p-7]+E+Jn[p-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:f,H:y}=this;for(let p=0;p<64;p++){let I=Tr(a,6)^Tr(a,11)^Tr(a,25),k=y+I+Ok(a,u,f)+Uk[p]+Jn[p]|0,A=(Tr(n,2)^Tr(n,13)^Tr(n,22))+Nk(n,i,s)|0;y=f,f=u,u=a,a=o+k|0,o=s,s=i,i=n,n=k+A|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,f=f+this.G|0,y=y+this.H|0,this.set(n,i,s,o,a,u,f,y)}roundClean(){Jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Co=ws(()=>new Dl);var Es=ze(lf()),R=ze($s()),Yy=ze($s());function Wl(r){if(Array.isArray(r))return r}function Kl(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,a=[],u=!0,f=!1;try{if(s=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(y){f=!0,i=y}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(f)throw i}}return a}}function Ss(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Mo(r,e){if(!!r){if(typeof r=="string")return Ss(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ss(r,e)}}function Fl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(r,e){return Wl(r)||Kl(r,e)||Mo(r,e)||Fl()}var qo=ze(yf());function Ku(r,e,t){return e=_o(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ql(r){if(Array.isArray(r))return Ss(r)}function Hl(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kr(r){return ql(r)||Hl(r)||Mo(r)||jl()}var xS=ze(ly());function $l(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Vl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function xs(r,e,t){return Vl()?xs=Reflect.construct.bind():xs=function(i,s,o){var a=[null];a.push.apply(a,s);var u=Function.bind.apply(i,a),f=new u;return o&&cn(f,o.prototype),f},xs.apply(null,arguments)}function Ii(r){var e=typeof Map=="function"?new Map:void 0;return Ii=function(n){if(n===null||!$l(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return xs(n,arguments,Cr(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),cn(i,n)},Ii(r)}var IS=ze(dy()),BS=ze(yy());var[by,wy,vy]=[[],[],[]],aS=BigInt(0),Uo=BigInt(1),uS=BigInt(2),cS=BigInt(7),fS=BigInt(256),lS=BigInt(113);for(let r=0,e=Uo,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],by.push(2*(5*n+t)),wy.push((r+1)*(r+2)/2%64);let i=aS;for(let s=0;s<7;s++)e=(e<<Uo^(e>>cS)*lS)%fS,e&uS&&(i^=Uo<<(Uo<<BigInt(s))-Uo);vy.push(i)}var[hS,dS]=wl(vy,!0),gy=(r,e,t)=>t>32?Sl(r,e,t):vl(r,e,t),my=(r,e,t)=>t>32?xl(r,e,t):kl(r,e,t);function pS(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,u=(o+2)%10,f=t[u],y=t[u+1],p=gy(f,y,1)^t[a],I=my(f,y,1)^t[a+1];for(let k=0;k<50;k+=10)r[o+k]^=p,r[o+k+1]^=I}let i=r[2],s=r[3];for(let o=0;o<24;o++){let a=wy[o],u=gy(i,s,a),f=my(i,s,a),y=by[o];i=r[y],s=r[y+1],r[y]=u,r[y+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=hS[n],r[1]^=dS[n]}t.fill(0)}var Is=class extends Hn{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Lo(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=O0(this.state)}keccak(){pS(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){nn(this);let{blockLen:t,state:n}=this;e=jn(e);let i=e.length;for(let s=0;s<i;){let o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,(t&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){nn(this,!1),Ro(e),this.finish();let t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Lo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Iu(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Is(t,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},ti=(r,e,t)=>ws(()=>new Is(e,r,t)),C_=ti(6,144,224/8),M_=ti(6,136,256/8),O_=ti(6,104,384/8),N_=ti(6,72,512/8),U_=ti(1,144,224/8),Yl=ti(1,136,256/8),z_=ti(1,104,384/8),D_=ti(1,72,512/8),ky=(r,e,t)=>N0((n={})=>new Is(e,r,n.dkLen===void 0?t:n.dkLen,!0)),W_=ky(31,168,128/8),K_=ky(31,136,256/8);function yS(r){let e=Po(r);$r(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:i}=e;if(t){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(Ue({},e))}var{bytesToNumberBE:gS,hexToBytes:mS}=Pu,Bi={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=Bi;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:gS(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=Bi,t=typeof r=="string"?mS(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=Bi._parseInt(t.subarray(2)),{d:o,l:a}=Bi._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let y=f.toString(16);return y.length&1?`0${y}`:y},n=e(t(r.s)),i=e(t(r.r)),s=n.length/2,o=i.length/2,a=t(s),u=t(o);return`30${t(o+s+4)}02${u}${i}02${a}${n}`}},hn=BigInt(0),Sr=BigInt(1),$_=BigInt(2),Sy=BigInt(3),V_=BigInt(4);function bS(r){let e=yS(r),{Fp:t}=e,n=e.toBytes||((E,A,L)=>{let P=A.toAffine();return an(Uint8Array.from([4]),t.toBytes(P.x),t.toBytes(P.y))}),i=e.fromBytes||(E=>{let A=E.subarray(1),L=t.fromBytes(A.subarray(0,t.BYTES)),P=t.fromBytes(A.subarray(t.BYTES,2*t.BYTES));return{x:L,y:P}});function s(E){let{a:A,b:L}=e,P=t.sqr(E),O=t.mul(P,E);return t.add(t.add(O,t.mul(E,A)),L)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(E){return typeof E=="bigint"&&hn<E&&E<e.n}function a(E){if(!o(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(E){let{allowedPrivateKeyLengths:A,nByteLength:L,wrapPrivateKey:P,n:O}=e;if(A&&typeof E!="bigint"){if(E instanceof Uint8Array&&(E=sn(E)),typeof E!="string"||!A.includes(E.length))throw new Error("Invalid key");E=E.padStart(L*2,"0")}let C;try{C=typeof E=="bigint"?E:on(ft("private key",E,L))}catch(K){throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof E}`)}return P&&(C=Pe(C,O)),a(C),C}let f=new Map;function y(E){if(!(E instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(A,L,P){if(this.px=A,this.py=L,this.pz=P,A==null||!t.isValid(A))throw new Error("x required");if(L==null||!t.isValid(L))throw new Error("y required");if(P==null||!t.isValid(P))throw new Error("z required")}static fromAffine(A){let{x:L,y:P}=A||{};if(!A||!t.isValid(L)||!t.isValid(P))throw new Error("invalid affine point");if(A instanceof p)throw new Error("projective point not allowed");let O=C=>t.eql(C,t.ZERO);return O(L)&&O(P)?p.ZERO:new p(L,P,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){let L=t.invertBatch(A.map(P=>P.pz));return A.map((P,O)=>P.toAffine(L[O])).map(p.fromAffine)}static fromHex(A){let L=p.fromAffine(i(ft("pointHex",A)));return L.assertValidity(),L}static fromPrivateKey(A){return p.BASE.multiply(u(A))}_setWindowSize(A){this._WINDOW_SIZE=A,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:A,y:L}=this.toAffine();if(!t.isValid(A)||!t.isValid(L))throw new Error("bad point: x or y not FE");let P=t.sqr(L),O=s(A);if(!t.eql(P,O))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:A}=this.toAffine();if(t.isOdd)return!t.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){y(A);let{px:L,py:P,pz:O}=this,{px:C,py:K,pz:z}=A,D=t.eql(t.mul(L,z),t.mul(C,O)),U=t.eql(t.mul(P,z),t.mul(K,O));return D&&U}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){let{a:A,b:L}=e,P=t.mul(L,Sy),{px:O,py:C,pz:K}=this,z=t.ZERO,D=t.ZERO,U=t.ZERO,j=t.mul(O,O),ee=t.mul(C,C),re=t.mul(K,K),Q=t.mul(O,C);return Q=t.add(Q,Q),U=t.mul(O,K),U=t.add(U,U),z=t.mul(A,U),D=t.mul(P,re),D=t.add(z,D),z=t.sub(ee,D),D=t.add(ee,D),D=t.mul(z,D),z=t.mul(Q,z),U=t.mul(P,U),re=t.mul(A,re),Q=t.sub(j,re),Q=t.mul(A,Q),Q=t.add(Q,U),U=t.add(j,j),j=t.add(U,j),j=t.add(j,re),j=t.mul(j,Q),D=t.add(D,j),re=t.mul(C,K),re=t.add(re,re),j=t.mul(re,Q),z=t.sub(z,j),U=t.mul(re,ee),U=t.add(U,U),U=t.add(U,U),new p(z,D,U)}add(A){y(A);let{px:L,py:P,pz:O}=this,{px:C,py:K,pz:z}=A,D=t.ZERO,U=t.ZERO,j=t.ZERO,ee=e.a,re=t.mul(e.b,Sy),Q=t.mul(L,C),V=t.mul(P,K),v=t.mul(O,z),c=t.add(L,P),l=t.add(C,K);c=t.mul(c,l),l=t.add(Q,V),c=t.sub(c,l),l=t.add(L,O);let d=t.add(C,z);return l=t.mul(l,d),d=t.add(Q,v),l=t.sub(l,d),d=t.add(P,O),D=t.add(K,z),d=t.mul(d,D),D=t.add(V,v),d=t.sub(d,D),j=t.mul(ee,l),D=t.mul(re,v),j=t.add(D,j),D=t.sub(V,j),j=t.add(V,j),U=t.mul(D,j),V=t.add(Q,Q),V=t.add(V,Q),v=t.mul(ee,v),l=t.mul(re,l),V=t.add(V,v),v=t.sub(Q,v),v=t.mul(ee,v),l=t.add(l,v),Q=t.mul(V,l),U=t.add(U,Q),Q=t.mul(d,l),D=t.mul(c,D),D=t.sub(D,Q),Q=t.mul(c,V),j=t.mul(d,j),j=t.add(j,Q),new p(D,U,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(p.ZERO)}wNAF(A){return k.wNAFCached(this,f,A,L=>{let P=t.invertBatch(L.map(O=>O.pz));return L.map((O,C)=>O.toAffine(P[C])).map(p.fromAffine)})}multiplyUnsafe(A){let L=p.ZERO;if(A===hn)return L;if(a(A),A===Sr)return this;let{endo:P}=e;if(!P)return k.unsafeLadder(this,A);let{k1neg:O,k1:C,k2neg:K,k2:z}=P.splitScalar(A),D=L,U=L,j=this;for(;C>hn||z>hn;)C&Sr&&(D=D.add(j)),z&Sr&&(U=U.add(j)),j=j.double(),C>>=Sr,z>>=Sr;return O&&(D=D.negate()),K&&(U=U.negate()),U=new p(t.mul(U.px,P.beta),U.py,U.pz),D.add(U)}multiply(A){a(A);let L=A,P,O,{endo:C}=e;if(C){let{k1neg:K,k1:z,k2neg:D,k2:U}=C.splitScalar(L),{p:j,f:ee}=this.wNAF(z),{p:re,f:Q}=this.wNAF(U);j=k.constTimeNegate(K,j),re=k.constTimeNegate(D,re),re=new p(t.mul(re.px,C.beta),re.py,re.pz),P=j.add(re),O=ee.add(Q)}else{let{p:K,f:z}=this.wNAF(L);P=K,O=z}return p.normalizeZ([P,O])[0]}multiplyAndAddUnsafe(A,L,P){let O=p.BASE,C=(z,D)=>D===hn||D===Sr||!z.equals(O)?z.multiplyUnsafe(D):z.multiply(D),K=C(this,L).add(C(A,P));return K.is0()?void 0:K}toAffine(A){let{px:L,py:P,pz:O}=this,C=this.is0();A==null&&(A=C?t.ONE:t.inv(O));let K=t.mul(L,A),z=t.mul(P,A),D=t.mul(O,A);if(C)return{x:t.ZERO,y:t.ZERO};if(!t.eql(D,t.ONE))throw new Error("invZ was invalid");return{x:K,y:z}}isTorsionFree(){let{h:A,isTorsionFree:L}=e;if(A===Sr)return!0;if(L)return L(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:A,clearCofactor:L}=e;return A===Sr?this:L?L(p,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return this.assertValidity(),n(p,this,A)}toHex(A=!0){return sn(this.toRawBytes(A))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);let I=e.nBitLength,k=Ou(p,e.endo?Math.ceil(I/2):I);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function wS(r){let e=Po(r);return $r(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(Ue({lowS:!0},e))}function xy(r){let e=wS(r),{Fp:t,n}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(l){return hn<l&&l<t.ORDER}function a(l){return Pe(l,n)}function u(l){return Cu(l,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:y,weierstrassEquation:p,isWithinCurveOrder:I}=bS(Kt(Ue({},e),{toBytes(l,d,g){let m=d.toAffine(),w=t.toBytes(m.x),B=an;return g?B(Uint8Array.from([d.hasEvenY()?2:3]),w):B(Uint8Array.from([4]),w,t.toBytes(m.y))},fromBytes(l){let d=l.length,g=l[0],m=l.subarray(1);if(d===i&&(g===2||g===3)){let w=on(m);if(!o(w))throw new Error("Point is not on curve");let B=p(w),b=t.sqrt(B),h=(b&Sr)===Sr;return(g&1)===1!==h&&(b=t.neg(b)),{x:w,y:b}}else if(d===s&&g===4){let w=t.fromBytes(m.subarray(0,t.BYTES)),B=t.fromBytes(m.subarray(t.BYTES,2*t.BYTES));return{x:w,y:B}}else throw new Error(`Point of length ${d} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}})),k=l=>sn(Yn(l,e.nByteLength));function E(l){let d=n>>Sr;return l>d}function A(l){return E(l)?a(-l):l}let L=(l,d,g)=>on(l.slice(d,g));class P{constructor(d,g,m){this.r=d,this.s=g,this.recovery=m,this.assertValidity()}static fromCompact(d){let g=e.nByteLength;return d=ft("compactSignature",d,g*2),new P(L(d,0,g),L(d,g,2*g))}static fromDER(d){let{r:g,s:m}=Bi.toSig(ft("DER",d));return new P(g,m)}assertValidity(){if(!I(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!I(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(d){return new P(this.r,this.s,d)}recoverPublicKey(d){let{r:g,s:m,recovery:w}=this,B=U(ft("msgHash",d));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");let b=w===2||w===3?g+e.n:g;if(b>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let h=(w&1)===0?"02":"03",S=f.fromHex(h+k(b)),$=u(b),X=a(-B*$),Z=a(m*$),J=f.BASE.multiplyAndAddUnsafe(S,X,Z);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return vi(this.toDERHex())}toDERHex(){return Bi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vi(this.toCompactHex())}toCompactHex(){return k(this.r)+k(this.s)}}let O={isValidPrivateKey(l){try{return y(l),!0}catch(d){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{let l=Pl(e.n);return $0(e.randomBytes(l),e.n)},precompute(l=8,d=f.BASE){return d._setWindowSize(l),d.multiply(BigInt(3)),d}};function C(l,d=!0){return f.fromPrivateKey(l).toRawBytes(d)}function K(l){let d=l instanceof Uint8Array,g=typeof l=="string",m=(d||g)&&l.length;return d?m===i||m===s:g?m===2*i||m===2*s:l instanceof f}function z(l,d,g=!0){if(K(l))throw new Error("first arg must be private key");if(!K(d))throw new Error("second arg must be public key");return f.fromHex(d).multiply(y(l)).toRawBytes(g)}let D=e.bits2int||function(l){let d=on(l),g=l.length*8-e.nBitLength;return g>0?d>>BigInt(g):d},U=e.bits2int_modN||function(l){return a(D(l))},j=To(e.nBitLength);function ee(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(hn<=l&&l<j))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Yn(l,e.nByteLength)}function re(l,d,g=Q){if(["recovered","canonical"].some(ie=>ie in g))throw new Error("sign() legacy options not supported");let{hash:m,randomBytes:w}=e,{lowS:B,prehash:b,extraEntropy:h}=g;B==null&&(B=!0),l=ft("msgHash",l),b&&(l=ft("prehashed msgHash",m(l)));let S=U(l),$=y(d),X=[ee($),ee(S)];if(h!=null){let ie=h===!0?w(t.BYTES):h;X.push(ft("extraEntropy",ie))}let Z=an(...X),J=S;function ne(ie){let Me=D(ie);if(!I(Me))return;let he=u(Me),ye=f.BASE.multiply(Me).toAffine(),He=a(ye.x);if(He===hn)return;let xe=a(he*a(J+He*$));if(xe===hn)return;let Re=(ye.x===He?0:2)|Number(ye.y&Sr),yn=xe;return B&&E(xe)&&(yn=A(xe),Re^=1),new P(He,yn,Re)}return{seed:Z,k2sig:ne}}let Q={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function v(l,d,g=Q){let{seed:m,k2sig:w}=re(l,d,g),B=e;return _l(B.hash.outputLen,B.nByteLength,B.hmac)(m,w)}f.BASE._setWindowSize(8);function c(l,d,g,m=V){var ye;let w=l;if(d=ft("msgHash",d),g=ft("publicKey",g),"strict"in m)throw new Error("options.strict was renamed to lowS");let{lowS:B,prehash:b}=m,h,S;try{if(typeof w=="string"||w instanceof Uint8Array)try{h=P.fromDER(w)}catch(He){if(!(He instanceof Bi.Err))throw He;h=P.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){let{r:He,s:xe}=w;h=new P(He,xe)}else throw new Error("PARSE");S=f.fromHex(g)}catch(He){if(He.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&h.hasHighS())return!1;b&&(d=e.hash(d));let{r:$,s:X}=h,Z=U(d),J=u(X),ne=a(Z*J),ie=a($*J),Me=(ye=f.BASE.multiplyAndAddUnsafe(S,ne,ie))==null?void 0:ye.toAffine();return Me?a(Me.x)===$:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:z,sign:v,verify:c,ProjectivePoint:f,Signature:P,utils:O}}var Hu=class extends Hn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,C0(e);let n=jn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return nn(this),this.iHash.update(e),this}digestInto(e){nn(this),Ro(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Zl=(r,e,t)=>new Hu(r,e).update(t).digest();Zl.create=(r,e)=>new Hu(r,e);function vS(r){return{hash:r,hmac:(e,...t)=>Zl(r,e,Eu(...t)),randomBytes:_u}}function Iy(r,e){let t=n=>xy(Ue(Ue({},r),vS(n)));return Object.freeze(Kt(Ue({},t(e)),{create:t}))}var Ey=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),By=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kS=BigInt(1),Xl=BigInt(2),Ay=(r,e)=>(r+e/Xl)/e;function SS(r){let e=Ey,t=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),f=r*r*r%e,y=f*f*r%e,p=Ge(y,t,e)*y%e,I=Ge(p,t,e)*y%e,k=Ge(I,Xl,e)*f%e,E=Ge(k,i,e)*k%e,A=Ge(E,s,e)*E%e,L=Ge(A,a,e)*A%e,P=Ge(L,u,e)*L%e,O=Ge(P,a,e)*A%e,C=Ge(O,t,e)*y%e,K=Ge(C,o,e)*E%e,z=Ge(K,n,e)*f%e,D=Ge(z,Xl,e);if(!Jl.eql(Jl.sqr(D),r))throw new Error("Cannot find square root");return D}var Jl=Mu(Ey,void 0,void 0,{sqrt:SS}),zo=Iy({a:BigInt(0),b:BigInt(7),Fp:Jl,n:By,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=By,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-kS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=Ay(s*r,e),u=Ay(-n*r,e),f=Pe(r-a*t-u*i,e),y=Pe(-a*n-u*s,e),p=f>o,I=y>o;if(p&&(f=e-f),I&&(y=e-y),f>o||y>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:f,k2neg:I,k2:y}}}},Co),a3=BigInt(0);var u3=zo.ProjectivePoint;var R3=xi.utils.randomPrivateKey,_y=function(){var e=xi.utils.randomPrivateKey(),t=oh(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},oh=xi.getPublicKey;function Ly(r){try{return xi.ExtendedPoint.fromHex(r),!0}catch(e){return!1}}var Zy=function(e,t){return xi.sign(e,t.slice(0,32))},AS=xi.verify,Ae=function(e){return ue.Buffer.isBuffer(e)?e:e instanceof Uint8Array?ue.Buffer.from(e.buffer,e.byteOffset,e.byteLength):ue.Buffer.from(e)};var ES=function(){function r(e){ut(this,r),Object.assign(this,e)}return ct(r,[{key:"encode",value:function(){return ue.Buffer.from((0,Es.serialize)(Vu,this))}}],[{key:"decode",value:function(t){return(0,Es.deserialize)(Vu,this,t)}},{key:"decodeUnchecked",value:function(t){return(0,Es.deserializeUnchecked)(Vu,this,t)}}]),r}();var Vu=new Map,Xy;function _S(r){var e=LS();return function(){var n=Cr(r),i;if(e){var s=Cr(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return zu(this,i)}}function LS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var RS=32,Ai=32;function TS(r){return r._bn!==void 0}var Ry=1;Xy=Symbol.toStringTag;var pe=function(r){ks(t,r);var e=_S(t);function t(n){var i;if(ut(this,t),i=e.call(this,{}),i._bn=void 0,TS(n))i._bn=n._bn;else{if(typeof n=="string"){var s=ar.default.decode(n);if(s.length!=Ai)throw new Error("Invalid public key input");i._bn=new sh.default(s)}else i._bn=new sh.default(n);if(i._bn.byteLength()>Ai)throw new Error("Invalid public key input")}return i}return ct(t,[{key:"equals",value:function(i){return this._bn.eq(i._bn)}},{key:"toBase58",value:function(){return ar.default.encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var i=this.toBuffer();return new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}},{key:"toBuffer",value:function(){var i=this._bn.toArrayLike(ue.Buffer);if(i.length===Ai)return i;var s=ue.Buffer.alloc(32);return i.copy(s,32-i.length),s}},{key:Xy,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var i=new t(Ry);return Ry+=1,new t(i.toBuffer())}},{key:"createWithSeed",value:function(){var n=Zn(pr.default.mark(function s(o,a,u){var f,y;return pr.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return f=ue.Buffer.concat([o.toBuffer(),ue.Buffer.from(a),u.toBuffer()]),y=Co(f),I.abrupt("return",new t(y));case 3:case"end":return I.stop()}},s)}));function i(s,o,a){return n.apply(this,arguments)}return i}()},{key:"createProgramAddressSync",value:function(i,s){var o=ue.Buffer.alloc(0);i.forEach(function(u){if(u.length>RS)throw new TypeError("Max seed length exceeded");o=ue.Buffer.concat([o,Ae(u)])}),o=ue.Buffer.concat([o,s.toBuffer(),ue.Buffer.from("ProgramDerivedAddress")]);var a=Co(o);if(Ly(a))throw new Error("Invalid seeds, address must fall off the curve");return new t(a)}},{key:"createProgramAddress",value:function(){var n=Zn(pr.default.mark(function s(o,a){return pr.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",this.createProgramAddressSync(o,a));case 1:case"end":return f.stop()}},s,this)}));function i(s,o){return n.apply(this,arguments)}return i}()},{key:"findProgramAddressSync",value:function(i,s){for(var o=255,a;o!=0;){try{var u=i.concat(ue.Buffer.from([o]));a=this.createProgramAddressSync(u,s)}catch(f){if(f instanceof TypeError)throw f;o--;continue}return[a,o]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var n=Zn(pr.default.mark(function s(o,a){return pr.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",this.findProgramAddressSync(o,a));case 1:case"end":return f.stop()}},s,this)}));function i(s,o){return n.apply(this,arguments)}return i}()},{key:"isOnCurve",value:function(i){var s=new t(i);return Ly(s.toBytes())}}]),t}(ES);pe.default=new pe("11111111111111111111111111111111");Vu.set(pe,{kind:"struct",fields:[["_bn","u256"]]});var T3=new pe("BPFLoader1111111111111111111111111111111111"),Gu=1280-40-8,PS=127,ah=64;function lh(r){var e=CS();return function(){var n=Cr(r),i;if(e){var s=Cr(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return zu(this,i)}}function CS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var MS=function(r){ks(t,r);var e=lh(t);function t(n){var i;return ut(this,t),i=e.call(this,"Signature ".concat(n," has expired: block height exceeded.")),i.signature=void 0,i.signature=n,i}return ct(t)}(Ii(Error));Object.defineProperty(MS.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var OS=function(r){ks(t,r);var e=lh(t);function t(n,i){var s;return ut(this,t),s=e.call(this,"Transaction was not confirmed in ".concat(i.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(n," using the Solana Explorer or CLI tools.")),s.signature=void 0,s.signature=n,s}return ct(t)}(Ii(Error));Object.defineProperty(OS.prototype,"name",{value:"TransactionExpiredTimeoutError"});var NS=function(r){ks(t,r);var e=lh(t);function t(n){var i;return ut(this,t),i=e.call(this,"Signature ".concat(n," has expired: the nonce is no longer valid.")),i.signature=void 0,i.signature=n,i}return ct(t)}(Ii(Error));Object.defineProperty(NS.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});function US(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=zS(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(r)},n:function(){var f=t.next();return s=f.done,f},e:function(f){o=!0,a=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function zS(r,e){if(!!r){if(typeof r=="string")return Ty(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ty(r,e)}}function Ty(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var Py=function(){function r(e,t){ut(this,r),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}return ct(r,[{key:"keySegments",value:function(){var t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}},{key:"get",value:function(t){var n=US(this.keySegments()),i;try{for(n.s();!(i=n.n()).done;){var s=i.value;if(t<s.length)return s[t];t-=s.length}}catch(o){n.e(o)}finally{n.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(t){var n=255;if(this.length>n+1)throw new Error("Account index overflow encountered during compilation");var i=new Map;this.keySegments().flat().forEach(function(o,a){i.set(o.toBase58(),a)});var s=function(a){var u=i.get(a.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(function(o){return{programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(function(a){return s(a.pubkey)}),data:o.data}})}}]),r}(),Se=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"publicKey";return R.blob(32,e)};var Bs=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"string",t=R.struct([R.u32("length"),R.u32("lengthPadding"),R.blob(R.offset(R.u32(),-8),"chars")],e),n=t.decode.bind(t),i=t.encode.bind(t),s=t;return s.decode=function(o,a){var u=n(o,a);return u.chars.toString()},s.encode=function(o,a,u){var f={chars:ue.Buffer.from(o,"utf8")};return i(f,a,u)},s.alloc=function(o){return R.u32().span+R.u32().span+ue.Buffer.from(o,"utf8").length},s},DS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"authorized";return R.struct([Se("staker"),Se("withdrawer")],e)},WS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"lockup";return R.struct([R.ns64("unixTimestamp"),R.ns64("epoch"),Se("custodian")],e)},KS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"voteInit";return R.struct([Se("nodePubkey"),Se("authorizedVoter"),Se("authorizedWithdrawer"),R.u8("commission")],e)},FS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"voteAuthorizeWithSeedArgs";return R.struct([R.u32("voteAuthorizationType"),Se("currentAuthorityDerivedKeyOwnerPubkey"),Bs("currentAuthorityDerivedKeySeed"),Se("newAuthorized")],e)};function Jy(r,e){var t=function i(s){if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){var o=e[s.property];if(Array.isArray(o))return o.length*i(s.elementLayout)}else if("fields"in s)return Jy({layout:s},e[s.property]);return 0},n=0;return r.layout.fields.forEach(function(i){n+=t(i)}),n}function Wo(r){for(var e=0,t=0;;){var n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Ko(r,e){for(var t=e;;){var n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ot(r,e){if(!r)throw new Error(e||"Assertion failed")}function Ql(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=qS(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(r)},n:function(){var f=t.next();return s=f.done,f},e:function(f){o=!0,a=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function qS(r,e){if(!!r){if(typeof r=="string")return Cy(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cy(r,e)}}function Cy(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var HS=function(){function r(e,t){ut(this,r),this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}return ct(r,[{key:"getMessageComponents",value:function(){var t=kr(this.keyMetaMap.entries());Ot(t.length<=256,"Max static account keys length exceeded");var n=t.filter(function(p){var I=Wt(p,2),k=I[1];return k.isSigner&&k.isWritable}),i=t.filter(function(p){var I=Wt(p,2),k=I[1];return k.isSigner&&!k.isWritable}),s=t.filter(function(p){var I=Wt(p,2),k=I[1];return!k.isSigner&&k.isWritable}),o=t.filter(function(p){var I=Wt(p,2),k=I[1];return!k.isSigner&&!k.isWritable}),a={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{Ot(n.length>0,"Expected at least one writable signer key");var u=Wt(n[0],1),f=u[0];Ot(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}var y=[].concat(kr(n.map(function(p){var I=Wt(p,1),k=I[0];return new pe(k)})),kr(i.map(function(p){var I=Wt(p,1),k=I[0];return new pe(k)})),kr(s.map(function(p){var I=Wt(p,1),k=I[0];return new pe(k)})),kr(o.map(function(p){var I=Wt(p,1),k=I[0];return new pe(k)})));return[a,y]}},{key:"extractTableLookup",value:function(t){var n=this.drainKeysFoundInLookupTable(t.state.addresses,function(p){return!p.isSigner&&!p.isInvoked&&p.isWritable}),i=Wt(n,2),s=i[0],o=i[1],a=this.drainKeysFoundInLookupTable(t.state.addresses,function(p){return!p.isSigner&&!p.isInvoked&&!p.isWritable}),u=Wt(a,2),f=u[0],y=u[1];if(!(s.length===0&&f.length===0))return[{accountKey:t.key,writableIndexes:s,readonlyIndexes:f},{writable:o,readonly:y}]}},{key:"drainKeysFoundInLookupTable",value:function(t,n){var i=this,s=new Array,o=new Array,a=Ql(this.keyMetaMap.entries()),u;try{var f=function(){var p=Wt(u.value,2),I=p[0],k=p[1];if(n(k)){var E=new pe(I),A=t.findIndex(function(L){return L.equals(E)});A>=0&&(Ot(A<256,"Max lookup table index exceeded"),s.push(A),o.push(E),i.keyMetaMap.delete(I))}};for(a.s();!(u=a.n()).done;)f()}catch(y){a.e(y)}finally{a.f()}return[s,o]}}],[{key:"compile",value:function(t,n){var i=new Map,s=function(A){var L=A.toBase58(),P=i.get(L);return P===void 0&&(P={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(L,P)),P},o=s(n);o.isSigner=!0,o.isWritable=!0;var a=Ql(t),u;try{for(a.s();!(u=a.n()).done;){var f=u.value;s(f.programId).isInvoked=!0;var y=Ql(f.keys),p;try{for(y.s();!(p=y.n()).done;){var I=p.value,k=s(I.pubkey);k.isSigner||(k.isSigner=I.isSigner),k.isWritable||(k.isWritable=I.isWritable)}}catch(E){y.e(E)}finally{y.f()}}}catch(E){a.e(E)}finally{a.f()}return new r(n,i)}}]),r}(),My=function(){function r(e){var t=this;ut(this,r),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(function(n){return new pe(n)}),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(function(n){return t.indexToProgramIds.set(n.programIdIndex,t.accountKeys[n.programIdIndex])})}return ct(r,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map(function(t){return{programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ar.default.decode(t.data)}})}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new Py(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(t){return t<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(t){var n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){var i=t-n,s=this.accountKeys.length-n,o=s-this.header.numReadonlyUnsignedAccounts;return i<o}else{var a=n-this.header.numReadonlySignedAccounts;return t<a}}},{key:"isProgramId",value:function(t){return this.indexToProgramIds.has(t)}},{key:"programIds",value:function(){return kr(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var t=this;return this.accountKeys.filter(function(n,i){return!t.isProgramId(i)})}},{key:"serialize",value:function(){var t=this.accountKeys.length,n=[];Ko(n,t);var i=this.instructions.map(function(I){var k=I.accounts,E=I.programIdIndex,A=Array.from(ar.default.decode(I.data)),L=[];Ko(L,k.length);var P=[];return Ko(P,A.length),{programIdIndex:E,keyIndicesCount:ue.Buffer.from(L),keyIndices:k,dataLength:ue.Buffer.from(P),data:A}}),s=[];Ko(s,i.length);var o=ue.Buffer.alloc(Gu);ue.Buffer.from(s).copy(o);var a=s.length;i.forEach(function(I){var k=R.struct([R.u8("programIdIndex"),R.blob(I.keyIndicesCount.length,"keyIndicesCount"),R.seq(R.u8("keyIndex"),I.keyIndices.length,"keyIndices"),R.blob(I.dataLength.length,"dataLength"),R.seq(R.u8("userdatum"),I.data.length,"data")]),E=k.encode(I,o,a);a+=E}),o=o.slice(0,a);var u=R.struct([R.blob(1,"numRequiredSignatures"),R.blob(1,"numReadonlySignedAccounts"),R.blob(1,"numReadonlyUnsignedAccounts"),R.blob(n.length,"keyCount"),R.seq(Se("key"),t,"keys"),Se("recentBlockhash")]),f={numRequiredSignatures:ue.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ue.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ue.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ue.Buffer.from(n),keys:this.accountKeys.map(function(I){return Ae(I.toBytes())}),recentBlockhash:ar.default.decode(this.recentBlockhash)},y=ue.Buffer.alloc(2048),p=u.encode(f,y);return o.copy(y,p),y.slice(0,p+o.length)}}],[{key:"compile",value:function(t){var n=HS.compile(t.instructions,t.payerKey),i=n.getMessageComponents(),s=Wt(i,2),o=s[0],a=s[1],u=new Py(a),f=u.compileInstructions(t.instructions).map(function(y){return{programIdIndex:y.programIdIndex,accounts:y.accountKeyIndexes,data:ar.default.encode(y.data)}});return new r({header:o,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:f})}},{key:"from",value:function(t){var n=kr(t),i=n.shift();if(i!==(i&PS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var s=n.shift(),o=n.shift(),a=Wo(n),u=[],f=0;f<a;f++){var y=n.slice(0,Ai);n=n.slice(Ai),u.push(new pe(ue.Buffer.from(y)))}var p=n.slice(0,Ai);n=n.slice(Ai);for(var I=Wo(n),k=[],E=0;E<I;E++){var A=n.shift(),L=Wo(n),P=n.slice(0,L);n=n.slice(L);var O=Wo(n),C=n.slice(0,O),K=ar.default.encode(ue.Buffer.from(C));n=n.slice(O),k.push({programIdIndex:A,accounts:P,data:K})}var z={header:{numRequiredSignatures:i,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:ar.default.encode(ue.Buffer.from(p)),accountKeys:u,instructions:k};return new r(z)}}]),r}();function Oy(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=jS(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(r)},n:function(){var f=t.next();return s=f.done,f},e:function(f){o=!0,a=f},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function jS(r,e){if(!!r){if(typeof r=="string")return Ny(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ny(r,e)}}function Ny(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Uy(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $S(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(t),!0).forEach(function(n){Ku(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Uy(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var VS=ue.Buffer.alloc(ah).fill(0),qe=function(){function r(e){ut(this,r),this.keys=void 0,this.programId=void 0,this.data=ue.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}return ct(r,[{key:"toJSON",value:function(){return{keys:this.keys.map(function(t){var n=t.pubkey,i=t.isSigner,s=t.isWritable;return{pubkey:n.toJSON(),isSigner:i,isWritable:s}}),programId:this.programId.toJSON(),data:kr(this.data)}}}]),r}(),ht=function(){function r(e){if(ut(this,r),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){var t=e,n=t.minContextSlot,i=t.nonceInfo;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){var s=e,o=s.blockhash,a=s.lastValidBlockHeight;this.recentBlockhash=o,this.lastValidBlockHeight=a}else{var u=e,f=u.recentBlockhash,y=u.nonceInfo;y&&(this.nonceInfo=y),this.recentBlockhash=f}}return ct(r,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(function(t){return t.toJSON()}),signers:this.signatures.map(function(t){var n=t.publicKey;return n.toJSON()})}}},{key:"add",value:function(){for(var t=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];if(i.length===0)throw new Error("No instructions");return i.forEach(function(o){"instructions"in o?t.instructions=t.instructions.concat(o.instructions):"data"in o&&"programId"in o&&"keys"in o?t.instructions.push(o):t.instructions.push(new qe(o))}),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction].concat(kr(this.instructions)):n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");var i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(var s=0;s<n.length;s++)if(n[s].programId===void 0)throw new Error("Transaction instruction index ".concat(s," has undefined program id"));var o=[],a=[];n.forEach(function(U){U.keys.forEach(function(ee){a.push($S({},ee))});var j=U.programId.toString();o.includes(j)||o.push(j)}),o.forEach(function(U){a.push({pubkey:new pe(U),isSigner:!1,isWritable:!1})});var u=[];a.forEach(function(U){var j=U.pubkey.toString(),ee=u.findIndex(function(re){return re.pubkey.toString()===j});ee>-1?(u[ee].isWritable=u[ee].isWritable||U.isWritable,u[ee].isSigner=u[ee].isSigner||U.isSigner):u.push(U)}),u.sort(function(U,j){if(U.isSigner!==j.isSigner)return U.isSigner?-1:1;if(U.isWritable!==j.isWritable)return U.isWritable?-1:1;var ee={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(j.pubkey.toBase58(),"en",ee)});var f=u.findIndex(function(U){return U.pubkey.equals(i)});if(f>-1){var y=u.splice(f,1),p=Wt(y,1),I=p[0];I.isSigner=!0,I.isWritable=!0,u.unshift(I)}else u.unshift({pubkey:i,isSigner:!0,isWritable:!0});var k=Oy(this.signatures),E;try{var A=function(){var j=E.value,ee=u.findIndex(function(re){return re.pubkey.equals(j.publicKey)});if(ee>-1)u[ee].isSigner||(u[ee].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error("unknown signer: ".concat(j.publicKey.toString()))};for(k.s();!(E=k.n()).done;)A()}catch(U){k.e(U)}finally{k.f()}var L=0,P=0,O=0,C=[],K=[];u.forEach(function(U){var j=U.pubkey,ee=U.isSigner,re=U.isWritable;ee?(C.push(j.toString()),L+=1,re||(P+=1)):(K.push(j.toString()),re||(O+=1))});var z=C.concat(K),D=n.map(function(U){var j=U.data,ee=U.programId;return{programIdIndex:z.indexOf(ee.toString()),accounts:U.keys.map(function(re){return z.indexOf(re.pubkey.toString())}),data:ar.default.encode(j)}});return D.forEach(function(U){Ot(U.programIdIndex>=0),U.accounts.forEach(function(j){return Ot(j>=0)})}),new My({header:{numRequiredSignatures:L,numReadonlySignedAccounts:P,numReadonlyUnsignedAccounts:O},accountKeys:z,recentBlockhash:t,instructions:D})}},{key:"_compile",value:function(){var t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===n.length){var i=this.signatures.every(function(s,o){return n[o].equals(s.publicKey)});if(i)return t}return this.signatures=n.map(function(s){return{signature:null,publicKey:s}}),t}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=Zn(pr.default.mark(function n(i){return pr.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.getFeeForMessage(this.compileMessage());case 2:return o.abrupt("return",o.sent.value);case 3:case"end":return o.stop()}},n,this)}));function t(n){return e.apply(this,arguments)}return t}()},{key:"setSigners",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length===0)throw new Error("No signers");var s=new Set;this.signatures=n.filter(function(o){var a=o.toString();return s.has(a)?!1:(s.add(a),!0)}).map(function(o){return{signature:null,publicKey:o}})}},{key:"sign",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length===0)throw new Error("No signers");for(var s=new Set,o=[],a=0,u=n;a<u.length;a++){var f=u[a],y=f.publicKey.toString();s.has(y)||(s.add(y),o.push(f))}this.signatures=o.map(function(I){return{signature:null,publicKey:I.publicKey}});var p=this._compile();this._partialSign.apply(this,[p].concat(o))}},{key:"partialSign",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length===0)throw new Error("No signers");for(var s=new Set,o=[],a=0,u=n;a<u.length;a++){var f=u[a],y=f.publicKey.toString();s.has(y)||(s.add(y),o.push(f))}var p=this._compile();this._partialSign.apply(this,[p].concat(o))}},{key:"_partialSign",value:function(t){for(var n=this,i=t.serialize(),s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];o.forEach(function(u){var f=Zy(i,u.secretKey);n._addSignature(u.publicKey,Ae(f))})}},{key:"addSignature",value:function(t,n){this._compile(),this._addSignature(t,n)}},{key:"_addSignature",value:function(t,n){Ot(n.length===64);var i=this.signatures.findIndex(function(s){return t.equals(s.publicKey)});if(i<0)throw new Error("unknown signer: ".concat(t.toString()));this.signatures[i].signature=ue.Buffer.from(n)}},{key:"verifySignatures",value:function(t){return this._verifySignatures(this.serializeMessage(),t===void 0?!0:t)}},{key:"_verifySignatures",value:function(t,n){var i=Oy(this.signatures),s;try{for(i.s();!(s=i.n()).done;){var o=s.value,a=o.signature,u=o.publicKey;if(a===null){if(n)return!1}else if(!AS(a,t,u.toBytes()))return!1}}catch(f){i.e(f)}finally{i.f()}return!0}},{key:"serialize",value:function(t){var n=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=n.requireAllSignatures,s=n.verifySignatures,o=this.serializeMessage();if(s&&!this._verifySignatures(o,i))throw new Error("Signature verification failed");return this._serialize(o)}},{key:"_serialize",value:function(t){var n=this.signatures,i=[];Ko(i,n.length);var s=i.length+n.length*64+t.length,o=ue.Buffer.alloc(s);return Ot(n.length<256),ue.Buffer.from(i).copy(o,0),n.forEach(function(a,u){var f=a.signature;f!==null&&(Ot(f.length===64,"signature has invalid length"),ue.Buffer.from(f).copy(o,i.length+u*64))}),t.copy(o,i.length+n.length*64),Ot(o.length<=Gu,"Transaction too large: ".concat(o.length," > ").concat(Gu)),o}},{key:"keys",get:function(){return Ot(this.instructions.length===1),this.instructions[0].keys.map(function(t){return t.pubkey})}},{key:"programId",get:function(){return Ot(this.instructions.length===1),this.instructions[0].programId}},{key:"data",get:function(){return Ot(this.instructions.length===1),this.instructions[0].data}}],[{key:"from",value:function(t){for(var n=kr(t),i=Wo(n),s=[],o=0;o<i;o++){var a=n.slice(0,ah);n=n.slice(ah),s.push(ar.default.encode(ue.Buffer.from(a)))}return r.populate(My.from(n),s)}},{key:"populate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=new r;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),n.forEach(function(s,o){var a={signature:s==ar.default.encode(VS)?null:ar.default.decode(s),publicKey:t.accountKeys[o]};i.signatures.push(a)}),t.instructions.forEach(function(s){var o=s.accounts.map(function(a){var u=t.accountKeys[a];return{pubkey:u,isSigner:i.signatures.some(function(f){return f.publicKey.toString()===u.toString()})||t.isAccountSigner(a),isWritable:t.isAccountWritable(a)}});i.instructions.push(new qe({keys:o,programId:t.accountKeys[s.programIdIndex],data:ar.default.decode(s.data)}))}),i._message=t,i._json=i.toJSON(),i}}]),r}();var GS=160,YS=64,ZS=GS/YS,XS=1e3/ZS,dn=new pe("SysvarC1ock11111111111111111111111111111111"),P3=new pe("SysvarEpochSchedu1e111111111111111111111111"),C3=new pe("Sysvar1nstructions1111111111111111111111111"),eh=new pe("SysvarRecentB1ockHashes11111111111111111111"),Fo=new pe("SysvarRent111111111111111111111111111111111"),M3=new pe("SysvarRewards111111111111111111111111111111"),O3=new pe("SysvarS1otHashes111111111111111111111111111"),N3=new pe("SysvarS1otHistory11111111111111111111111111"),th=new pe("SysvarStakeHistory1111111111111111111111111");function zy(r,e,t,n){return uh.apply(this,arguments)}function uh(){return uh=Zn(pr.default.mark(function r(e,t,n,i){var s,o,a,u,f;return pr.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},p.next=3,e.sendTransaction(t,n,s);case 3:if(o=p.sent,!(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)){p.next=10;break}return p.next=7,e.confirmTransaction({abortSignal:i==null?void 0:i.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment);case 7:a=p.sent.value,p.next=22;break;case 10:if(!(t.minNonceContextSlot!=null&&t.nonceInfo!=null)){p.next=18;break}return u=t.nonceInfo.nonceInstruction,f=u.keys[0].pubkey,p.next=15,e.confirmTransaction({abortSignal:i==null?void 0:i.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:t.nonceInfo.nonce,signature:o},i&&i.commitment);case 15:a=p.sent.value,p.next=22;break;case 18:return(i==null?void 0:i.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),p.next=21,e.confirmTransaction(o,i&&i.commitment);case 21:a=p.sent.value;case 22:if(!a.err){p.next=24;break}throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(a),")"));case 24:return p.abrupt("return",o);case 25:case"end":return p.stop()}},r)})),uh.apply(this,arguments)}function JS(r){return new Promise(function(e){return setTimeout(e,r)})}function ke(r,e){var t=r.layout.span>=0?r.layout.span:Jy(r,e),n=ue.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}var QS=R.nu64("lamportsPerSignature"),e2=R.struct([R.u32("version"),R.u32("state"),Se("authorizedPubkey"),Se("nonce"),R.struct([QS],"feeCalculator")]),Dy=e2.span;var t2=function(e){var t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},r2=function(e){return function(t){var n=(0,Yy.blob)(e,t),i=t2(n),s=i.encode,o=i.decode,a=n;return a.decode=function(u,f){var y=o(u,f);return(0,qo.toBigIntLE)(ue.Buffer.from(y))},a.encode=function(u,f,y){var p=(0,qo.toBufferLE)(u,e);return s(p,f,y)},a}},As=r2(8);var xr=Object.freeze({Create:{index:0,layout:R.struct([R.u32("instruction"),R.ns64("lamports"),R.ns64("space"),Se("programId")])},Assign:{index:1,layout:R.struct([R.u32("instruction"),Se("programId")])},Transfer:{index:2,layout:R.struct([R.u32("instruction"),As("lamports")])},CreateWithSeed:{index:3,layout:R.struct([R.u32("instruction"),Se("base"),Bs("seed"),R.ns64("lamports"),R.ns64("space"),Se("programId")])},AdvanceNonceAccount:{index:4,layout:R.struct([R.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:R.struct([R.u32("instruction"),Se("authorized")])},AuthorizeNonceAccount:{index:7,layout:R.struct([R.u32("instruction"),Se("authorized")])},Allocate:{index:8,layout:R.struct([R.u32("instruction"),R.ns64("space")])},AllocateWithSeed:{index:9,layout:R.struct([R.u32("instruction"),Se("base"),Bs("seed"),R.ns64("space"),Se("programId")])},AssignWithSeed:{index:10,layout:R.struct([R.u32("instruction"),Se("base"),Bs("seed"),Se("programId")])},TransferWithSeed:{index:11,layout:R.struct([R.u32("instruction"),As("lamports"),Bs("seed"),Se("programId")])},UpgradeNonceAccount:{index:12,layout:R.struct([R.u32("instruction")])}}),Ir=function(){function r(){ut(this,r)}return ct(r,null,[{key:"createAccount",value:function(t){var n=xr.Create,i=ke(n,{lamports:t.lamports,space:t.space,programId:Ae(t.programId.toBuffer())});return new qe({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}},{key:"transfer",value:function(t){var n,i;if("basePubkey"in t){var s=xr.TransferWithSeed;n=ke(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:Ae(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{var o=xr.Transfer;n=ke(o,{lamports:BigInt(t.lamports)}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new qe({keys:i,programId:this.programId,data:n})}},{key:"assign",value:function(t){var n,i;if("basePubkey"in t){var s=xr.AssignWithSeed;n=ke(s,{base:Ae(t.basePubkey.toBuffer()),seed:t.seed,programId:Ae(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{var o=xr.Assign;n=ke(o,{programId:Ae(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new qe({keys:i,programId:this.programId,data:n})}},{key:"createAccountWithSeed",value:function(t){var n=xr.CreateWithSeed,i=ke(n,{base:Ae(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Ae(t.programId.toBuffer())}),s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new qe({keys:s,programId:this.programId,data:i})}},{key:"createNonceAccount",value:function(t){var n=new ht;"basePubkey"in t&&"seed"in t?n.add(r.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Dy,programId:this.programId})):n.add(r.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Dy,programId:this.programId}));var i={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}},{key:"nonceInitialize",value:function(t){var n=xr.InitializeNonceAccount,i=ke(n,{authorized:Ae(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:eh,isSigner:!1,isWritable:!1},{pubkey:Fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new qe(s)}},{key:"nonceAdvance",value:function(t){var n=xr.AdvanceNonceAccount,i=ke(n),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:eh,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new qe(s)}},{key:"nonceWithdraw",value:function(t){var n=xr.WithdrawNonceAccount,i=ke(n,{lamports:t.lamports});return new qe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:eh,isSigner:!1,isWritable:!1},{pubkey:Fo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"nonceAuthorize",value:function(t){var n=xr.AuthorizeNonceAccount,i=ke(n,{authorized:Ae(t.newAuthorizedPubkey.toBuffer())});return new qe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"allocate",value:function(t){var n,i;if("basePubkey"in t){var s=xr.AllocateWithSeed;n=ke(s,{base:Ae(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Ae(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{var o=xr.Allocate;n=ke(o,{space:t.space}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new qe({keys:i,programId:this.programId,data:n})}}]),r}();Ir.programId=new pe("11111111111111111111111111111111");var n2=Gu-300,i2=function(){function r(){ut(this,r)}return ct(r,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/r.chunkSize)+1+1)}},{key:"load",value:function(){var e=Zn(pr.default.mark(function n(i,s,o,a,u){var f,y,p,I,k,E,A,L,P,O,C,K,z,D,U,j,ee,re,Q,V,v;return pr.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.getMinimumBalanceForRentExemption(u.length);case 2:return f=l.sent,l.next=5,i.getAccountInfo(o.publicKey,"confirmed");case 5:if(y=l.sent,p=null,y===null){l.next=16;break}if(!y.executable){l.next=11;break}return console.error("Program load failed, account is already executable"),l.abrupt("return",!1);case 11:y.data.length!==u.length&&(p=p||new ht,p.add(Ir.allocate({accountPubkey:o.publicKey,space:u.length}))),y.owner.equals(a)||(p=p||new ht,p.add(Ir.assign({accountPubkey:o.publicKey,programId:a}))),y.lamports<f&&(p=p||new ht,p.add(Ir.transfer({fromPubkey:s.publicKey,toPubkey:o.publicKey,lamports:f-y.lamports}))),l.next=17;break;case 16:p=new ht().add(Ir.createAccount({fromPubkey:s.publicKey,newAccountPubkey:o.publicKey,lamports:f>0?f:1,space:u.length,programId:a}));case 17:if(p===null){l.next=20;break}return l.next=20,zy(i,p,[s,o],{commitment:"confirmed"});case 20:I=R.struct([R.u32("instruction"),R.u32("offset"),R.u32("bytesLength"),R.u32("bytesLengthPadding"),R.seq(R.u8("byte"),R.offset(R.u32(),-8),"bytes")]),k=r.chunkSize,E=0,A=u,L=[];case 25:if(!(A.length>0)){l.next=39;break}if(P=A.slice(0,k),O=ue.Buffer.alloc(k+16),I.encode({instruction:0,offset:E,bytes:P,bytesLength:0,bytesLengthPadding:0},O),C=new ht().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0}],programId:a,data:O}),L.push(zy(i,C,[s,o],{commitment:"confirmed"})),!i._rpcEndpoint.includes("solana.com")){l.next=35;break}return K=4,l.next=35,JS(1e3/K);case 35:E+=k,A=A.slice(k),l.next=25;break;case 39:return l.next=41,Promise.all(L);case 41:return z=R.struct([R.u32("instruction")]),D=ue.Buffer.alloc(z.span),z.encode({instruction:1},D),U=new ht().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0},{pubkey:Fo,isSigner:!1,isWritable:!1}],programId:a,data:D}),j="processed",l.next=48,i.sendTransaction(U,[s,o],{preflightCommitment:j});case 48:return ee=l.sent,l.next=51,i.confirmTransaction({signature:ee,lastValidBlockHeight:U.lastValidBlockHeight,blockhash:U.recentBlockhash},j);case 51:if(re=l.sent,Q=re.context,V=re.value,!V.err){l.next=56;break}throw new Error("Transaction ".concat(ee," failed (").concat(JSON.stringify(V),")"));case 56:return l.prev=57,l.next=60,i.getSlot({commitment:j});case 60:if(v=l.sent,!(v>Q.slot)){l.next=63;break}return l.abrupt("break",71);case 63:l.next=67;break;case 65:l.prev=65,l.t0=l.catch(57);case 67:return l.next=69,new Promise(function(d){return setTimeout(d,Math.round(XS/2))});case 69:l.next=56;break;case 71:return l.abrupt("return",!0);case 72:case"end":return l.stop()}},n,null,[[57,65]])}));function t(n,i,s,o,a){return e.apply(this,arguments)}return t}()}]),r}();i2.chunkSize=n2;var U3=new pe("BPFLoader2111111111111111111111111111111111");var z3=globalThis.fetch;var D3={index:1,layout:R.struct([R.u32("typeIndex"),As("deactivationSlot"),R.nu64("lastExtendedSlot"),R.u8("lastExtendedStartIndex"),R.u8(),R.seq(Se(),R.offset(R.u8(),-1),"authority")])};var rh;function Wy(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ky(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(t),!0).forEach(function(n){Ku(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Nt=br(Pn(pe),M(),function(r){return new pe(r)}),Qy=Cn([M(),oe("base64")]),hh=br(Pn(ue.Buffer),Qy,function(r){return ue.Buffer.from(r[0],"base64")}),W3=30*1e3;function eg(r){return Le([T({jsonrpc:oe("2.0"),id:M(),result:r}),T({jsonrpc:oe("2.0"),id:M(),error:T({code:mr(),message:M(),data:Y(Ha())})})])}var s2=eg(mr());function Ne(r){return br(eg(r),s2,function(e){return"error"in e?e:Ky(Ky({},e),{},{result:_r(e.result,r)})})}function Br(r){return Ne(T({context:T({slot:x()}),value:r}))}function Zu(r){return T({context:T({slot:x()}),value:r})}var o2=T({foundation:x(),foundationTerm:x(),initial:x(),taper:x(),terminal:x()}),K3=Ne(F(W(T({epoch:x(),effectiveSlot:x(),amount:x(),postBalance:x(),commission:Y(W(x()))})))),a2=F(T({slot:x(),prioritizationFee:x()})),u2=T({total:x(),validator:x(),foundation:x(),epoch:x()}),c2=T({epoch:x(),slotIndex:x(),slotsInEpoch:x(),absoluteSlot:x(),blockHeight:Y(x()),transactionCount:Y(x())}),f2=T({slotsPerEpoch:x(),leaderScheduleSlotOffset:x(),warmup:lt(),firstNormalEpoch:x(),firstNormalSlot:x()}),l2=$i(M(),F(x())),Ei=W(Le([T({}),M()])),h2=T({err:Ei}),d2=oe("receivedSignature"),F3=T({"solana-core":M(),"feature-set":Y(x())}),q3=Br(T({err:W(Le([T({}),M()])),logs:W(F(M())),accounts:Y(W(F(W(T({executable:lt(),owner:M(),lamports:x(),data:F(M()),rentEpoch:Y(x())}))))),unitsConsumed:Y(x()),returnData:Y(W(T({programId:M(),data:Cn([M(),oe("base64")])})))})),H3=Br(T({byIdentity:$i(M(),F(x())),range:T({firstSlot:x(),lastSlot:x()})}));var j3=Ne(o2),$3=Ne(u2),V3=Ne(a2),G3=Ne(c2),Y3=Ne(f2),Z3=Ne(l2),X3=Ne(x()),J3=Br(T({total:x(),circulating:x(),nonCirculating:x(),nonCirculatingAccounts:F(Nt)})),p2=T({amount:M(),uiAmount:W(x()),decimals:x(),uiAmountString:Y(M())}),Q3=Br(F(T({address:Nt,amount:M(),uiAmount:W(x()),decimals:x(),uiAmountString:Y(M())}))),e8=Br(F(T({pubkey:Nt,account:T({executable:lt(),owner:Nt,lamports:x(),data:hh,rentEpoch:x()})}))),ch=T({program:M(),parsed:mr(),space:x()}),t8=Br(F(T({pubkey:Nt,account:T({executable:lt(),owner:Nt,lamports:x(),data:ch,rentEpoch:x()})}))),r8=Br(F(T({lamports:x(),address:Nt}))),dh=T({executable:lt(),owner:Nt,lamports:x(),data:hh,rentEpoch:x()}),n8=T({pubkey:Nt,account:dh}),y2=br(Le([Pn(ue.Buffer),ch]),Le([Qy,ch]),function(r){return Array.isArray(r)?_r(r,hh):r}),g2=T({executable:lt(),owner:Nt,lamports:x(),data:y2,rentEpoch:x()}),i8=T({pubkey:Nt,account:g2}),s8=T({state:Le([oe("active"),oe("inactive"),oe("activating"),oe("deactivating")]),active:x(),inactive:x()}),o8=Ne(F(T({signature:M(),slot:x(),err:Ei,memo:W(M()),blockTime:Y(W(x()))}))),a8=Ne(F(T({signature:M(),slot:x(),err:Ei,memo:W(M()),blockTime:Y(W(x()))}))),u8=T({subscription:x(),result:Zu(dh)}),m2=T({pubkey:Nt,account:dh}),c8=T({subscription:x(),result:Zu(m2)}),b2=T({parent:x(),slot:x(),root:x()}),f8=T({subscription:x(),result:b2}),w2=Le([T({type:Le([oe("firstShredReceived"),oe("completed"),oe("optimisticConfirmation"),oe("root")]),slot:x(),timestamp:x()}),T({type:oe("createdBank"),parent:x(),slot:x(),timestamp:x()}),T({type:oe("frozen"),slot:x(),timestamp:x(),stats:T({numTransactionEntries:x(),numSuccessfulTransactions:x(),numFailedTransactions:x(),maxTransactionsPerEntry:x()})}),T({type:oe("dead"),slot:x(),timestamp:x(),err:M()})]),l8=T({subscription:x(),result:w2}),h8=T({subscription:x(),result:Zu(Le([h2,d2]))}),d8=T({subscription:x(),result:x()}),p8=T({pubkey:M(),gossip:W(M()),tpu:W(M()),rpc:W(M()),version:W(M())}),Fy=T({votePubkey:M(),nodePubkey:M(),activatedStake:x(),epochVoteAccount:lt(),epochCredits:F(Cn([x(),x(),x()])),commission:x(),lastVote:x(),rootSlot:W(x())}),y8=Ne(T({current:F(Fy),delinquent:F(Fy)})),v2=Le([oe("processed"),oe("confirmed"),oe("finalized")]),k2=T({slot:x(),confirmations:W(x()),err:Ei,confirmationStatus:Y(v2)}),g8=Br(F(W(k2))),m8=Ne(x()),tg=T({accountKey:Nt,writableIndexes:F(x()),readonlyIndexes:F(x())}),ph=T({signatures:F(M()),message:T({accountKeys:F(M()),header:T({numRequiredSignatures:x(),numReadonlySignedAccounts:x(),numReadonlyUnsignedAccounts:x()}),instructions:F(T({accounts:F(x()),data:M(),programIdIndex:x()})),recentBlockhash:M(),addressTableLookups:Y(F(tg))})}),rg=T({pubkey:Nt,signer:lt(),writable:lt(),source:Y(Le([oe("transaction"),oe("lookupTable")]))}),ng=T({accountKeys:F(rg),signatures:F(M())}),ig=T({parsed:mr(),program:M(),programId:Nt}),sg=T({accounts:F(Nt),data:M(),programId:Nt}),S2=Le([sg,ig]),x2=Le([T({parsed:mr(),program:M(),programId:M()}),T({accounts:F(M()),data:M(),programId:M()})]),og=br(S2,x2,function(r){return"accounts"in r?_r(r,sg):_r(r,ig)}),ag=T({signatures:F(M()),message:T({accountKeys:F(rg),instructions:F(og),recentBlockhash:M(),addressTableLookups:Y(W(F(tg)))})}),Yu=T({accountIndex:x(),mint:M(),owner:Y(M()),uiTokenAmount:p2}),ug=T({writable:F(Nt),readonly:F(Nt)}),Xu=T({err:Ei,fee:x(),innerInstructions:Y(W(F(T({index:x(),instructions:F(T({accounts:F(x()),data:M(),programIdIndex:x()}))})))),preBalances:F(x()),postBalances:F(x()),logMessages:Y(W(F(M()))),preTokenBalances:Y(W(F(Yu))),postTokenBalances:Y(W(F(Yu))),loadedAddresses:Y(ug),computeUnitsConsumed:Y(x())}),yh=T({err:Ei,fee:x(),innerInstructions:Y(W(F(T({index:x(),instructions:F(og)})))),preBalances:F(x()),postBalances:F(x()),logMessages:Y(W(F(M()))),preTokenBalances:Y(W(F(Yu))),postTokenBalances:Y(W(F(Yu))),loadedAddresses:Y(ug),computeUnitsConsumed:Y(x())}),_s=Le([oe(0),oe("legacy")]),_i=T({pubkey:M(),lamports:x(),postBalance:W(x()),rewardType:W(M()),commission:Y(W(x()))}),b8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:ph,meta:W(Xu),version:Y(_s)})),rewards:Y(F(_i)),blockTime:W(x()),blockHeight:W(x())}))),w8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),rewards:Y(F(_i)),blockTime:W(x()),blockHeight:W(x())}))),v8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:ng,meta:W(Xu),version:Y(_s)})),rewards:Y(F(_i)),blockTime:W(x()),blockHeight:W(x())}))),k8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:ag,meta:W(yh),version:Y(_s)})),rewards:Y(F(_i)),blockTime:W(x()),blockHeight:W(x())}))),S8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:ng,meta:W(yh),version:Y(_s)})),rewards:Y(F(_i)),blockTime:W(x()),blockHeight:W(x())}))),x8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),rewards:Y(F(_i)),blockTime:W(x()),blockHeight:W(x())}))),I8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),transactions:F(T({transaction:ph,meta:W(Xu)})),rewards:Y(F(_i)),blockTime:W(x())}))),B8=Ne(W(T({blockhash:M(),previousBlockhash:M(),parentSlot:x(),signatures:F(M()),blockTime:W(x())}))),A8=Ne(W(T({slot:x(),meta:Xu,blockTime:Y(W(x())),transaction:ph,version:Y(_s)}))),E8=Ne(W(T({slot:x(),transaction:ag,meta:W(yh),blockTime:Y(W(x())),version:Y(_s)}))),_8=Br(T({blockhash:M(),feeCalculator:T({lamportsPerSignature:x()})})),L8=Br(T({blockhash:M(),lastValidBlockHeight:x()})),R8=Br(lt()),I2=T({slot:x(),numTransactions:x(),numSlots:x(),samplePeriodSecs:x()}),T8=Ne(F(I2)),P8=Br(W(T({feeCalculator:T({lamportsPerSignature:x()})}))),C8=Ne(M()),M8=Ne(M()),B2=T({err:Ei,logs:F(M()),signature:M()}),O8=T({result:Zu(B2),subscription:x()}),N8={"solana-client":"js/".concat((rh="0.0.0-development")!==null&&rh!==void 0?rh:"UNKNOWN")};var A2=function(){function r(e){ut(this,r),this._keypair=void 0,this._keypair=e!=null?e:_y()}return ct(r,[{key:"publicKey",get:function(){return new pe(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new r(_y())}},{key:"fromSecretKey",value:function(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");var i=t.slice(32,64);if(!n||!n.skipValidation){for(var s=t.slice(0,32),o=oh(s),a=0;a<32;a++)if(i[a]!==o[a])throw new Error("provided secretKey is invalid")}return new r({publicKey:i,secretKey:t})}},{key:"fromSeed",value:function(t){var n=oh(t),i=new Uint8Array(64);return i.set(t),i.set(n,32),new r({publicKey:n,secretKey:i})}}]),r}(),Do=Object.freeze({CreateLookupTable:{index:0,layout:R.struct([R.u32("instruction"),As("recentSlot"),R.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:R.struct([R.u32("instruction")])},ExtendLookupTable:{index:2,layout:R.struct([R.u32("instruction"),As(),R.seq(Se(),R.offset(R.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:R.struct([R.u32("instruction")])},CloseLookupTable:{index:4,layout:R.struct([R.u32("instruction")])}});var E2=function(){function r(){ut(this,r)}return ct(r,null,[{key:"createLookupTable",value:function(t){var n=pe.findProgramAddressSync([t.authority.toBuffer(),(0,qo.toBufferLE)(BigInt(t.recentSlot),8)],this.programId),i=Wt(n,2),s=i[0],o=i[1],a=Do.CreateLookupTable,u=ke(a,{recentSlot:BigInt(t.recentSlot),bumpSeed:o}),f=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ir.programId,isSigner:!1,isWritable:!1}];return[new qe({programId:this.programId,keys:f,data:u}),s]}},{key:"freezeLookupTable",value:function(t){var n=Do.FreezeLookupTable,i=ke(n),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new qe({programId:this.programId,keys:s,data:i})}},{key:"extendLookupTable",value:function(t){var n=Do.ExtendLookupTable,i=ke(n,{addresses:t.addresses.map(function(o){return o.toBytes()})}),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&s.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ir.programId,isSigner:!1,isWritable:!1}),new qe({programId:this.programId,keys:s,data:i})}},{key:"deactivateLookupTable",value:function(t){var n=Do.DeactivateLookupTable,i=ke(n),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new qe({programId:this.programId,keys:s,data:i})}},{key:"closeLookupTable",value:function(t){var n=Do.CloseLookupTable,i=ke(n),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new qe({programId:this.programId,keys:s,data:i})}}]),r}();E2.programId=new pe("AddressLookupTab1e1111111111111111111111111");var ju=Object.freeze({RequestUnits:{index:0,layout:R.struct([R.u8("instruction"),R.u32("units"),R.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:R.struct([R.u8("instruction"),R.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:R.struct([R.u8("instruction"),R.u32("units")])},SetComputeUnitPrice:{index:3,layout:R.struct([R.u8("instruction"),As("microLamports")])}}),_2=function(){function r(){ut(this,r)}return ct(r,null,[{key:"requestUnits",value:function(t){var n=ju.RequestUnits,i=ke(n,t);return new qe({keys:[],programId:this.programId,data:i})}},{key:"requestHeapFrame",value:function(t){var n=ju.RequestHeapFrame,i=ke(n,t);return new qe({keys:[],programId:this.programId,data:i})}},{key:"setComputeUnitLimit",value:function(t){var n=ju.SetComputeUnitLimit,i=ke(n,t);return new qe({keys:[],programId:this.programId,data:i})}},{key:"setComputeUnitPrice",value:function(t){var n=ju.SetComputeUnitPrice,i=ke(n,{microLamports:BigInt(t.microLamports)});return new qe({keys:[],programId:this.programId,data:i})}}]),r}();_2.programId=new pe("ComputeBudget111111111111111111111111111111");var qy=64,Hy=32,jy=64,$y=R.struct([R.u8("numSignatures"),R.u8("padding"),R.u16("signatureOffset"),R.u16("signatureInstructionIndex"),R.u16("publicKeyOffset"),R.u16("publicKeyInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u16("messageInstructionIndex")]),L2=function(){function r(){ut(this,r)}return ct(r,null,[{key:"createInstructionWithPublicKey",value:function(t){var n=t.publicKey,i=t.message,s=t.signature,o=t.instructionIndex;Ot(n.length===Hy,"Public Key must be ".concat(Hy," bytes but received ").concat(n.length," bytes")),Ot(s.length===jy,"Signature must be ".concat(jy," bytes but received ").concat(s.length," bytes"));var a=$y.span,u=a+n.length,f=u+s.length,y=1,p=ue.Buffer.alloc(f+i.length),I=o==null?65535:o;return $y.encode({numSignatures:y,padding:0,signatureOffset:u,signatureInstructionIndex:I,publicKeyOffset:a,publicKeyInstructionIndex:I,messageDataOffset:f,messageDataSize:i.length,messageInstructionIndex:I},p),p.fill(n,a),p.fill(s,u),p.fill(i,f),new qe({keys:[],programId:r.programId,data:p})}},{key:"createInstructionWithPrivateKey",value:function(t){var n=t.privateKey,i=t.message,s=t.instructionIndex;Ot(n.length===qy,"Private key must be ".concat(qy," bytes but received ").concat(n.length," bytes"));try{var o=A2.fromSecretKey(n),a=o.publicKey.toBytes(),u=Zy(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:i,signature:u,instructionIndex:s})}catch(f){throw new Error("Error creating instruction; ".concat(f))}}}]),r}();L2.programId=new pe("Ed25519SigVerify111111111111111111111111111");var R2=function(e,t){var n=zo.sign(e,t);return[n.toCompactRawBytes(),n.recovery]};zo.utils.isValidPrivateKey;var T2=zo.getPublicKey,Vy=32,nh=20,Gy=64,P2=11,ih=R.struct([R.u8("numSignatures"),R.u16("signatureOffset"),R.u8("signatureInstructionIndex"),R.u16("ethAddressOffset"),R.u8("ethAddressInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u8("messageInstructionIndex"),R.blob(20,"ethAddress"),R.blob(64,"signature"),R.u8("recoveryId")]),C2=function(){function r(){ut(this,r)}return ct(r,null,[{key:"publicKeyToEthAddress",value:function(t){Ot(t.length===Gy,"Public key must be ".concat(Gy," bytes but received ").concat(t.length," bytes"));try{return ue.Buffer.from(Yl(Ae(t))).slice(-nh)}catch(n){throw new Error("Error constructing Ethereum address: ".concat(n))}}},{key:"createInstructionWithPublicKey",value:function(t){var n=t.publicKey,i=t.message,s=t.signature,o=t.recoveryId,a=t.instructionIndex;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(n),message:i,signature:s,recoveryId:o,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(t){var n=t.ethAddress,i=t.message,s=t.signature,o=t.recoveryId,a=t.instructionIndex,u=a===void 0?0:a,f;typeof n=="string"?n.startsWith("0x")?f=ue.Buffer.from(n.substr(2),"hex"):f=ue.Buffer.from(n,"hex"):f=n,Ot(f.length===nh,"Address must be ".concat(nh," bytes but received ").concat(f.length," bytes"));var y=1+P2,p=y,I=y+f.length,k=I+s.length+1,E=1,A=ue.Buffer.alloc(ih.span+i.length);return ih.encode({numSignatures:E,signatureOffset:I,signatureInstructionIndex:u,ethAddressOffset:p,ethAddressInstructionIndex:u,messageDataOffset:k,messageDataSize:i.length,messageInstructionIndex:u,signature:Ae(s),ethAddress:Ae(f),recoveryId:o},A),A.fill(Ae(i),ih.span),new qe({keys:[],programId:r.programId,data:A})}},{key:"createInstructionWithPrivateKey",value:function(t){var n=t.privateKey,i=t.message,s=t.instructionIndex;Ot(n.length===Vy,"Private key must be ".concat(Vy," bytes but received ").concat(n.length," bytes"));try{var o=Ae(n),a=T2(o,!1).slice(1),u=ue.Buffer.from(Yl(Ae(i))),f=R2(u,o),y=Wt(f,2),p=y[0],I=y[1];return this.createInstructionWithPublicKey({publicKey:a,message:i,signature:p,recoveryId:I,instructionIndex:s})}catch(k){throw new Error("Error creating instruction; ".concat(k))}}}]),r}();C2.programId=new pe("KeccakSecp256k11111111111111111111111111111");var M2=new pe("StakeConfig11111111111111111111111111111111");var fh=ct(function r(e,t,n){ut(this,r),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n});fh.default=new fh(0,0,pe.default);var ri=Object.freeze({Initialize:{index:0,layout:R.struct([R.u32("instruction"),DS(),WS()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),Se("newAuthorized"),R.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:R.struct([R.u32("instruction")])},Split:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Withdraw:{index:4,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Deactivate:{index:5,layout:R.struct([R.u32("instruction")])},Merge:{index:7,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:R.struct([R.u32("instruction"),Se("newAuthorized"),R.u32("stakeAuthorizationType"),Bs("authoritySeed"),Se("authorityOwner")])}}),U8=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),cg=function(){function r(){ut(this,r)}return ct(r,null,[{key:"initialize",value:function(t){var n=t.stakePubkey,i=t.authorized,s=t.lockup,o=s||fh.default,a=ri.Initialize,u=ke(a,{authorized:{staker:Ae(i.staker.toBuffer()),withdrawer:Ae(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Ae(o.custodian.toBuffer())}}),f={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new qe(f)}},{key:"createAccountWithSeed",value:function(t){var n=new ht;n.add(Ir.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));var i=t.stakePubkey,s=t.authorized,o=t.lockup;return n.add(this.initialize({stakePubkey:i,authorized:s,lockup:o}))}},{key:"createAccount",value:function(t){var n=new ht;n.add(Ir.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));var i=t.stakePubkey,s=t.authorized,o=t.lockup;return n.add(this.initialize({stakePubkey:i,authorized:s,lockup:o}))}},{key:"delegate",value:function(t){var n=t.stakePubkey,i=t.authorizedPubkey,s=t.votePubkey,o=ri.Delegate,a=ke(o);return new ht().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:th,isSigner:!1,isWritable:!1},{pubkey:M2,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"authorize",value:function(t){var n=t.stakePubkey,i=t.authorizedPubkey,s=t.newAuthorizedPubkey,o=t.stakeAuthorizationType,a=t.custodianPubkey,u=ri.Authorize,f=ke(u,{newAuthorized:Ae(s.toBuffer()),stakeAuthorizationType:o.index}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return a&&y.push({pubkey:a,isSigner:!1,isWritable:!1}),new ht().add({keys:y,programId:this.programId,data:f})}},{key:"authorizeWithSeed",value:function(t){var n=t.stakePubkey,i=t.authorityBase,s=t.authoritySeed,o=t.authorityOwner,a=t.newAuthorizedPubkey,u=t.stakeAuthorizationType,f=t.custodianPubkey,y=ri.AuthorizeWithSeed,p=ke(y,{newAuthorized:Ae(a.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:s,authorityOwner:Ae(o.toBuffer())}),I=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1}];return f&&I.push({pubkey:f,isSigner:!1,isWritable:!1}),new ht().add({keys:I,programId:this.programId,data:p})}},{key:"splitInstruction",value:function(t){var n=t.stakePubkey,i=t.authorizedPubkey,s=t.splitStakePubkey,o=t.lamports,a=ri.Split,u=ke(a,{lamports:o});return new qe({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}},{key:"split",value:function(t){var n=new ht;return n.add(Ir.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}},{key:"splitWithSeed",value:function(t){var n=t.stakePubkey,i=t.authorizedPubkey,s=t.splitStakePubkey,o=t.basePubkey,a=t.seed,u=t.lamports,f=new ht;return f.add(Ir.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),f.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:u}))}},{key:"merge",value:function(t){var n=t.stakePubkey,i=t.sourceStakePubKey,s=t.authorizedPubkey,o=ri.Merge,a=ke(o);return new ht().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:th,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"withdraw",value:function(t){var n=t.stakePubkey,i=t.authorizedPubkey,s=t.toPubkey,o=t.lamports,a=t.custodianPubkey,u=ri.Withdraw,f=ke(u,{lamports:o}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:th,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return a&&y.push({pubkey:a,isSigner:!1,isWritable:!1}),new ht().add({keys:y,programId:this.programId,data:f})}},{key:"deactivate",value:function(t){var n=t.stakePubkey,i=t.authorizedPubkey,s=ri.Deactivate,o=ke(s);return new ht().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}]),r}();cg.programId=new pe("Stake11111111111111111111111111111111111111");cg.space=200;var $u=Object.freeze({InitializeAccount:{index:0,layout:R.struct([R.u32("instruction"),KS()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),Se("newAuthorized"),R.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:R.struct([R.u32("instruction"),FS()])}}),z8=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),fg=function(){function r(){ut(this,r)}return ct(r,null,[{key:"initializeAccount",value:function(t){var n=t.votePubkey,i=t.nodePubkey,s=t.voteInit,o=$u.InitializeAccount,a=ke(o,{voteInit:{nodePubkey:Ae(s.nodePubkey.toBuffer()),authorizedVoter:Ae(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Ae(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),u={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Fo,isSigner:!1,isWritable:!1},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new qe(u)}},{key:"createAccount",value:function(t){var n=new ht;return n.add(Ir.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}},{key:"authorize",value:function(t){var n=t.votePubkey,i=t.authorizedPubkey,s=t.newAuthorizedPubkey,o=t.voteAuthorizationType,a=$u.Authorize,u=ke(a,{newAuthorized:Ae(s.toBuffer()),voteAuthorizationType:o.index}),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new ht().add({keys:f,programId:this.programId,data:u})}},{key:"authorizeWithSeed",value:function(t){var n=t.currentAuthorityDerivedKeyBasePubkey,i=t.currentAuthorityDerivedKeyOwnerPubkey,s=t.currentAuthorityDerivedKeySeed,o=t.newAuthorizedPubkey,a=t.voteAuthorizationType,u=t.votePubkey,f=$u.AuthorizeWithSeed,y=ke(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ae(i.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Ae(o.toBuffer()),voteAuthorizationType:a.index}}),p=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ht().add({keys:p,programId:this.programId,data:y})}},{key:"withdraw",value:function(t){var n=t.votePubkey,i=t.authorizedWithdrawerPubkey,s=t.lamports,o=t.toPubkey,a=$u.Withdraw,u=ke(a,{lamports:s}),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new ht().add({keys:f,programId:this.programId,data:u})}},{key:"safeWithdraw",value:function(t,n,i){if(t.lamports>n-i)throw new Error("Withdraw will leave vote account with insuffcient funds.");return r.withdraw(t)}}]),r}();fg.programId=new pe("Vote111111111111111111111111111111111111111");fg.space=3731;var D8=new pe("Va1idator1nfo111111111111111111111111111111"),W8=T({name:M(),website:Y(M()),details:Y(M()),keybaseUsername:Y(M())});var K8=new pe("Vote111111111111111111111111111111111111111"),F8=R.struct([Se("nodePubkey"),Se("authorizedWithdrawer"),R.u8("commission"),R.nu64(),R.seq(R.struct([R.nu64("slot"),R.u32("confirmationCount")]),R.offset(R.u32(),-8),"votes"),R.u8("rootSlotValid"),R.nu64("rootSlot"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),Se("authorizedVoter")]),R.offset(R.u32(),-8),"authorizedVoters"),R.struct([R.seq(R.struct([Se("authorizedPubkey"),R.nu64("epochOfLastAuthorizedSwitch"),R.nu64("targetEpoch")]),32,"buf"),R.nu64("idx"),R.u8("isEmpty")],"priorVoters"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),R.nu64("credits"),R.nu64("prevCredits")]),R.offset(R.u32(),-8),"epochCredits"),R.struct([R.nu64("slot"),R.nu64("timestamp")],"lastTimestamp")]);var pn,jo,Ls,Ju=class extends lg.default{constructor(){super();Zo(this,pn,null);Zo(this,jo,1);Zo(this,Ls,t=>{let n;return typeof t.serializeMessage=="function"?n=t.serializeMessage():n=t.message.serialize(),Ho.default.encode(n)});Mr(this,"sendMessage",async t=>new Promise((n,i)=>{let s=o=>{o.detail.id===t.id&&(window.removeEventListener("salmon_contentscript_message",s),o.detail.error?i(o.detail):n(o.detail))};window.addEventListener("salmon_contentscript_message",s),window.dispatchEvent(new CustomEvent("salmon_injected_script_message",{detail:t}))}));Mr(this,"sendRequest",async(t,n)=>{try{return await this.sendMessage({jsonrpc:"2.0",id:Rh(this,jo)._++,method:t,params:n})}catch({error:i}){throw new Error(i)}});Mr(this,"connect",async t=>{let{method:n,params:i}=await this.sendRequest("connect",{options:t});if(n==="connected")return Li(this,pn,new pe(i.publicKey)),{publicKey:gn(this,pn)};throw new Error("Not connected")});Mr(this,"disconnect",async()=>{let{method:t}=await this.sendRequest("disconnect",{});if(t==="disconnected")Li(this,pn,null);else throw new Error("Not disconnected")});Mr(this,"signAndSendTransaction",async(t,n,i)=>{let{result:s}=await this.sendRequest("signAndSendTransaction",{message:gn(this,Ls).call(this,t),network:n,options:i});return s});Mr(this,"signTransaction",async(t,n)=>{let{result:i}=await this.sendRequest("signTransaction",{message:gn(this,Ls).call(this,t),network:n}),s=Ho.default.decode(i.signature),o=new pe(i.publicKey);return t.addSignature(o,s),t});Mr(this,"signAllTransactions",async(t,n)=>{let{result:i}=await this.sendRequest("signAllTransactions",{messages:t.map(gn(this,Ls)),network:n}),s=i.signatures.map(a=>Ho.default.decode(a)),o=new pe(i.publicKey);return t=t.map((a,u)=>(a.addSignature(o,s[u]),a)),t});Mr(this,"signMessage",async t=>{if(!(t instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");let{result:n}=await this.sendRequest("sign",{data:t});return{signature:Ho.default.decode(n.signature)}});Mr(this,"postMessage",async t=>{try{let n=await this.sendMessage(t);window.postMessage(n)}catch(n){window.postMessage(n)}});Li(this,pn,null),Li(this,jo,1)}get publicKey(){return gn(this,pn)}get isConnected(){return gn(this,pn)!==null}};pn=new WeakMap,jo=new WeakMap,Ls=new WeakMap;var hg=new Ju;E0(hg);try{Object.defineProperty(window,"salmon",{value:hg})}catch(r){console.error(r)}})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */
